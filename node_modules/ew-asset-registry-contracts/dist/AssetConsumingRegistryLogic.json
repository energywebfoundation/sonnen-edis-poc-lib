{"abi":[{"constant":false,"inputs":[{"name":"_newLogic","type":"address"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getLastMeterReadingAndHash","outputs":[{"name":"_lastSmartMeterReadWh","type":"uint256"},{"name":"_lastSmartMeterReadFileHash","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"getAssetBySmartMeter","outputs":[{"components":[{"components":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"name":"assetGeneral","type":"tuple"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"userContractLookup","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"checkAssetExist","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"db","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_new","type":"address"}],"name":"addMatcher","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_marketContractLookup","type":"address"}],"name":"setMarketLookupContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"checkAssetExistExternal","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_newMeterRead","type":"uint256"},{"name":"_lastSmartMeterReadFileHash","type":"string"}],"name":"saveSmartMeterRead","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_remove","type":"address"}],"name":"removeMatcher","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetGeneral","outputs":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAssetListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetById","outputs":[{"components":[{"components":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"name":"assetGeneral","type":"tuple"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_role","type":"uint8"},{"name":"_caller","type":"address"}],"name":"isRole","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getMarketLookupContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_active","type":"bool"}],"name":"setActive","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_smartMeter","type":"address"},{"name":"_owner","type":"address"},{"name":"_active","type":"bool"},{"name":"_matcher","type":"address[]"},{"name":"_propertiesDocumentHash","type":"string"},{"name":"_url","type":"string"}],"name":"createAsset","outputs":[{"name":"_assetId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_dbAddress","type":"address"},{"name":"","type":"address"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getMatcher","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_userContractLookup","type":"address"},{"name":"_assetContractLookup","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"},{"indexed":false,"name":"_oldMeterRead","type":"uint256"},{"indexed":false,"name":"_newMeterRead","type":"uint256"}],"name":"LogNewMeterRead","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_sender","type":"address"},{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetFullyInitialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetSetActive","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetSetInactive","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b5060405160408062002c2683398101806040526200003391908101906200007a565b60008054600160a060020a03928316600160a060020a03199182161790915560018054929093169116179055620000e5565b6000620000738251620000cc565b9392505050565b600080604083850312156200008e57600080fd5b60006200009c858562000065565b9250506020620000af8582860162000065565b9150509250929050565b6000620000c682620000d9565b92915050565b6000620000c682620000b9565b600160a060020a031690565b612b3180620000f56000396000f3fe608060405234801561001057600080fd5b50600436106101aa576000357c010000000000000000000000000000000000000000000000000000000090048063a7bfad8811610100578063bb5a389e116100a9578063ec0a14f611610083578063ec0a14f61461036f578063f09a401614610382578063f78708b914610395576101aa565b8063bb5a389e14610336578063d3b9eadf14610349578063e60a955d1461035c576101aa565b8063ade1e992116100da578063ade1e992146102e5578063ae51439c1461030e578063b3e444a714610323576101aa565b8063a7bfad88146102ac578063ab03248f146102bf578063ac9ec458146102d2576101aa565b80634d655aff116101625780638d5802e21161013c5780638d5802e2146102715780638da5cb5b14610291578063a6f9dae114610299576101aa565b80634d655aff14610243578063616307611461024b5780638b0fec761461025e576101aa565b80633f6409e1116101935780633f6409e1146101ee57806344724c8c1461020e5780634aa94c1214610223576101aa565b80631c1b8772146101af5780633928c220146101c4575b600080fd5b6101c26101bd366004611e81565b6103b5565b005b6101d76101d23660046120b8565b61046e565b6040516101e592919061296e565b60405180910390f35b6102016101fc366004611e81565b61051a565b6040516101e59190612919565b6102166105c5565b6040516101e5919061284b565b610236610231366004611e81565b6105d4565b6040516101e5919061283d565b61021661067e565b6101c26102593660046120f4565b61068d565b6101c261026c3660046120f4565b610951565b61028461027f3660046120b8565b610a9a565b6040516101e5919061275f565b610284610b42565b6101c26102a7366004611e81565b610b51565b6102366102ba366004611e81565b610c16565b6101c26102cd36600461218b565b610c21565b6101c26102e03660046120f4565b610c62565b6102f86102f33660046120b8565b610df1565b6040516101e59a9998979695949392919061277b565b610316610efd565b6040516101e5919061292a565b6102016103313660046120b8565b610f98565b61023661034436600461202f565b610fe9565b6102846103573660046120b8565b611146565b6101c261036a366004612113565b6111e0565b61031661037d366004611eff565b61130d565b6101c2610390366004611ec5565b61155b565b6103a86103a33660046120b8565b6115d3565b6040516101e5919061282c565b600054600160a060020a031633146103f057604051600080516020612ad883398151915281526004016103e7906128b9565b60405180910390fd5b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae19061043990849060040161275f565b600060405180830381600087803b15801561045357600080fd5b505af1158015610467573d6000803e3d6000fd5b5050505050565b6002546040517f3928c220000000000000000000000000000000000000000000000000000000008152600091606091600160a060020a0390911690633928c220906104bd90869060040161292a565b60006040518083038186803b1580156104d557600080fd5b505afa1580156104e9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105119190810190612143565b91509150915091565b610522611a5f565b6002546040517f3f6409e1000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f6409e19061056b90859060040161275f565b60006040518083038186803b15801561058357600080fd5b505afa158015610597573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105bf9190810190612083565b92915050565b600154600160a060020a031681565b6002546040517f3f6409e10000000000000000000000000000000000000000000000000000000081526000916105bf91600160a060020a0390911690633f6409e19061062490869060040161275f565b60006040518083038186803b15801561063c57600080fd5b505afa158015610650573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106789190810190612083565b51611671565b600254600160a060020a031681565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e2906106d690859060040161292a565b60206040518083038186803b1580156106ee57600080fd5b505afa158015610702573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107269190810190611ea7565b600160a060020a0316331461075557604051600080516020612ad883398151915281526004016103e790612859565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b99061079f90869060040161292a565b60006040518083038186803b1580156107b757600080fd5b505afa1580156107cb573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526107f39190810190611fdc565b8051909150600181011161080357fe5b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561086c57600080fd5b505afa158015610880573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506108a491908101906120d6565b815160010111156108cf57604051600080516020612ad883398151915281526004016103e790612889565b6002546040517f61630761000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063616307619061091a9086908690600401612938565b600060405180830381600087803b15801561093457600080fd5b505af1158015610948573d6000803e3d6000fd5b50505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e29061099a90859060040161292a565b60206040518083038186803b1580156109b257600080fd5b505afa1580156109c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506109ea9190810190611ea7565b600160a060020a03163314610a1957604051600080516020612ad883398151915281526004016103e790612909565b6002546040517f8b0fec76000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638b0fec7690610a649085908590600401612938565b600060405180830381600087803b158015610a7e57600080fd5b505af1158015610a92573d6000803e3d6000fd5b505050505050565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063ade1e99290610ae490859060040161292a565b60006040518083038186803b158015610afc57600080fd5b505afa158015610b10573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b38919081019061204e565b6020015192915050565b600054600160a060020a031681565b600054600160a060020a03163314610b8357604051600080516020612ad883398151915281526004016103e7906128b9565b600160a060020a0381161515610bb357604051600080516020612ad883398151915281526004016103e790612869565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610c0b90839061275f565b60405180910390a150565b60006105bf826105d4565b610467848484848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061170e92505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610cab90859060040161292a565b60206040518083038186803b158015610cc357600080fd5b505afa158015610cd7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cfb9190810190611ea7565b600160a060020a03163314610d2a57604051600080516020612ad883398151915281526004016103e790612899565b6002546040517f69f428dc000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906369f428dc90610d759085908590600401612938565b602060405180830381600087803b158015610d8f57600080fd5b505af1158015610da3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610dc79190810190612011565b1515610ded57604051600080516020612ad883398151915281526004016103e7906128e9565b5050565b600080600080606080606080600080610e08611a79565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e99290610e51908f9060040161292a565b60006040518083038186803b158015610e6957600080fd5b505afa158015610e7d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610ea5919081019061204e565b905080600001519a50806020015199508060400151985080606001519750806080015196508060a0015195508060c0015194508060e00151935080610100015192508061012001519150509193959799509193959799565b600254604080517fae51439c0000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ae51439c916004808301926020929190829003018186803b158015610f5b57600080fd5b505afa158015610f6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f9391908101906120d6565b905090565b610fa0611a5f565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a79061056b90859060040161292a565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561105657600080fd5b505afa15801561106a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061108e9190810190611ea7565b600160a060020a031663265209f2846040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016110d5919061275f565b60206040518083038186803b1580156110ed57600080fd5b505afa158015611101573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061112591908101906120d6565b9050600084600581111561113557fe5b60020a919091161515949350505050565b6002546040517fd3b9eadf000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063d3b9eadf9061119090859060040161292a565b60206040518083038186803b1580156111a857600080fd5b505afa1580156111bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105bf9190810190611ea7565b600254600160a060020a031615156111f757600080fd5b60016112038133610fe9565b151561122957604051600080516020612ad883398151915281526004016103e7906128a9565b6002546040517fe60a955d000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063e60a955d906112749086908690600401612953565b600060405180830381600087803b15801561128e57600080fd5b505af11580156112a2573d6000803e3d6000fd5b5050505081156112dc5760405183907fbb4a2f3fc0f65f1ee98dc140226f7718191ba94892efdc55613785ccbf00a8e890600090a2611308565b60405183907f61f3fbe0c2049de9b0219669983a937b4377c1dced582b6a720a87b49ae3c08b90600090a25b505050565b600061134f8787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508d92508e91506119069050565b611357611a79565b610140604051908101604052808c600160a060020a031681526020018b600160a060020a031681526020016000815260200160011515815260200160206040519081016040528060008152508152602001898980806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250505090825250604080516020601f8a0181900481028201810190925288815291810191908990899081908401838280828437600092019190915250505090825250604080516020601f880181900481028201810190925286815291810191908790879081908401838280828437600092018290525093855250505060208201819052604090910152905061146a611a5f565b506040805160208101825282815260025491517fc4ce72160000000000000000000000000000000000000000000000000000000081529091600160a060020a03169063c4ce7216906114c0908490600401612919565b602060405180830381600087803b1580156114da57600080fd5b505af11580156114ee573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061151291908101906120d6565b9250827fd3ab0c36887772472a25b1c1cecc0dee794b7c5ca472edaa2db255346878ee6b33604051611544919061276d565b60405180910390a250509998505050505050505050565b600054600160a060020a0316331461158d57604051600080516020612ad883398151915281526004016103e7906128b9565b600254600160a060020a0316156115a357600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b99061161d90859060040161292a565b60006040518083038186803b15801561163557600080fd5b505afa158015611649573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105bf9190810190611fdc565b8051600090600160a060020a031615801561169757506020820151600160a060020a0316155b80156116a557506040820151155b80156116b357508160600151155b80156116c25750608082015151155b80156116d1575060a082015151155b80156116e0575060c082015151155b80156116ef575060e082015151155b80156117075750610100820151600160a060020a0316155b1592915050565b6000611718611a79565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e9929061176190889060040161292a565b60006040518083038186803b15801561177957600080fd5b505afa15801561178d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526117b5919081019061204e565b8051909150600160a060020a031633146117e957604051600080516020612ad883398151915281526004016103e7906128c9565b8060600151151561181457604051600080516020612ad883398151915281526004016103e7906128d9565b604081015180851161184057604051600080516020612ad883398151915281526004016103e7906128f9565b6002546040517f8ca109c6000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638ca109c69061188d908990899089906004016129a9565b600060405180830381600087803b1580156118a757600080fd5b505af11580156118bb573d6000803e3d6000fd5b50505050857f2726fc1611c0f712314323e4cf7789e39ab4b8a5e4d34c6d828ee2ef657ad54382876040516118f192919061298e565b60405180910390a284039150505b9392505050565b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561196f57600080fd5b505afa158015611983573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506119a791908101906120d6565b835111156119cf57604051600080516020612ad883398151915281526004016103e790612889565b6119da600383610fe9565b1515611a0057604051600080516020612ad883398151915281526004016103e7906128a9565b611a0b600133610fe9565b1515611a3157604051600080516020612ad883398151915281526004016103e7906128a9565b611a3a816105d4565b1561130857604051600080516020612ad883398151915281526004016103e790612879565b61014060405190810160405280611a74611a79565b905290565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b60006118ff8235612a59565b60006118ff8251612a59565b600080601f83018413611af657600080fd5b50813567ffffffffffffffff811115611b0e57600080fd5b602083019150836020820283011115611b2657600080fd5b9250929050565b6000601f82018313611b3e57600080fd5b8151611b51611b4c826129fd565b6129d6565b91508181835260208401935060208101905083856020840282011115611b7657600080fd5b60005b83811015611ba25781611b8c8882611ad8565b8452506020928301929190910190600101611b79565b5050505092915050565b6000601f82018313611bbd57600080fd5b8151611bcb611b4c826129fd565b91508181835260208401935060208101905083856020840282011115611bf057600080fd5b60005b83811015611ba25781611c068882611ad8565b8452506020928301929190910190600101611bf3565b60006118ff8235612a64565b60006118ff8251612a64565b60006118ff8235612a78565b600080601f83018413611c5257600080fd5b50813567ffffffffffffffff811115611c6a57600080fd5b602083019150836001820283011115611b2657600080fd5b6000601f82018313611c9357600080fd5b8151611ca1611b4c82612a1e565b91508082526020830160208301858383011115611cbd57600080fd5b611cc8838284612a9d565b50505092915050565b60006101408284031215611ce457600080fd5b611cef6101406129d6565b90506000611cfd8484611ad8565b8252506020611d0e84848301611ad8565b6020830152506040611d2284828501611e75565b6040830152506060611d3684828501611c28565b606083015250608082015167ffffffffffffffff811115611d5657600080fd5b611d6284828501611c82565b60808301525060a082015167ffffffffffffffff811115611d8257600080fd5b611d8e84828501611b2d565b60a08301525060c082015167ffffffffffffffff811115611dae57600080fd5b611dba84828501611c82565b60c08301525060e082015167ffffffffffffffff811115611dda57600080fd5b611de684828501611c82565b60e083015250610100611dfb84828501611ad8565b61010083015250610120611e1184828501611c28565b6101208301525092915050565b600060208284031215611e3057600080fd5b611e3a60206129d6565b825190915067ffffffffffffffff811115611e5457600080fd5b611e6084828501611cd1565b82525092915050565b60006118ff8235612a75565b60006118ff8251612a75565b600060208284031215611e9357600080fd5b6000611e9f8484611acc565b949350505050565b600060208284031215611eb957600080fd5b6000611e9f8484611ad8565b60008060408385031215611ed857600080fd5b6000611ee48585611acc565b9250506020611ef585828601611acc565b9150509250929050565b600080600080600080600080600060c08a8c031215611f1d57600080fd5b6000611f298c8c611acc565b9950506020611f3a8c828d01611acc565b9850506040611f4b8c828d01611c1c565b97505060608a013567ffffffffffffffff811115611f6857600080fd5b611f748c828d01611ae4565b965096505060808a013567ffffffffffffffff811115611f9357600080fd5b611f9f8c828d01611c40565b945094505060a08a013567ffffffffffffffff811115611fbe57600080fd5b611fca8c828d01611c40565b92509250509295985092959850929598565b600060208284031215611fee57600080fd5b815167ffffffffffffffff81111561200557600080fd5b611e9f84828501611bac565b60006020828403121561202357600080fd5b6000611e9f8484611c28565b6000806040838503121561204257600080fd5b6000611ee48585611c34565b60006020828403121561206057600080fd5b815167ffffffffffffffff81111561207757600080fd5b611e9f84828501611cd1565b60006020828403121561209557600080fd5b815167ffffffffffffffff8111156120ac57600080fd5b611e9f84828501611e1e565b6000602082840312156120ca57600080fd5b6000611e9f8484611e69565b6000602082840312156120e857600080fd5b6000611e9f8484611e75565b6000806040838503121561210757600080fd5b6000611ee48585611e69565b6000806040838503121561212657600080fd5b60006121328585611e69565b9250506020611ef585828601611c1c565b6000806040838503121561215657600080fd5b60006121628585611e75565b925050602083015167ffffffffffffffff81111561217f57600080fd5b611ef585828601611c82565b600080600080606085870312156121a157600080fd5b60006121ad8787611e69565b94505060206121be87828801611e69565b935050604085013567ffffffffffffffff8111156121db57600080fd5b6121e787828801611c40565b95989497509550505050565b60006121ff8383612216565b505060200190565b61221081612a8b565b82525050565b61221081612a59565b600061222a82612a4c565b6122348185612a50565b935061223f83612a46565b60005b8281101561226a576122558683516121f3565b955061226082612a46565b9150600101612242565b5093949350505050565b600061227f82612a4c565b6122898185612a50565b935061229483612a46565b60005b8281101561226a576122aa8683516121f3565b95506122b582612a46565b9150600101612297565b61221081612a64565b61221081612a92565b60006122dc82612a4c565b6122e68185612a50565b93506122f6818560208601612a9d565b6122ff81612acd565b9093019392505050565b6000612316601983612a50565b7f6164644d6174636865723a206e6f7420746865206f776e657200000000000000815260200192915050565b600061234f601883612a50565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b6000612388601d83612a50565b7f736d6172746d6574657220646f657320616c7265616479206578697374000000815260200192915050565b60006123c1602483612a50565b7f6164644d6174636865723a20746f6f206d616e79206d61746368657220616c7281527f6561647900000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612420601c83612a50565b7f72656d6f76654d6174636865723a206e6f7420746865206f776e657200000000815260200192915050565b6000612459602483612a50565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006124b8601783612a50565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006124f1602083612a50565b7f73617665536d6172744d65746572526561643a2077726f6e672073656e646572815260200192915050565b600061252a602483612a50565b7f73617665536d6172744d65746572526561643a206173736574206e6f7420616381527f7469766500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612589602083612a50565b7f72656d6f76654d6174636865723a2061646472657373206e6f7420666f756e64815260200192915050565b60006125c2602583612a50565b7f73617665536d6172744d65746572526561643a206d657465727265616420746f81527f6f206c6f77000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612621601c83612a50565b7f73656e646572206973206e6f74207468652061737365744f776e657200000000815260200192915050565b80516000906101408401906126628582612216565b5060208301516126756020860182612216565b5060408301516126886040860182612756565b50606083015161269b60608601826122bf565b50608083015184820360808601526126b382826122d1565b91505060a083015184820360a08601526126cd8282612274565b91505060c083015184820360c08601526126e782826122d1565b91505060e083015184820360e086015261270182826122d1565b915050610100830151612718610100860182612216565b5061012083015161272d6101208601826122bf565b509392505050565b805160208084526000919084019061274d828261264d565b95945050505050565b61221081612a75565b602081016105bf8284612216565b602081016105bf8284612207565b610140810161278a828d612216565b612797602083018c612216565b6127a4604083018b612756565b6127b1606083018a6122bf565b81810360808301526127c381896122d1565b905081810360a08301526127d7818861221f565b905081810360c08301526127eb81876122d1565b905081810360e08301526127ff81866122d1565b905061280f610100830185612216565b61281d6101208301846122bf565b9b9a5050505050505050505050565b602080825281016118ff818461221f565b602081016105bf82846122bf565b602081016105bf82846122c8565b602080825281016105bf81612309565b602080825281016105bf81612342565b602080825281016105bf8161237b565b602080825281016105bf816123b4565b602080825281016105bf81612413565b602080825281016105bf8161244c565b602080825281016105bf816124ab565b602080825281016105bf816124e4565b602080825281016105bf8161251d565b602080825281016105bf8161257c565b602080825281016105bf816125b5565b602080825281016105bf81612614565b602080825281016118ff8184612735565b602081016105bf8284612756565b604081016129468285612756565b6118ff6020830184612216565b604081016129618285612756565b6118ff60208301846122bf565b6040810161297c8285612756565b8181036020830152611e9f81846122d1565b6040810161299c8285612756565b6118ff6020830184612756565b606081016129b78286612756565b6129c46020830185612756565b818103604083015261274d81846122d1565b60405181810167ffffffffffffffff811182821017156129f557600080fd5b604052919050565b600067ffffffffffffffff821115612a1457600080fd5b5060209081020190565b600067ffffffffffffffff821115612a3557600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006105bf82612a69565b151590565b600160a060020a031690565b90565b600060068210612a8757600080fd5b5090565b60006105bf825b60006105bf82612a59565b60005b83811015612ab8578181015183820152602001612aa0565b83811115612ac7576000848401525b50505050565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820bca09e2f4bdcc5319b82e21302ca007a05ab6cc4ad2ea88c99075ad2f6fba2c06c6578706572696d656e74616cf50037","contractName":"AssetConsumingRegistryLogic","deployedBytecode":"608060405234801561001057600080fd5b50600436106101aa576000357c010000000000000000000000000000000000000000000000000000000090048063a7bfad8811610100578063bb5a389e116100a9578063ec0a14f611610083578063ec0a14f61461036f578063f09a401614610382578063f78708b914610395576101aa565b8063bb5a389e14610336578063d3b9eadf14610349578063e60a955d1461035c576101aa565b8063ade1e992116100da578063ade1e992146102e5578063ae51439c1461030e578063b3e444a714610323576101aa565b8063a7bfad88146102ac578063ab03248f146102bf578063ac9ec458146102d2576101aa565b80634d655aff116101625780638d5802e21161013c5780638d5802e2146102715780638da5cb5b14610291578063a6f9dae114610299576101aa565b80634d655aff14610243578063616307611461024b5780638b0fec761461025e576101aa565b80633f6409e1116101935780633f6409e1146101ee57806344724c8c1461020e5780634aa94c1214610223576101aa565b80631c1b8772146101af5780633928c220146101c4575b600080fd5b6101c26101bd366004611e81565b6103b5565b005b6101d76101d23660046120b8565b61046e565b6040516101e592919061296e565b60405180910390f35b6102016101fc366004611e81565b61051a565b6040516101e59190612919565b6102166105c5565b6040516101e5919061284b565b610236610231366004611e81565b6105d4565b6040516101e5919061283d565b61021661067e565b6101c26102593660046120f4565b61068d565b6101c261026c3660046120f4565b610951565b61028461027f3660046120b8565b610a9a565b6040516101e5919061275f565b610284610b42565b6101c26102a7366004611e81565b610b51565b6102366102ba366004611e81565b610c16565b6101c26102cd36600461218b565b610c21565b6101c26102e03660046120f4565b610c62565b6102f86102f33660046120b8565b610df1565b6040516101e59a9998979695949392919061277b565b610316610efd565b6040516101e5919061292a565b6102016103313660046120b8565b610f98565b61023661034436600461202f565b610fe9565b6102846103573660046120b8565b611146565b6101c261036a366004612113565b6111e0565b61031661037d366004611eff565b61130d565b6101c2610390366004611ec5565b61155b565b6103a86103a33660046120b8565b6115d3565b6040516101e5919061282c565b600054600160a060020a031633146103f057604051600080516020612ad883398151915281526004016103e7906128b9565b60405180910390fd5b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae19061043990849060040161275f565b600060405180830381600087803b15801561045357600080fd5b505af1158015610467573d6000803e3d6000fd5b5050505050565b6002546040517f3928c220000000000000000000000000000000000000000000000000000000008152600091606091600160a060020a0390911690633928c220906104bd90869060040161292a565b60006040518083038186803b1580156104d557600080fd5b505afa1580156104e9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105119190810190612143565b91509150915091565b610522611a5f565b6002546040517f3f6409e1000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f6409e19061056b90859060040161275f565b60006040518083038186803b15801561058357600080fd5b505afa158015610597573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105bf9190810190612083565b92915050565b600154600160a060020a031681565b6002546040517f3f6409e10000000000000000000000000000000000000000000000000000000081526000916105bf91600160a060020a0390911690633f6409e19061062490869060040161275f565b60006040518083038186803b15801561063c57600080fd5b505afa158015610650573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106789190810190612083565b51611671565b600254600160a060020a031681565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e2906106d690859060040161292a565b60206040518083038186803b1580156106ee57600080fd5b505afa158015610702573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107269190810190611ea7565b600160a060020a0316331461075557604051600080516020612ad883398151915281526004016103e790612859565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b99061079f90869060040161292a565b60006040518083038186803b1580156107b757600080fd5b505afa1580156107cb573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526107f39190810190611fdc565b8051909150600181011161080357fe5b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561086c57600080fd5b505afa158015610880573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506108a491908101906120d6565b815160010111156108cf57604051600080516020612ad883398151915281526004016103e790612889565b6002546040517f61630761000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063616307619061091a9086908690600401612938565b600060405180830381600087803b15801561093457600080fd5b505af1158015610948573d6000803e3d6000fd5b50505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e29061099a90859060040161292a565b60206040518083038186803b1580156109b257600080fd5b505afa1580156109c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506109ea9190810190611ea7565b600160a060020a03163314610a1957604051600080516020612ad883398151915281526004016103e790612909565b6002546040517f8b0fec76000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638b0fec7690610a649085908590600401612938565b600060405180830381600087803b158015610a7e57600080fd5b505af1158015610a92573d6000803e3d6000fd5b505050505050565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063ade1e99290610ae490859060040161292a565b60006040518083038186803b158015610afc57600080fd5b505afa158015610b10573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610b38919081019061204e565b6020015192915050565b600054600160a060020a031681565b600054600160a060020a03163314610b8357604051600080516020612ad883398151915281526004016103e7906128b9565b600160a060020a0381161515610bb357604051600080516020612ad883398151915281526004016103e790612869565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610c0b90839061275f565b60405180910390a150565b60006105bf826105d4565b610467848484848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061170e92505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610cab90859060040161292a565b60206040518083038186803b158015610cc357600080fd5b505afa158015610cd7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cfb9190810190611ea7565b600160a060020a03163314610d2a57604051600080516020612ad883398151915281526004016103e790612899565b6002546040517f69f428dc000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906369f428dc90610d759085908590600401612938565b602060405180830381600087803b158015610d8f57600080fd5b505af1158015610da3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610dc79190810190612011565b1515610ded57604051600080516020612ad883398151915281526004016103e7906128e9565b5050565b600080600080606080606080600080610e08611a79565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e99290610e51908f9060040161292a565b60006040518083038186803b158015610e6957600080fd5b505afa158015610e7d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610ea5919081019061204e565b905080600001519a50806020015199508060400151985080606001519750806080015196508060a0015195508060c0015194508060e00151935080610100015192508061012001519150509193959799509193959799565b600254604080517fae51439c0000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ae51439c916004808301926020929190829003018186803b158015610f5b57600080fd5b505afa158015610f6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f9391908101906120d6565b905090565b610fa0611a5f565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a79061056b90859060040161292a565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561105657600080fd5b505afa15801561106a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061108e9190810190611ea7565b600160a060020a031663265209f2846040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016110d5919061275f565b60206040518083038186803b1580156110ed57600080fd5b505afa158015611101573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061112591908101906120d6565b9050600084600581111561113557fe5b60020a919091161515949350505050565b6002546040517fd3b9eadf000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063d3b9eadf9061119090859060040161292a565b60206040518083038186803b1580156111a857600080fd5b505afa1580156111bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105bf9190810190611ea7565b600254600160a060020a031615156111f757600080fd5b60016112038133610fe9565b151561122957604051600080516020612ad883398151915281526004016103e7906128a9565b6002546040517fe60a955d000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063e60a955d906112749086908690600401612953565b600060405180830381600087803b15801561128e57600080fd5b505af11580156112a2573d6000803e3d6000fd5b5050505081156112dc5760405183907fbb4a2f3fc0f65f1ee98dc140226f7718191ba94892efdc55613785ccbf00a8e890600090a2611308565b60405183907f61f3fbe0c2049de9b0219669983a937b4377c1dced582b6a720a87b49ae3c08b90600090a25b505050565b600061134f8787808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508d92508e91506119069050565b611357611a79565b610140604051908101604052808c600160a060020a031681526020018b600160a060020a031681526020016000815260200160011515815260200160206040519081016040528060008152508152602001898980806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250505090825250604080516020601f8a0181900481028201810190925288815291810191908990899081908401838280828437600092019190915250505090825250604080516020601f880181900481028201810190925286815291810191908790879081908401838280828437600092018290525093855250505060208201819052604090910152905061146a611a5f565b506040805160208101825282815260025491517fc4ce72160000000000000000000000000000000000000000000000000000000081529091600160a060020a03169063c4ce7216906114c0908490600401612919565b602060405180830381600087803b1580156114da57600080fd5b505af11580156114ee573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061151291908101906120d6565b9250827fd3ab0c36887772472a25b1c1cecc0dee794b7c5ca472edaa2db255346878ee6b33604051611544919061276d565b60405180910390a250509998505050505050505050565b600054600160a060020a0316331461158d57604051600080516020612ad883398151915281526004016103e7906128b9565b600254600160a060020a0316156115a357600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b99061161d90859060040161292a565b60006040518083038186803b15801561163557600080fd5b505afa158015611649573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105bf9190810190611fdc565b8051600090600160a060020a031615801561169757506020820151600160a060020a0316155b80156116a557506040820151155b80156116b357508160600151155b80156116c25750608082015151155b80156116d1575060a082015151155b80156116e0575060c082015151155b80156116ef575060e082015151155b80156117075750610100820151600160a060020a0316155b1592915050565b6000611718611a79565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e9929061176190889060040161292a565b60006040518083038186803b15801561177957600080fd5b505afa15801561178d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526117b5919081019061204e565b8051909150600160a060020a031633146117e957604051600080516020612ad883398151915281526004016103e7906128c9565b8060600151151561181457604051600080516020612ad883398151915281526004016103e7906128d9565b604081015180851161184057604051600080516020612ad883398151915281526004016103e7906128f9565b6002546040517f8ca109c6000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638ca109c69061188d908990899089906004016129a9565b600060405180830381600087803b1580156118a757600080fd5b505af11580156118bb573d6000803e3d6000fd5b50505050857f2726fc1611c0f712314323e4cf7789e39ab4b8a5e4d34c6d828ee2ef657ad54382876040516118f192919061298e565b60405180910390a284039150505b9392505050565b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561196f57600080fd5b505afa158015611983573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506119a791908101906120d6565b835111156119cf57604051600080516020612ad883398151915281526004016103e790612889565b6119da600383610fe9565b1515611a0057604051600080516020612ad883398151915281526004016103e7906128a9565b611a0b600133610fe9565b1515611a3157604051600080516020612ad883398151915281526004016103e7906128a9565b611a3a816105d4565b1561130857604051600080516020612ad883398151915281526004016103e790612879565b61014060405190810160405280611a74611a79565b905290565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b60006118ff8235612a59565b60006118ff8251612a59565b600080601f83018413611af657600080fd5b50813567ffffffffffffffff811115611b0e57600080fd5b602083019150836020820283011115611b2657600080fd5b9250929050565b6000601f82018313611b3e57600080fd5b8151611b51611b4c826129fd565b6129d6565b91508181835260208401935060208101905083856020840282011115611b7657600080fd5b60005b83811015611ba25781611b8c8882611ad8565b8452506020928301929190910190600101611b79565b5050505092915050565b6000601f82018313611bbd57600080fd5b8151611bcb611b4c826129fd565b91508181835260208401935060208101905083856020840282011115611bf057600080fd5b60005b83811015611ba25781611c068882611ad8565b8452506020928301929190910190600101611bf3565b60006118ff8235612a64565b60006118ff8251612a64565b60006118ff8235612a78565b600080601f83018413611c5257600080fd5b50813567ffffffffffffffff811115611c6a57600080fd5b602083019150836001820283011115611b2657600080fd5b6000601f82018313611c9357600080fd5b8151611ca1611b4c82612a1e565b91508082526020830160208301858383011115611cbd57600080fd5b611cc8838284612a9d565b50505092915050565b60006101408284031215611ce457600080fd5b611cef6101406129d6565b90506000611cfd8484611ad8565b8252506020611d0e84848301611ad8565b6020830152506040611d2284828501611e75565b6040830152506060611d3684828501611c28565b606083015250608082015167ffffffffffffffff811115611d5657600080fd5b611d6284828501611c82565b60808301525060a082015167ffffffffffffffff811115611d8257600080fd5b611d8e84828501611b2d565b60a08301525060c082015167ffffffffffffffff811115611dae57600080fd5b611dba84828501611c82565b60c08301525060e082015167ffffffffffffffff811115611dda57600080fd5b611de684828501611c82565b60e083015250610100611dfb84828501611ad8565b61010083015250610120611e1184828501611c28565b6101208301525092915050565b600060208284031215611e3057600080fd5b611e3a60206129d6565b825190915067ffffffffffffffff811115611e5457600080fd5b611e6084828501611cd1565b82525092915050565b60006118ff8235612a75565b60006118ff8251612a75565b600060208284031215611e9357600080fd5b6000611e9f8484611acc565b949350505050565b600060208284031215611eb957600080fd5b6000611e9f8484611ad8565b60008060408385031215611ed857600080fd5b6000611ee48585611acc565b9250506020611ef585828601611acc565b9150509250929050565b600080600080600080600080600060c08a8c031215611f1d57600080fd5b6000611f298c8c611acc565b9950506020611f3a8c828d01611acc565b9850506040611f4b8c828d01611c1c565b97505060608a013567ffffffffffffffff811115611f6857600080fd5b611f748c828d01611ae4565b965096505060808a013567ffffffffffffffff811115611f9357600080fd5b611f9f8c828d01611c40565b945094505060a08a013567ffffffffffffffff811115611fbe57600080fd5b611fca8c828d01611c40565b92509250509295985092959850929598565b600060208284031215611fee57600080fd5b815167ffffffffffffffff81111561200557600080fd5b611e9f84828501611bac565b60006020828403121561202357600080fd5b6000611e9f8484611c28565b6000806040838503121561204257600080fd5b6000611ee48585611c34565b60006020828403121561206057600080fd5b815167ffffffffffffffff81111561207757600080fd5b611e9f84828501611cd1565b60006020828403121561209557600080fd5b815167ffffffffffffffff8111156120ac57600080fd5b611e9f84828501611e1e565b6000602082840312156120ca57600080fd5b6000611e9f8484611e69565b6000602082840312156120e857600080fd5b6000611e9f8484611e75565b6000806040838503121561210757600080fd5b6000611ee48585611e69565b6000806040838503121561212657600080fd5b60006121328585611e69565b9250506020611ef585828601611c1c565b6000806040838503121561215657600080fd5b60006121628585611e75565b925050602083015167ffffffffffffffff81111561217f57600080fd5b611ef585828601611c82565b600080600080606085870312156121a157600080fd5b60006121ad8787611e69565b94505060206121be87828801611e69565b935050604085013567ffffffffffffffff8111156121db57600080fd5b6121e787828801611c40565b95989497509550505050565b60006121ff8383612216565b505060200190565b61221081612a8b565b82525050565b61221081612a59565b600061222a82612a4c565b6122348185612a50565b935061223f83612a46565b60005b8281101561226a576122558683516121f3565b955061226082612a46565b9150600101612242565b5093949350505050565b600061227f82612a4c565b6122898185612a50565b935061229483612a46565b60005b8281101561226a576122aa8683516121f3565b95506122b582612a46565b9150600101612297565b61221081612a64565b61221081612a92565b60006122dc82612a4c565b6122e68185612a50565b93506122f6818560208601612a9d565b6122ff81612acd565b9093019392505050565b6000612316601983612a50565b7f6164644d6174636865723a206e6f7420746865206f776e657200000000000000815260200192915050565b600061234f601883612a50565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b6000612388601d83612a50565b7f736d6172746d6574657220646f657320616c7265616479206578697374000000815260200192915050565b60006123c1602483612a50565b7f6164644d6174636865723a20746f6f206d616e79206d61746368657220616c7281527f6561647900000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612420601c83612a50565b7f72656d6f76654d6174636865723a206e6f7420746865206f776e657200000000815260200192915050565b6000612459602483612a50565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006124b8601783612a50565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006124f1602083612a50565b7f73617665536d6172744d65746572526561643a2077726f6e672073656e646572815260200192915050565b600061252a602483612a50565b7f73617665536d6172744d65746572526561643a206173736574206e6f7420616381527f7469766500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612589602083612a50565b7f72656d6f76654d6174636865723a2061646472657373206e6f7420666f756e64815260200192915050565b60006125c2602583612a50565b7f73617665536d6172744d65746572526561643a206d657465727265616420746f81527f6f206c6f77000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612621601c83612a50565b7f73656e646572206973206e6f74207468652061737365744f776e657200000000815260200192915050565b80516000906101408401906126628582612216565b5060208301516126756020860182612216565b5060408301516126886040860182612756565b50606083015161269b60608601826122bf565b50608083015184820360808601526126b382826122d1565b91505060a083015184820360a08601526126cd8282612274565b91505060c083015184820360c08601526126e782826122d1565b91505060e083015184820360e086015261270182826122d1565b915050610100830151612718610100860182612216565b5061012083015161272d6101208601826122bf565b509392505050565b805160208084526000919084019061274d828261264d565b95945050505050565b61221081612a75565b602081016105bf8284612216565b602081016105bf8284612207565b610140810161278a828d612216565b612797602083018c612216565b6127a4604083018b612756565b6127b1606083018a6122bf565b81810360808301526127c381896122d1565b905081810360a08301526127d7818861221f565b905081810360c08301526127eb81876122d1565b905081810360e08301526127ff81866122d1565b905061280f610100830185612216565b61281d6101208301846122bf565b9b9a5050505050505050505050565b602080825281016118ff818461221f565b602081016105bf82846122bf565b602081016105bf82846122c8565b602080825281016105bf81612309565b602080825281016105bf81612342565b602080825281016105bf8161237b565b602080825281016105bf816123b4565b602080825281016105bf81612413565b602080825281016105bf8161244c565b602080825281016105bf816124ab565b602080825281016105bf816124e4565b602080825281016105bf8161251d565b602080825281016105bf8161257c565b602080825281016105bf816125b5565b602080825281016105bf81612614565b602080825281016118ff8184612735565b602081016105bf8284612756565b604081016129468285612756565b6118ff6020830184612216565b604081016129618285612756565b6118ff60208301846122bf565b6040810161297c8285612756565b8181036020830152611e9f81846122d1565b6040810161299c8285612756565b6118ff6020830184612756565b606081016129b78286612756565b6129c46020830185612756565b818103604083015261274d81846122d1565b60405181810167ffffffffffffffff811182821017156129f557600080fd5b604052919050565b600067ffffffffffffffff821115612a1457600080fd5b5060209081020190565b600067ffffffffffffffff821115612a3557600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006105bf82612a69565b151590565b600160a060020a031690565b90565b600060068210612a8757600080fd5b5090565b60006105bf825b60006105bf82612a59565b60005b83811015612ab8578181015183820152602001612aa0565b83811115612ac7576000848401525b50505050565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820bca09e2f4bdcc5319b82e21302ca007a05ab6cc4ad2ea88c99075ad2f6fba2c06c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\nimport \"../../contracts/Asset/AssetConsumingDB.sol\";\nimport \"../../contracts/AssetContractLookup.sol\";\nimport \"../../contracts/Asset/AssetLogic.sol\";\nimport \"../../contracts/Interfaces/AssetConsumingInterface.sol\";\n\n/// @title The logic contract for the consuming asset registration\n/// @notice This contract provides the logic that determines how the data is stored\n/// @dev Needs a valid AssetConsumingRegistryDB contract to function correctly\ncontract AssetConsumingRegistryLogic is AssetLogic, AssetConsumingInterface {\n\n    event LogNewMeterRead(uint indexed _assetId, uint _oldMeterRead, uint _newMeterRead);\n\n    /// @notice Constructor\n    /// @param _userContractLookup userContract-lookup contract\n    /// @param _assetContractLookup assetContract-lookup contracts (that should own this contract)\n    constructor(\n        UserContractLookupInterface _userContractLookup,\n        AssetContractLookupInterface _assetContractLookup\n    ) \n        RoleManagement(_userContractLookup,address (_assetContractLookup)) \n        public {\n\n        }\n\n    /**\n        external functions\n    */\n    /// @notice Logs meter read\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _newMeterRead The current meter read of the asset\n    /// @param _lastSmartMeterReadFileHash Last meter read file hash\n    function saveSmartMeterRead(uint _assetId, uint _newMeterRead, string calldata _lastSmartMeterReadFileHash)\n        external\n    {\n        setSmartMeterReadInternal(_assetId, _newMeterRead, _lastSmartMeterReadFileHash);\n    }\n\n    /// @notice function to get an asset by its id\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @return AssetConsumingDB.Asset-struct\n    function getAssetById(uint _assetId)\n        external\n        view\n        returns (\n            AssetConsumingDB.Asset memory\n        )\n    {\n        return AssetConsumingDB(address(db)).getAssetById(_assetId);\n    }\n\n    /// @notice function to create a new asset\n    /// @dev this function will fail when a different onboarded assets already uses the same smartmeter address\n    /// @dev this function will fail when the owner does not have the correct rights\n    /// @param _smartMeter the smartmeter of the asset\n    /// @param _owner the owner of the asset (onboarded user in the user-contracts)\n    /// @param _active flag whether this asset is active already\n    /// @param _matcher array with matcher-addresses\n    /// @param _propertiesDocumentHash hash of the documents with the corresponding properties\n    /// @param _url address where to find that document\n    /// @return returns the asset-id of the newly onboarded asset\n    function createAsset(\n        address _smartMeter,\n        address _owner,\n        bool _active,\n        address[] calldata _matcher,\n        string calldata _propertiesDocumentHash,\n        string calldata _url\n    )\n        external\n        returns (uint _assetId)\n    {\n        // in order to avoid \"stack too deep\" erros we're checking all the modifiers in a seperate function\n        checkBeforeCreation(_matcher, _owner, _smartMeter);\n\n        AssetGeneral memory a = AssetGeneral({\n            smartMeter: _smartMeter,\n            owner: _owner,\n            lastSmartMeterReadWh: 0,\n            active: true,\n            lastSmartMeterReadFileHash: \"\",\n            matcher: _matcher,\n            propertiesDocumentHash: _propertiesDocumentHash,\n            url: _url,\n            marketLookupContract: address(0x0),\n            bundled: false\n        });\n\n        AssetConsumingDB.Asset memory _asset = AssetConsumingDB.Asset(\n            {assetGeneral: a}\n        );\n\n        _assetId = AssetConsumingDB(address(db)).addFullAsset(_asset);\n        emit LogAssetCreated(msg.sender,_assetId);\n    }\n\n    /// @notice function to get an asset by its smartmeter\n    /// @param _smartMeter the smartmeter belonging to an asset\n    /// @return AssetConsumingDB.Asset-struct\n    function getAssetBySmartMeter(address _smartMeter)\n        external\n        view\n        returns (\n            AssetConsumingDB.Asset memory\n        )\n    {\n        return AssetConsumingDB(address(db)).getAssetBySmartMeter(_smartMeter);\n    }\n\n    /**\n        public functions\n    */\n    /// @notice function to check whether an asset exists already for the provided smartmeter\n    /// @param _smartMeter the smartmeter of the asset ot be deployed\n    /// @return true if smartMeter is already in use, false otherwhise\n    function checkAssetExist(address _smartMeter) public view returns (bool){\n        return checkAssetGeneralExistingStatus(AssetConsumingDB(address(db)).getAssetBySmartMeter(_smartMeter).assetGeneral);\n    }\n\n    function checkAssetExistExternal(address _smartMeter) external view returns (bool) {\n        return checkAssetExist(_smartMeter);\n    }\n\n\n\n}","networks":"{}"}