{"abi":[{"constant":false,"inputs":[{"name":"_newLogic","type":"address"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getLastMeterReadingAndHash","outputs":[{"name":"_lastSmartMeterReadWh","type":"uint256"},{"name":"_lastSmartMeterReadFileHash","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"getAssetBySmartMeter","outputs":[{"components":[{"components":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"name":"assetGeneral","type":"tuple"},{"name":"maxOwnerChanges","type":"uint256"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"userContractLookup","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"checkAssetExist","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"db","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_new","type":"address"}],"name":"addMatcher","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_smartMeter","type":"address"},{"name":"_owner","type":"address"},{"name":"_active","type":"bool"},{"name":"_matcher","type":"address[]"},{"name":"_propertiesDocumentHash","type":"string"},{"name":"_url","type":"string"},{"name":"_numOwnerChanges","type":"uint256"}],"name":"createAsset","outputs":[{"name":"_assetId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_marketContractLookup","type":"address"}],"name":"setMarketLookupContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_smartMeter","type":"address"}],"name":"checkAssetExistExternal","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_active","type":"bool"}],"name":"setBundleActive","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_newMeterRead","type":"uint256"},{"name":"_lastSmartMeterReadFileHash","type":"string"}],"name":"saveSmartMeterRead","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_remove","type":"address"}],"name":"removeMatcher","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetGeneral","outputs":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAssetListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAssetById","outputs":[{"components":[{"components":[{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"},{"name":"marketLookupContract","type":"address"},{"name":"bundled","type":"bool"}],"name":"assetGeneral","type":"tuple"},{"name":"maxOwnerChanges","type":"uint256"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_role","type":"uint8"},{"name":"_caller","type":"address"}],"name":"isRole","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getMarketLookupContract","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_active","type":"bool"}],"name":"setActive","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_dbAddress","type":"address"},{"name":"","type":"address"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getMatcher","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_userContractLookup","type":"address"},{"name":"_assetContractLookup","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"},{"indexed":false,"name":"_oldMeterRead","type":"uint256"},{"indexed":false,"name":"_newMeterRead","type":"uint256"}],"name":"LogNewMeterRead","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_sender","type":"address"},{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetFullyInitialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetSetActive","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_assetId","type":"uint256"}],"name":"LogAssetSetInactive","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b506040516040806200300383398101806040526200003391908101906200007a565b60008054600160a060020a03928316600160a060020a03199182161790915560018054929093169116179055620000e5565b6000620000738251620000cc565b9392505050565b600080604083850312156200008e57600080fd5b60006200009c858562000065565b9250506020620000af8582860162000065565b9150509250929050565b6000620000c682620000d9565b92915050565b6000620000c682620000b9565b600160a060020a031690565b612f0e80620000f56000396000f3fe608060405234801561001057600080fd5b50600436106101b5576000357c010000000000000000000000000000000000000000000000000000000090048063a7bfad8811610100578063b3e444a7116100a9578063e60a955d11610083578063e60a955d1461038d578063f09a4016146103a0578063f78708b9146103b3576101b5565b8063b3e444a714610354578063bb5a389e14610367578063d3b9eadf1461037a576101b5565b8063ac9ec458116100da578063ac9ec45814610310578063ade1e99214610323578063ae51439c1461034c576101b5565b8063a7bfad88146102d7578063a8baa460146102ea578063ab03248f146102fd576101b5565b806361630761116101625780638d5802e21161013c5780638d5802e21461029c5780638da5cb5b146102bc578063a6f9dae1146102c4576101b5565b80636163076114610256578063705ffe61146102695780638b0fec7614610289576101b5565b806344724c8c1161019357806344724c8c146102195780634aa94c121461022e5780634d655aff1461024e576101b5565b80631c1b8772146101ba5780633928c220146101cf5780633f6409e1146101f9575b600080fd5b6101cd6101c83660046121f0565b6103d3565b005b6101e26101dd36600461243b565b61048c565b6040516101f0929190612d42565b60405180910390f35b61020c6102073660046121f0565b610538565b6040516101f09190612ced565b6102216105e3565b6040516101f09190612c0f565b61024161023c3660046121f0565b6105f2565b6040516101f09190612c01565b61022161069c565b6101cd610264366004612477565b6106ab565b61027c61027736600461226e565b61096f565b6040516101f09190612cfe565b6101cd610297366004612477565b610bc4565b6102af6102aa36600461243b565b610d0d565b6040516101f09190612b23565b6102af610db5565b6101cd6102d23660046121f0565b610dc4565b6102416102e53660046121f0565b610e89565b6101cd6102f8366004612496565b610e94565b6101cd61030b36600461250e565b610fa7565b6101cd61031e366004612477565b611203565b61033661033136600461243b565b611392565b6040516101f09a99989796959493929190612b3f565b61027c61149e565b61020c61036236600461243b565b611539565b6102416103753660046123b2565b61158a565b6102af61038836600461243b565b6116e7565b6101cd61039b366004612496565b611781565b6101cd6103ae366004612234565b6118ae565b6103c66103c136600461243b565b611926565b6040516101f09190612bf0565b600054600160a060020a0316331461040e57604051600080516020612eb5833981519152815260040161040590612c8d565b60405180910390fd5b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae190610457908490600401612b23565b600060405180830381600087803b15801561047157600080fd5b505af1158015610485573d6000803e3d6000fd5b5050505050565b6002546040517f3928c220000000000000000000000000000000000000000000000000000000008152600091606091600160a060020a0390911690633928c220906104db908690600401612cfe565b60006040518083038186803b1580156104f357600080fd5b505afa158015610507573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261052f91908101906124c6565b91509150915091565b610540611db2565b6002546040517f3f6409e1000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f6409e190610589908590600401612b23565b60006040518083038186803b1580156105a157600080fd5b505afa1580156105b5573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105dd9190810190612406565b92915050565b600154600160a060020a031681565b6002546040517f3f6409e10000000000000000000000000000000000000000000000000000000081526000916105dd91600160a060020a0390911690633f6409e190610642908690600401612b23565b60006040518083038186803b15801561065a57600080fd5b505afa15801561066e573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106969190810190612406565b516119c4565b600254600160a060020a031681565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e2906106f4908590600401612cfe565b60206040518083038186803b15801561070c57600080fd5b505afa158015610720573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107449190810190612216565b600160a060020a0316331461077357604051600080516020612eb5833981519152815260040161040590612c1d565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b9906107bd908690600401612cfe565b60006040518083038186803b1580156107d557600080fd5b505afa1580156107e9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610811919081019061235f565b8051909150600181011161082157fe5b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561088a57600080fd5b505afa15801561089e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506108c29190810190612459565b815160010111156108ed57604051600080516020612eb5833981519152815260040161040590612c4d565b6002546040517f61630761000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906361630761906109389086908690600401612d0c565b600060405180830381600087803b15801561095257600080fd5b505af1158015610966573d6000803e3d6000fd5b50505050505050565b60006109b18888808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508e92508f9150611a619050565b6109b9611dd4565b610140604051908101604052808d600160a060020a031681526020018c600160a060020a0316815260200160008152602001600115158152602001602060405190810160405280600081525081526020018a8a80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250505090825250604080516020601f8b0181900481028201810190925289815291810191908a908a9081908401838280828437600092019190915250505090825250604080516020601f8901819004810282018101909252878152918101919088908890819084018382808284376000920182905250938552505050602082018190526040909101529050610acc611db2565b506040805180820182528281526020810185905260025491517fc75e13950000000000000000000000000000000000000000000000000000000081529091600160a060020a03169063c75e139590610b28908490600401612ced565b602060405180830381600087803b158015610b4257600080fd5b505af1158015610b56573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610b7a9190810190612459565b9250827fd3ab0c36887772472a25b1c1cecc0dee794b7c5ca472edaa2db255346878ee6b33604051610bac9190612b31565b60405180910390a250509a9950505050505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610c0d908590600401612cfe565b60206040518083038186803b158015610c2557600080fd5b505afa158015610c39573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c5d9190810190612216565b600160a060020a03163314610c8c57604051600080516020612eb5833981519152815260040161040590612cdd565b6002546040517f8b0fec76000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638b0fec7690610cd79085908590600401612d0c565b600060405180830381600087803b158015610cf157600080fd5b505af1158015610d05573d6000803e3d6000fd5b505050505050565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063ade1e99290610d57908590600401612cfe565b60006040518083038186803b158015610d6f57600080fd5b505afa158015610d83573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610dab91908101906123d1565b6020015192915050565b600054600160a060020a031681565b600054600160a060020a03163314610df657604051600080516020612eb5833981519152815260040161040590612c8d565b600160a060020a0381161515610e2657604051600080516020612eb5833981519152815260040161040590612c2d565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610e7e908390612b23565b60405180910390a150565b60006105dd826105f2565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610edd908590600401612cfe565b60206040518083038186803b158015610ef557600080fd5b505afa158015610f09573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f2d9190810190612216565b600160a060020a03163314610f5c57604051600080516020612eb5833981519152815260040161040590612c5d565b6002546040517f4f1ed583000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690634f1ed58390610cd79085908590600401612d27565b600254600160a060020a03161515610fbe57600080fd5b6000611001858585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611bba92505050565b905061100b611db2565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a790611054908990600401612cfe565b60006040518083038186803b15801561106c57600080fd5b505afa158015611080573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526110a89190810190612406565b805160408101516101009091015191925090600160a060020a0316156109665781600001516101000151600160a060020a0316638090691c6040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561112657600080fd5b505afa15801561113a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061115e9190810190612216565b600160a060020a0316633e3212fe88856040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016111a7929190612d62565b602060405180830381600087803b1580156111c157600080fd5b505af11580156111d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506111f99190810190612459565b5050505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e29061124c908590600401612cfe565b60206040518083038186803b15801561126457600080fd5b505afa158015611278573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061129c9190810190612216565b600160a060020a031633146112cb57604051600080516020612eb5833981519152815260040161040590612c6d565b6002546040517f69f428dc000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906369f428dc906113169085908590600401612d0c565b602060405180830381600087803b15801561133057600080fd5b505af1158015611344573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506113689190810190612394565b151561138e57604051600080516020612eb5833981519152815260040161040590612cbd565b5050565b6000806000806060806060806000806113a9611dd4565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e992906113f2908f90600401612cfe565b60006040518083038186803b15801561140a57600080fd5b505afa15801561141e573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261144691908101906123d1565b905080600001519a50806020015199508060400151985080606001519750806080015196508060a0015195508060c0015194508060e00151935080610100015192508061012001519150509193959799509193959799565b600254604080517fae51439c0000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ae51439c916004808301926020929190829003018186803b1580156114fc57600080fd5b505afa158015611510573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115349190810190612459565b905090565b611541611db2565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a790610589908590600401612cfe565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156115f757600080fd5b505afa15801561160b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061162f9190810190612216565b600160a060020a031663265209f2846040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016116769190612b23565b60206040518083038186803b15801561168e57600080fd5b505afa1580156116a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506116c69190810190612459565b905060008460058111156116d657fe5b60020a919091161515949350505050565b6002546040517fd3b9eadf000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063d3b9eadf90611731908590600401612cfe565b60206040518083038186803b15801561174957600080fd5b505afa15801561175d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105dd9190810190612216565b600254600160a060020a0316151561179857600080fd5b60016117a4813361158a565b15156117ca57604051600080516020612eb5833981519152815260040161040590612c7d565b6002546040517fe60a955d000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063e60a955d906118159086908690600401612d27565b600060405180830381600087803b15801561182f57600080fd5b505af1158015611843573d6000803e3d6000fd5b50505050811561187d5760405183907fbb4a2f3fc0f65f1ee98dc140226f7718191ba94892efdc55613785ccbf00a8e890600090a26118a9565b60405183907f61f3fbe0c2049de9b0219669983a937b4377c1dced582b6a720a87b49ae3c08b90600090a25b505050565b600054600160a060020a031633146118e057604051600080516020612eb5833981519152815260040161040590612c8d565b600254600160a060020a0316156118f657600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b990611970908590600401612cfe565b60006040518083038186803b15801561198857600080fd5b505afa15801561199c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105dd919081019061235f565b8051600090600160a060020a03161580156119ea57506020820151600160a060020a0316155b80156119f857506040820151155b8015611a0657508160600151155b8015611a155750608082015151155b8015611a24575060a082015151155b8015611a33575060c082015151155b8015611a42575060e082015151155b8015611a5a5750610100820151600160a060020a0316155b1592915050565b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015611aca57600080fd5b505afa158015611ade573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b029190810190612459565b83511115611b2a57604051600080516020612eb5833981519152815260040161040590612c4d565b611b3560038361158a565b1515611b5b57604051600080516020612eb5833981519152815260040161040590612c7d565b611b6660013361158a565b1515611b8c57604051600080516020612eb5833981519152815260040161040590612c7d565b611b95816105f2565b156118a957604051600080516020612eb5833981519152815260040161040590612c3d565b6000611bc4611dd4565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e99290611c0d908890600401612cfe565b60006040518083038186803b158015611c2557600080fd5b505afa158015611c39573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611c6191908101906123d1565b8051909150600160a060020a03163314611c9557604051600080516020612eb5833981519152815260040161040590612c9d565b80606001511515611cc057604051600080516020612eb5833981519152815260040161040590612cad565b6040810151808511611cec57604051600080516020612eb5833981519152815260040161040590612ccd565b6002546040517f8ca109c6000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638ca109c690611d3990899089908990600401612d7d565b600060405180830381600087803b158015611d5357600080fd5b505af1158015611d67573d6000803e3d6000fd5b50505050857f2726fc1611c0f712314323e4cf7789e39ab4b8a5e4d34c6d828ee2ef657ad5438287604051611d9d929190612d62565b60405180910390a284039150505b9392505050565b61016060405190810160405280611dc7611dd4565b8152602001600081525090565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b6000611dab8235612e36565b6000611dab8251612e36565b600080601f83018413611e5157600080fd5b50813567ffffffffffffffff811115611e6957600080fd5b602083019150836020820283011115611e8157600080fd5b9250929050565b6000601f82018313611e9957600080fd5b8151611eac611ea782612dda565b612db3565b91508181835260208401935060208101905083856020840282011115611ed157600080fd5b60005b83811015611efd5781611ee78882611e33565b8452506020928301929190910190600101611ed4565b5050505092915050565b6000601f82018313611f1857600080fd5b8151611f26611ea782612dda565b91508181835260208401935060208101905083856020840282011115611f4b57600080fd5b60005b83811015611efd5781611f618882611e33565b8452506020928301929190910190600101611f4e565b6000611dab8235612e41565b6000611dab8251612e41565b6000611dab8235612e55565b600080601f83018413611fad57600080fd5b50813567ffffffffffffffff811115611fc557600080fd5b602083019150836001820283011115611e8157600080fd5b6000601f82018313611fee57600080fd5b8151611ffc611ea782612dfb565b9150808252602083016020830185838301111561201857600080fd5b612023838284612e7a565b50505092915050565b6000610140828403121561203f57600080fd5b61204a610140612db3565b905060006120588484611e33565b825250602061206984848301611e33565b602083015250604061207d848285016121e4565b604083015250606061209184828501611f83565b606083015250608082015167ffffffffffffffff8111156120b157600080fd5b6120bd84828501611fdd565b60808301525060a082015167ffffffffffffffff8111156120dd57600080fd5b6120e984828501611e88565b60a08301525060c082015167ffffffffffffffff81111561210957600080fd5b61211584828501611fdd565b60c08301525060e082015167ffffffffffffffff81111561213557600080fd5b61214184828501611fdd565b60e08301525061010061215684828501611e33565b6101008301525061012061216c84828501611f83565b6101208301525092915050565b60006040828403121561218b57600080fd5b6121956040612db3565b825190915067ffffffffffffffff8111156121af57600080fd5b6121bb8482850161202c565b82525060206121cc848483016121e4565b60208301525092915050565b6000611dab8235612e52565b6000611dab8251612e52565b60006020828403121561220257600080fd5b600061220e8484611e27565b949350505050565b60006020828403121561222857600080fd5b600061220e8484611e33565b6000806040838503121561224757600080fd5b60006122538585611e27565b925050602061226485828601611e27565b9150509250929050565b60008060008060008060008060008060e08b8d03121561228d57600080fd5b60006122998d8d611e27565b9a505060206122aa8d828e01611e27565b99505060406122bb8d828e01611f77565b98505060608b013567ffffffffffffffff8111156122d857600080fd5b6122e48d828e01611e3f565b975097505060808b013567ffffffffffffffff81111561230357600080fd5b61230f8d828e01611f9b565b955095505060a08b013567ffffffffffffffff81111561232e57600080fd5b61233a8d828e01611f9b565b935093505060c061234d8d828e016121d8565b9150509295989b9194979a5092959850565b60006020828403121561237157600080fd5b815167ffffffffffffffff81111561238857600080fd5b61220e84828501611f07565b6000602082840312156123a657600080fd5b600061220e8484611f83565b600080604083850312156123c557600080fd5b60006122538585611f8f565b6000602082840312156123e357600080fd5b815167ffffffffffffffff8111156123fa57600080fd5b61220e8482850161202c565b60006020828403121561241857600080fd5b815167ffffffffffffffff81111561242f57600080fd5b61220e84828501612179565b60006020828403121561244d57600080fd5b600061220e84846121d8565b60006020828403121561246b57600080fd5b600061220e84846121e4565b6000806040838503121561248a57600080fd5b600061225385856121d8565b600080604083850312156124a957600080fd5b60006124b585856121d8565b925050602061226485828601611f77565b600080604083850312156124d957600080fd5b60006124e585856121e4565b925050602083015167ffffffffffffffff81111561250257600080fd5b61226485828601611fdd565b6000806000806060858703121561252457600080fd5b600061253087876121d8565b9450506020612541878288016121d8565b935050604085013567ffffffffffffffff81111561255e57600080fd5b61256a87828801611f9b565b95989497509550505050565b60006125828383612599565b505060200190565b61259381612e68565b82525050565b61259381612e36565b60006125ad82612e29565b6125b78185612e2d565b93506125c283612e23565b60005b828110156125ed576125d8868351612576565b95506125e382612e23565b91506001016125c5565b5093949350505050565b600061260282612e29565b61260c8185612e2d565b935061261783612e23565b60005b828110156125ed5761262d868351612576565b955061263882612e23565b915060010161261a565b61259381612e41565b61259381612e6f565b600061265f82612e29565b6126698185612e2d565b9350612679818560208601612e7a565b61268281612eaa565b9093019392505050565b6000612699601983612e2d565b7f6164644d6174636865723a206e6f7420746865206f776e657200000000000000815260200192915050565b60006126d2601883612e2d565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b600061270b601d83612e2d565b7f736d6172746d6574657220646f657320616c7265616479206578697374000000815260200192915050565b6000612744602483612e2d565b7f6164644d6174636865723a20746f6f206d616e79206d61746368657220616c7281527f6561647900000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006127a3601e83612e2d565b7f73657442756e646c654163746976653a206e6f7420746865206f776e65720000815260200192915050565b60006127dc601c83612e2d565b7f72656d6f76654d6174636865723a206e6f7420746865206f776e657200000000815260200192915050565b6000612815602483612e2d565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612874601783612e2d565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006128ad602083612e2d565b7f73617665536d6172744d65746572526561643a2077726f6e672073656e646572815260200192915050565b60006128e6602483612e2d565b7f73617665536d6172744d65746572526561643a206173736574206e6f7420616381527f7469766500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612945602083612e2d565b7f72656d6f76654d6174636865723a2061646472657373206e6f7420666f756e64815260200192915050565b600061297e602583612e2d565b7f73617665536d6172744d65746572526561643a206d657465727265616420746f81527f6f206c6f77000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006129dd601c83612e2d565b7f73656e646572206973206e6f74207468652061737365744f776e657200000000815260200192915050565b8051600090610140840190612a1e8582612599565b506020830151612a316020860182612599565b506040830151612a446040860182612b1a565b506060830151612a576060860182612642565b5060808301518482036080860152612a6f8282612654565b91505060a083015184820360a0860152612a8982826125f7565b91505060c083015184820360c0860152612aa38282612654565b91505060e083015184820360e0860152612abd8282612654565b915050610100830151612ad4610100860182612599565b50610120830151612ae9610120860182612642565b509392505050565b8051604080845260009190840190612b098282612a09565b9150506020830151612ae960208601825b61259381612e52565b602081016105dd8284612599565b602081016105dd828461258a565b6101408101612b4e828d612599565b612b5b602083018c612599565b612b68604083018b612b1a565b612b75606083018a612642565b8181036080830152612b878189612654565b905081810360a0830152612b9b81886125a2565b905081810360c0830152612baf8187612654565b905081810360e0830152612bc38186612654565b9050612bd3610100830185612599565b612be1610120830184612642565b9b9a5050505050505050505050565b60208082528101611dab81846125a2565b602081016105dd8284612642565b602081016105dd828461264b565b602080825281016105dd8161268c565b602080825281016105dd816126c5565b602080825281016105dd816126fe565b602080825281016105dd81612737565b602080825281016105dd81612796565b602080825281016105dd816127cf565b602080825281016105dd81612808565b602080825281016105dd81612867565b602080825281016105dd816128a0565b602080825281016105dd816128d9565b602080825281016105dd81612938565b602080825281016105dd81612971565b602080825281016105dd816129d0565b60208082528101611dab8184612af1565b602081016105dd8284612b1a565b60408101612d1a8285612b1a565b611dab6020830184612599565b60408101612d358285612b1a565b611dab6020830184612642565b60408101612d508285612b1a565b818103602083015261220e8184612654565b60408101612d708285612b1a565b611dab6020830184612b1a565b60608101612d8b8286612b1a565b612d986020830185612b1a565b8181036040830152612daa8184612654565b95945050505050565b60405181810167ffffffffffffffff81118282101715612dd257600080fd5b604052919050565b600067ffffffffffffffff821115612df157600080fd5b5060209081020190565b600067ffffffffffffffff821115612e1257600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006105dd82612e46565b151590565b600160a060020a031690565b90565b600060068210612e6457600080fd5b5090565b60006105dd825b60006105dd82612e36565b60005b83811015612e95578181015183820152602001612e7d565b83811115612ea4576000848401525b50505050565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820ae8eae4df79803650cb13744725fcbc6cf53f274b02930f3ba33e45804fed1f36c6578706572696d656e74616cf50037","contractName":"AssetProducingRegistryLogic","deployedBytecode":"608060405234801561001057600080fd5b50600436106101b5576000357c010000000000000000000000000000000000000000000000000000000090048063a7bfad8811610100578063b3e444a7116100a9578063e60a955d11610083578063e60a955d1461038d578063f09a4016146103a0578063f78708b9146103b3576101b5565b8063b3e444a714610354578063bb5a389e14610367578063d3b9eadf1461037a576101b5565b8063ac9ec458116100da578063ac9ec45814610310578063ade1e99214610323578063ae51439c1461034c576101b5565b8063a7bfad88146102d7578063a8baa460146102ea578063ab03248f146102fd576101b5565b806361630761116101625780638d5802e21161013c5780638d5802e21461029c5780638da5cb5b146102bc578063a6f9dae1146102c4576101b5565b80636163076114610256578063705ffe61146102695780638b0fec7614610289576101b5565b806344724c8c1161019357806344724c8c146102195780634aa94c121461022e5780634d655aff1461024e576101b5565b80631c1b8772146101ba5780633928c220146101cf5780633f6409e1146101f9575b600080fd5b6101cd6101c83660046121f0565b6103d3565b005b6101e26101dd36600461243b565b61048c565b6040516101f0929190612d42565b60405180910390f35b61020c6102073660046121f0565b610538565b6040516101f09190612ced565b6102216105e3565b6040516101f09190612c0f565b61024161023c3660046121f0565b6105f2565b6040516101f09190612c01565b61022161069c565b6101cd610264366004612477565b6106ab565b61027c61027736600461226e565b61096f565b6040516101f09190612cfe565b6101cd610297366004612477565b610bc4565b6102af6102aa36600461243b565b610d0d565b6040516101f09190612b23565b6102af610db5565b6101cd6102d23660046121f0565b610dc4565b6102416102e53660046121f0565b610e89565b6101cd6102f8366004612496565b610e94565b6101cd61030b36600461250e565b610fa7565b6101cd61031e366004612477565b611203565b61033661033136600461243b565b611392565b6040516101f09a99989796959493929190612b3f565b61027c61149e565b61020c61036236600461243b565b611539565b6102416103753660046123b2565b61158a565b6102af61038836600461243b565b6116e7565b6101cd61039b366004612496565b611781565b6101cd6103ae366004612234565b6118ae565b6103c66103c136600461243b565b611926565b6040516101f09190612bf0565b600054600160a060020a0316331461040e57604051600080516020612eb5833981519152815260040161040590612c8d565b60405180910390fd5b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae190610457908490600401612b23565b600060405180830381600087803b15801561047157600080fd5b505af1158015610485573d6000803e3d6000fd5b5050505050565b6002546040517f3928c220000000000000000000000000000000000000000000000000000000008152600091606091600160a060020a0390911690633928c220906104db908690600401612cfe565b60006040518083038186803b1580156104f357600080fd5b505afa158015610507573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261052f91908101906124c6565b91509150915091565b610540611db2565b6002546040517f3f6409e1000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f6409e190610589908590600401612b23565b60006040518083038186803b1580156105a157600080fd5b505afa1580156105b5573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105dd9190810190612406565b92915050565b600154600160a060020a031681565b6002546040517f3f6409e10000000000000000000000000000000000000000000000000000000081526000916105dd91600160a060020a0390911690633f6409e190610642908690600401612b23565b60006040518083038186803b15801561065a57600080fd5b505afa15801561066e573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106969190810190612406565b516119c4565b600254600160a060020a031681565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e2906106f4908590600401612cfe565b60206040518083038186803b15801561070c57600080fd5b505afa158015610720573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107449190810190612216565b600160a060020a0316331461077357604051600080516020612eb5833981519152815260040161040590612c1d565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b9906107bd908690600401612cfe565b60006040518083038186803b1580156107d557600080fd5b505afa1580156107e9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610811919081019061235f565b8051909150600181011161082157fe5b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561088a57600080fd5b505afa15801561089e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506108c29190810190612459565b815160010111156108ed57604051600080516020612eb5833981519152815260040161040590612c4d565b6002546040517f61630761000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906361630761906109389086908690600401612d0c565b600060405180830381600087803b15801561095257600080fd5b505af1158015610966573d6000803e3d6000fd5b50505050505050565b60006109b18888808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152508e92508f9150611a619050565b6109b9611dd4565b610140604051908101604052808d600160a060020a031681526020018c600160a060020a0316815260200160008152602001600115158152602001602060405190810160405280600081525081526020018a8a80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250505090825250604080516020601f8b0181900481028201810190925289815291810191908a908a9081908401838280828437600092019190915250505090825250604080516020601f8901819004810282018101909252878152918101919088908890819084018382808284376000920182905250938552505050602082018190526040909101529050610acc611db2565b506040805180820182528281526020810185905260025491517fc75e13950000000000000000000000000000000000000000000000000000000081529091600160a060020a03169063c75e139590610b28908490600401612ced565b602060405180830381600087803b158015610b4257600080fd5b505af1158015610b56573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610b7a9190810190612459565b9250827fd3ab0c36887772472a25b1c1cecc0dee794b7c5ca472edaa2db255346878ee6b33604051610bac9190612b31565b60405180910390a250509a9950505050505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610c0d908590600401612cfe565b60206040518083038186803b158015610c2557600080fd5b505afa158015610c39573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c5d9190810190612216565b600160a060020a03163314610c8c57604051600080516020612eb5833981519152815260040161040590612cdd565b6002546040517f8b0fec76000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638b0fec7690610cd79085908590600401612d0c565b600060405180830381600087803b158015610cf157600080fd5b505af1158015610d05573d6000803e3d6000fd5b505050505050565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063ade1e99290610d57908590600401612cfe565b60006040518083038186803b158015610d6f57600080fd5b505afa158015610d83573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610dab91908101906123d1565b6020015192915050565b600054600160a060020a031681565b600054600160a060020a03163314610df657604051600080516020612eb5833981519152815260040161040590612c8d565b600160a060020a0381161515610e2657604051600080516020612eb5833981519152815260040161040590612c2d565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610e7e908390612b23565b60405180910390a150565b60006105dd826105f2565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e290610edd908590600401612cfe565b60206040518083038186803b158015610ef557600080fd5b505afa158015610f09573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f2d9190810190612216565b600160a060020a03163314610f5c57604051600080516020612eb5833981519152815260040161040590612c5d565b6002546040517f4f1ed583000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690634f1ed58390610cd79085908590600401612d27565b600254600160a060020a03161515610fbe57600080fd5b6000611001858585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250611bba92505050565b905061100b611db2565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a790611054908990600401612cfe565b60006040518083038186803b15801561106c57600080fd5b505afa158015611080573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526110a89190810190612406565b805160408101516101009091015191925090600160a060020a0316156109665781600001516101000151600160a060020a0316638090691c6040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561112657600080fd5b505afa15801561113a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061115e9190810190612216565b600160a060020a0316633e3212fe88856040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016111a7929190612d62565b602060405180830381600087803b1580156111c157600080fd5b505af11580156111d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506111f99190810190612459565b5050505050505050565b6002546040517f8d5802e2000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638d5802e29061124c908590600401612cfe565b60206040518083038186803b15801561126457600080fd5b505afa158015611278573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061129c9190810190612216565b600160a060020a031633146112cb57604051600080516020612eb5833981519152815260040161040590612c6d565b6002546040517f69f428dc000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906369f428dc906113169085908590600401612d0c565b602060405180830381600087803b15801561133057600080fd5b505af1158015611344573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506113689190810190612394565b151561138e57604051600080516020612eb5833981519152815260040161040590612cbd565b5050565b6000806000806060806060806000806113a9611dd4565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e992906113f2908f90600401612cfe565b60006040518083038186803b15801561140a57600080fd5b505afa15801561141e573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261144691908101906123d1565b905080600001519a50806020015199508060400151985080606001519750806080015196508060a0015195508060c0015194508060e00151935080610100015192508061012001519150509193959799509193959799565b600254604080517fae51439c0000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163ae51439c916004808301926020929190829003018186803b1580156114fc57600080fd5b505afa158015611510573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115349190810190612459565b905090565b611541611db2565b6002546040517fb3e444a7000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063b3e444a790610589908590600401612cfe565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156115f757600080fd5b505afa15801561160b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061162f9190810190612216565b600160a060020a031663265209f2846040518263ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004016116769190612b23565b60206040518083038186803b15801561168e57600080fd5b505afa1580156116a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506116c69190810190612459565b905060008460058111156116d657fe5b60020a919091161515949350505050565b6002546040517fd3b9eadf000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063d3b9eadf90611731908590600401612cfe565b60206040518083038186803b15801561174957600080fd5b505afa15801561175d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506105dd9190810190612216565b600254600160a060020a0316151561179857600080fd5b60016117a4813361158a565b15156117ca57604051600080516020612eb5833981519152815260040161040590612c7d565b6002546040517fe60a955d000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063e60a955d906118159086908690600401612d27565b600060405180830381600087803b15801561182f57600080fd5b505af1158015611843573d6000803e3d6000fd5b50505050811561187d5760405183907fbb4a2f3fc0f65f1ee98dc140226f7718191ba94892efdc55613785ccbf00a8e890600090a26118a9565b60405183907f61f3fbe0c2049de9b0219669983a937b4377c1dced582b6a720a87b49ae3c08b90600090a25b505050565b600054600160a060020a031633146118e057604051600080516020612eb5833981519152815260040161040590612c8d565b600254600160a060020a0316156118f657600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ff78708b9000000000000000000000000000000000000000000000000000000008152606091600160a060020a03169063f78708b990611970908590600401612cfe565b60006040518083038186803b15801561198857600080fd5b505afa15801561199c573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105dd919081019061235f565b8051600090600160a060020a03161580156119ea57506020820151600160a060020a0316155b80156119f857506040820151155b8015611a0657508160600151155b8015611a155750608082015151155b8015611a24575060a082015151155b8015611a33575060c082015151155b8015611a42575060e082015151155b8015611a5a5750610100820151600160a060020a0316155b1592915050565b6000809054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015611aca57600080fd5b505afa158015611ade573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611b029190810190612459565b83511115611b2a57604051600080516020612eb5833981519152815260040161040590612c4d565b611b3560038361158a565b1515611b5b57604051600080516020612eb5833981519152815260040161040590612c7d565b611b6660013361158a565b1515611b8c57604051600080516020612eb5833981519152815260040161040590612c7d565b611b95816105f2565b156118a957604051600080516020612eb5833981519152815260040161040590612c3d565b6000611bc4611dd4565b6002546040517fade1e992000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063ade1e99290611c0d908890600401612cfe565b60006040518083038186803b158015611c2557600080fd5b505afa158015611c39573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611c6191908101906123d1565b8051909150600160a060020a03163314611c9557604051600080516020612eb5833981519152815260040161040590612c9d565b80606001511515611cc057604051600080516020612eb5833981519152815260040161040590612cad565b6040810151808511611cec57604051600080516020612eb5833981519152815260040161040590612ccd565b6002546040517f8ca109c6000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690638ca109c690611d3990899089908990600401612d7d565b600060405180830381600087803b158015611d5357600080fd5b505af1158015611d67573d6000803e3d6000fd5b50505050857f2726fc1611c0f712314323e4cf7789e39ab4b8a5e4d34c6d828ee2ef657ad5438287604051611d9d929190612d62565b60405180910390a284039150505b9392505050565b61016060405190810160405280611dc7611dd4565b8152602001600081525090565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b6000611dab8235612e36565b6000611dab8251612e36565b600080601f83018413611e5157600080fd5b50813567ffffffffffffffff811115611e6957600080fd5b602083019150836020820283011115611e8157600080fd5b9250929050565b6000601f82018313611e9957600080fd5b8151611eac611ea782612dda565b612db3565b91508181835260208401935060208101905083856020840282011115611ed157600080fd5b60005b83811015611efd5781611ee78882611e33565b8452506020928301929190910190600101611ed4565b5050505092915050565b6000601f82018313611f1857600080fd5b8151611f26611ea782612dda565b91508181835260208401935060208101905083856020840282011115611f4b57600080fd5b60005b83811015611efd5781611f618882611e33565b8452506020928301929190910190600101611f4e565b6000611dab8235612e41565b6000611dab8251612e41565b6000611dab8235612e55565b600080601f83018413611fad57600080fd5b50813567ffffffffffffffff811115611fc557600080fd5b602083019150836001820283011115611e8157600080fd5b6000601f82018313611fee57600080fd5b8151611ffc611ea782612dfb565b9150808252602083016020830185838301111561201857600080fd5b612023838284612e7a565b50505092915050565b6000610140828403121561203f57600080fd5b61204a610140612db3565b905060006120588484611e33565b825250602061206984848301611e33565b602083015250604061207d848285016121e4565b604083015250606061209184828501611f83565b606083015250608082015167ffffffffffffffff8111156120b157600080fd5b6120bd84828501611fdd565b60808301525060a082015167ffffffffffffffff8111156120dd57600080fd5b6120e984828501611e88565b60a08301525060c082015167ffffffffffffffff81111561210957600080fd5b61211584828501611fdd565b60c08301525060e082015167ffffffffffffffff81111561213557600080fd5b61214184828501611fdd565b60e08301525061010061215684828501611e33565b6101008301525061012061216c84828501611f83565b6101208301525092915050565b60006040828403121561218b57600080fd5b6121956040612db3565b825190915067ffffffffffffffff8111156121af57600080fd5b6121bb8482850161202c565b82525060206121cc848483016121e4565b60208301525092915050565b6000611dab8235612e52565b6000611dab8251612e52565b60006020828403121561220257600080fd5b600061220e8484611e27565b949350505050565b60006020828403121561222857600080fd5b600061220e8484611e33565b6000806040838503121561224757600080fd5b60006122538585611e27565b925050602061226485828601611e27565b9150509250929050565b60008060008060008060008060008060e08b8d03121561228d57600080fd5b60006122998d8d611e27565b9a505060206122aa8d828e01611e27565b99505060406122bb8d828e01611f77565b98505060608b013567ffffffffffffffff8111156122d857600080fd5b6122e48d828e01611e3f565b975097505060808b013567ffffffffffffffff81111561230357600080fd5b61230f8d828e01611f9b565b955095505060a08b013567ffffffffffffffff81111561232e57600080fd5b61233a8d828e01611f9b565b935093505060c061234d8d828e016121d8565b9150509295989b9194979a5092959850565b60006020828403121561237157600080fd5b815167ffffffffffffffff81111561238857600080fd5b61220e84828501611f07565b6000602082840312156123a657600080fd5b600061220e8484611f83565b600080604083850312156123c557600080fd5b60006122538585611f8f565b6000602082840312156123e357600080fd5b815167ffffffffffffffff8111156123fa57600080fd5b61220e8482850161202c565b60006020828403121561241857600080fd5b815167ffffffffffffffff81111561242f57600080fd5b61220e84828501612179565b60006020828403121561244d57600080fd5b600061220e84846121d8565b60006020828403121561246b57600080fd5b600061220e84846121e4565b6000806040838503121561248a57600080fd5b600061225385856121d8565b600080604083850312156124a957600080fd5b60006124b585856121d8565b925050602061226485828601611f77565b600080604083850312156124d957600080fd5b60006124e585856121e4565b925050602083015167ffffffffffffffff81111561250257600080fd5b61226485828601611fdd565b6000806000806060858703121561252457600080fd5b600061253087876121d8565b9450506020612541878288016121d8565b935050604085013567ffffffffffffffff81111561255e57600080fd5b61256a87828801611f9b565b95989497509550505050565b60006125828383612599565b505060200190565b61259381612e68565b82525050565b61259381612e36565b60006125ad82612e29565b6125b78185612e2d565b93506125c283612e23565b60005b828110156125ed576125d8868351612576565b95506125e382612e23565b91506001016125c5565b5093949350505050565b600061260282612e29565b61260c8185612e2d565b935061261783612e23565b60005b828110156125ed5761262d868351612576565b955061263882612e23565b915060010161261a565b61259381612e41565b61259381612e6f565b600061265f82612e29565b6126698185612e2d565b9350612679818560208601612e7a565b61268281612eaa565b9093019392505050565b6000612699601983612e2d565b7f6164644d6174636865723a206e6f7420746865206f776e657200000000000000815260200192915050565b60006126d2601883612e2d565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b600061270b601d83612e2d565b7f736d6172746d6574657220646f657320616c7265616479206578697374000000815260200192915050565b6000612744602483612e2d565b7f6164644d6174636865723a20746f6f206d616e79206d61746368657220616c7281527f6561647900000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006127a3601e83612e2d565b7f73657442756e646c654163746976653a206e6f7420746865206f776e65720000815260200192915050565b60006127dc601c83612e2d565b7f72656d6f76654d6174636865723a206e6f7420746865206f776e657200000000815260200192915050565b6000612815602483612e2d565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612874601783612e2d565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006128ad602083612e2d565b7f73617665536d6172744d65746572526561643a2077726f6e672073656e646572815260200192915050565b60006128e6602483612e2d565b7f73617665536d6172744d65746572526561643a206173736574206e6f7420616381527f7469766500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000612945602083612e2d565b7f72656d6f76654d6174636865723a2061646472657373206e6f7420666f756e64815260200192915050565b600061297e602583612e2d565b7f73617665536d6172744d65746572526561643a206d657465727265616420746f81527f6f206c6f77000000000000000000000000000000000000000000000000000000602082015260400192915050565b60006129dd601c83612e2d565b7f73656e646572206973206e6f74207468652061737365744f776e657200000000815260200192915050565b8051600090610140840190612a1e8582612599565b506020830151612a316020860182612599565b506040830151612a446040860182612b1a565b506060830151612a576060860182612642565b5060808301518482036080860152612a6f8282612654565b91505060a083015184820360a0860152612a8982826125f7565b91505060c083015184820360c0860152612aa38282612654565b91505060e083015184820360e0860152612abd8282612654565b915050610100830151612ad4610100860182612599565b50610120830151612ae9610120860182612642565b509392505050565b8051604080845260009190840190612b098282612a09565b9150506020830151612ae960208601825b61259381612e52565b602081016105dd8284612599565b602081016105dd828461258a565b6101408101612b4e828d612599565b612b5b602083018c612599565b612b68604083018b612b1a565b612b75606083018a612642565b8181036080830152612b878189612654565b905081810360a0830152612b9b81886125a2565b905081810360c0830152612baf8187612654565b905081810360e0830152612bc38186612654565b9050612bd3610100830185612599565b612be1610120830184612642565b9b9a5050505050505050505050565b60208082528101611dab81846125a2565b602081016105dd8284612642565b602081016105dd828461264b565b602080825281016105dd8161268c565b602080825281016105dd816126c5565b602080825281016105dd816126fe565b602080825281016105dd81612737565b602080825281016105dd81612796565b602080825281016105dd816127cf565b602080825281016105dd81612808565b602080825281016105dd81612867565b602080825281016105dd816128a0565b602080825281016105dd816128d9565b602080825281016105dd81612938565b602080825281016105dd81612971565b602080825281016105dd816129d0565b60208082528101611dab8184612af1565b602081016105dd8284612b1a565b60408101612d1a8285612b1a565b611dab6020830184612599565b60408101612d358285612b1a565b611dab6020830184612642565b60408101612d508285612b1a565b818103602083015261220e8184612654565b60408101612d708285612b1a565b611dab6020830184612b1a565b60608101612d8b8286612b1a565b612d986020830185612b1a565b8181036040830152612daa8184612654565b95945050505050565b60405181810167ffffffffffffffff81118282101715612dd257600080fd5b604052919050565b600067ffffffffffffffff821115612df157600080fd5b5060209081020190565b600067ffffffffffffffff821115612e1257600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006105dd82612e46565b151590565b600160a060020a031690565b90565b600060068210612e6457600080fd5b5090565b60006105dd825b60006105dd82612e36565b60005b83811015612e95578181015183820152602001612e7d565b83811115612ea4576000848401525b50505050565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820ae8eae4df79803650cb13744725fcbc6cf53f274b02930f3ba33e45804fed1f36c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\nimport \"../../contracts/Asset/AssetProducingDB.sol\";\nimport \"../../contracts/AssetContractLookup.sol\";\nimport \"ew-origin-contracts/contracts/Interfaces/TradableEntityInterface.sol\";\nimport \"ew-origin-contracts/contracts/Interfaces/OriginContractLookupInterface.sol\";\n\nimport \"../../contracts/Asset/AssetLogic.sol\";\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"../../contracts/Interfaces/AssetProducingInterface.sol\";\n\n\n/// @title The logic contract for the asset registration\n/// @notice This contract provides the logic that determines how the data is stored\n/// @dev Needs a valid AssetProducingRegistryDB contract to function correctly\ncontract AssetProducingRegistryLogic is AssetLogic, AssetProducingInterface {\n\n    event LogNewMeterRead(\n        uint indexed _assetId,\n        uint _oldMeterRead,\n        uint _newMeterRead\n    );\n\n    \n    /// @notice Constructor\n    /// @param _userContractLookup usercontract-lookup-contract\n    /// @param _assetContractLookup the asset-lookup-contract\n    constructor(\n        UserContractLookupInterface _userContractLookup, \n        AssetContractLookupInterface _assetContractLookup\n    ) \n        RoleManagement(_userContractLookup, address(_assetContractLookup)) \n        public \n    {\n    }\n\n\t/// @notice Logs meter read\n\t/// @param _assetId The id belonging to an entry in the asset registry\n\t/// @param _newMeterRead The current meter read of the asset\n\t/// @param _lastSmartMeterReadFileHash Last meter read file hash\n    function saveSmartMeterRead(\n        uint _assetId,\n        uint _newMeterRead,\n        string calldata _lastSmartMeterReadFileHash\n    )\n        external\n        isInitialized\n    {\n        uint createdPower = setSmartMeterReadInternal(_assetId, _newMeterRead, _lastSmartMeterReadFileHash);\n\n        AssetProducingDB.Asset memory asset = AssetProducingDB(address(db)).getAssetById(_assetId);\n\n        uint oldMeterRead = asset.assetGeneral.lastSmartMeterReadWh;\n        if(address(asset.assetGeneral.marketLookupContract) != address(0x0)){\n                TradableEntityInterface(OriginContractLookupInterface(asset.assetGeneral.marketLookupContract).originLogicRegistry()).createTradableEntity(\n                    _assetId,\n                    createdPower\n                );\n\n        }\n    }\n\n\t/// @notice creates an asset with the provided parameters\n\t/// @param _smartMeter smartmeter of the asset\n\t/// @param _owner asset-owner\n\t/// @param _active flag if the asset is already active\n\t/// @param _matcher array with matcher addresses\n\t/// @param _propertiesDocumentHash hash of the document with the properties of an asset\n\t/// @param _url where to find the documentHash\n\t/// @param _numOwnerChanges allowed amount of owner-changes of certificates created by the asset\n\t/// @return generated asset-id\n\tfunction createAsset(\n        address _smartMeter,\n        address _owner,\n        bool _active,\n        address[] calldata _matcher,\n        string calldata _propertiesDocumentHash,\n        string calldata _url,\n        uint _numOwnerChanges\n    )\n        external\n        returns (uint _assetId)\n    {\n        checkBeforeCreation(_matcher, _owner, _smartMeter);\n\n        AssetGeneral memory a = AssetGeneral({\n            smartMeter: _smartMeter,\n            owner: _owner,\n            lastSmartMeterReadWh: 0,\n            active: true,\n            lastSmartMeterReadFileHash: \"\",\n            matcher: _matcher,\n            propertiesDocumentHash: _propertiesDocumentHash,\n            url: _url,\n            marketLookupContract: address(0x0),\n            bundled: false\n        });\n\n        AssetProducingDB.Asset memory _asset = AssetProducingDB.Asset(\n            {assetGeneral: a,\n            maxOwnerChanges: _numOwnerChanges\n            }\n        );\n\n        _assetId =  AssetProducingDB(address(db)).addFullAsset(_asset);\n\n        emit LogAssetCreated(msg.sender, _assetId);\n\n    }\n\n\t/// @notice Gets an asset\n\t/// @param _assetId The id belonging to an entry in the asset registry\n\t/// @return Full informations of an asset\n    function getAssetById(uint _assetId)\n        external\n        view\n        returns (\n            AssetProducingDB.Asset memory\n        )\n    {\n        return AssetProducingDB(address(db)).getAssetById(_assetId);\n    }\n\n\t/// @notice gets an asset by its smartmeter\n\t/// @param _smartMeter smartmeter used for by the asset\n\t/// @return Asset-Struct\n    function getAssetBySmartMeter(address _smartMeter)\n        external\n        view\n        returns (\n            AssetProducingDB.Asset memory\n        )\n    {\n        return AssetProducingDB(address(db)).getAssetBySmartMeter(_smartMeter);\n    }\n\n\t/// @notice checks whether an assets with the provided smartmeter already exists\n\t/// @param _smartMeter smartmter of an asset\n\t/// @return whether there is already an asset with that smartmeter\n    function checkAssetExist(address _smartMeter) public view returns (bool){\n        return checkAssetGeneralExistingStatus(AssetProducingDB(address(db)).getAssetBySmartMeter(_smartMeter).assetGeneral);\n    }\n\n    function checkAssetExistExternal(address _smartMeter) external view returns (bool) {\n        return checkAssetExist(_smartMeter);\n    }\n\n\n\t/// @notice enabes or disables the bundle-functionality\n\t/// @param _assetId the id of an asset\n\t/// @param _active whether the asset should use bundle functions\n    function setBundleActive(uint _assetId, bool _active) external {\n\n        require(msg.sender == db.getAssetOwner(_assetId),\"setBundleActive: not the owner\");\n        db.setIsBundled(_assetId, _active);\n    }\n}","networks":"{}"}