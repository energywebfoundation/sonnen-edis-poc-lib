{ "abi": [{ "constant": true, "inputs": [], "name": "getAllAgreementListLengthDB", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_demandId", "type": "uint256" }], "name": "getDemand", "outputs": [{ "components": [{ "name": "regionId", "type": "string" }, { "name": "dateTimeFrom", "type": "uint256" }, { "name": "dateTimeTo", "type": "uint256" }, { "name": "power", "type": "uint256" }, { "name": "matchedPower", "type": "uint256" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_assetId", "type": "uint256[]" }, { "name": "_regionId", "type": "string" }, { "name": "_dateTimeFrom", "type": "uint256" }, { "name": "_dateTimeTo", "type": "uint256" }, { "name": "_power", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }, { "name": "_price", "type": "uint256" }], "name": "createSupply", "outputs": [{ "name": "_supplyId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_agreementId", "type": "uint256" }], "name": "getAgreementDB", "outputs": [{ "components": [{ "name": "demandId", "type": "uint256" }, { "name": "supplyId", "type": "uint256[]" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_demandId", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "setDemandMatchedPower", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "getAllSupplyListLength", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_demandId", "type": "uint256" }, { "name": "_supplyId", "type": "uint256[]" }], "name": "createAgreementDB", "outputs": [{ "name": "_agreementId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_newOwner", "type": "address" }], "name": "changeOwner", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_supplyId", "type": "uint256" }], "name": "getAgreementForSupply", "outputs": [{ "components": [{ "name": "agreementId", "type": "uint256" }, { "name": "isSet", "type": "bool" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_regionId", "type": "string" }, { "name": "_dateTimeFrom", "type": "uint256" }, { "name": "_dateTimeTo", "type": "uint256" }, { "name": "_power", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "createDemand", "outputs": [{ "name": "_demandId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_supplyId", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "setSupplyMatchedPower", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_supplyId", "type": "uint256" }], "name": "getSupply", "outputs": [{ "components": [{ "name": "assetId", "type": "uint256[]" }, { "name": "regionId", "type": "string" }, { "name": "dateTimeFrom", "type": "uint256" }, { "name": "dateTimeTo", "type": "uint256" }, { "name": "power", "type": "uint256" }, { "name": "matchedPower", "type": "uint256" }, { "name": "price", "type": "uint256" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getAllDemandListLength", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "inputs": [{ "name": "_owner", "type": "address" }], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_newOwner", "type": "address" }], "name": "LogChangeOwner", "type": "event" }], "bytecode": "60806040523480156200001157600080fd5b50604051602080620016c983398101806040526200003391908101906200006e565b60008054600160a060020a031916600160a060020a0392909216919091179055620000b6565b600062000067825162000097565b9392505050565b6000602082840312156200008157600080fd5b60006200008f848462000059565b949350505050565b6000620000a482620000aa565b92915050565b600160a060020a031690565b61160380620000c66000396000f3fe608060405234801561001057600080fd5b5060043610610107576000357c0100000000000000000000000000000000000000000000000000000000900480639b0c1f9c116100a9578063dd4d3b6a11610083578063dd4d3b6a146101f5578063e182fb7414610208578063f77ee79d1461021b578063f9e170db1461023b57610107565b80639b0c1f9c146101af578063a6f9dae1146101c2578063b3dfe5d5146101d557610107565b806351ec4656116100e557806351ec46561461015d5780635266ddaa1461017d578063639decca146101925780638da5cb5b1461019a57610107565b806303cb53ec1461010c5780631ac2733c1461012a5780634988a23d1461014a575b600080fd5b610114610243565b60405161012191906114ad565b60405180910390f35b61013d610138366004611108565b610294565b604051610121919061147d565b610114610158366004610fae565b6103c4565b61017061016b366004611108565b6104fe565b604051610121919061146c565b61019061018b366004611178565b6105d5565b005b610114610640565b6101a2610687565b6040516101219190611438565b6101146101bd366004611126565b6106a3565b6101906101d0366004610f88565b610807565b6101e86101e3366004611108565b6108f3565b604051610121919061148e565b610114610203366004611079565b610972565b610190610216366004611178565b610a8f565b61022e610229366004611108565b610afa565b604051610121919061149c565b610114610c9c565b6000805473ffffffffffffffffffffffffffffffffffffffff16331461028c576040516000805160206115aa83398151915281526004016102839061145c565b60405180910390fd5b506001545b90565b61029c610ce3565b60005473ffffffffffffffffffffffffffffffffffffffff1633146102db576040516000805160206115aa83398151915281526004016102839061145c565b60038054839081106102e957fe5b600091825260209182902060408051600593909302909101805460026001821615610100026000190190911604601f8101859004909402830160c090810190925260a083018481529293909284929091849184018282801561038c5780601f106103615761010080835404028352916020019161038c565b820191906000526020600020905b81548152906001019060200180831161036f57829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382015481526020016004820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610404576040516000805160206115aa83398151915281526004016102839061145c565b6040805160e08101825289815260208082018a9052918101889052606081018790526080810186905260a0810185905260c08101849052600480546001810180835560009290925282518051929460079092027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01926104879284920190610d13565b5060208281015180516104a09260018501920190610d5e565b5060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c082015181600601555050506000600480549050116104ea5760006104f2565b600454600019015b98975050505050505050565b610506610dcb565b60005473ffffffffffffffffffffffffffffffffffffffff163314610545576040516000805160206115aa83398151915281526004016102839061145c565b600180548390811061055357fe5b906000526020600020906002020160408051908101604052908160008201548152602001600182018054806020026020016040519081016040528092919081815260200182805480156105c557602002820191906000526020600020905b8154815260200190600101908083116105b1575b5050505050815250509050919050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610614576040516000805160206115aa83398151915281526004016102839061145c565b600060038381548110151561062557fe5b60009182526020909120600460059092020101919091555050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610680576040516000805160206115aa83398151915281526004016102839061145c565b5060045490565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146106e3576040516000805160206115aa83398151915281526004016102839061145c565b6040805180820190915283815260208082018481526001805480820180835560009290925284517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf660029092029182019081559251805192959461076e937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf790930192910190610d13565b5050505060006001805490501161078657600061078e565b600154600019015b905060005b825181101561080057604080518082019091528281526001602082015283516002906000908690859081106107c457fe5b602090810291909101810151825281810192909252604001600020825181559101516001918201805460ff191691151591909117905501610793565b5092915050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610846576040516000805160206115aa83398151915281526004016102839061145c565b73ffffffffffffffffffffffffffffffffffffffff81161515610883576040516000805160206115aa83398151915281526004016102839061144c565b6000805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff83161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16906108e8908390611438565b60405180910390a150565b6108fb610de3565b60005473ffffffffffffffffffffffffffffffffffffffff16331461093a576040516000805160206115aa83398151915281526004016102839061145c565b610942610de3565b50506000908152600260209081526040918290208251808401909352805483526001015460ff1615159082015290565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146109b2576040516000805160206115aa83398151915281526004016102839061145c565b6040805160c06020601f8a01819004028201810190925260a081018881526003928291908b908b9081908501838280828437600092018290525093855250505060208083018a9052604083018990526060830188905260809092018690528354600181018086559482529082902083518051600590930290910192610a3c92849290910190610d5e565b5060208201518160010155604082015181600201556060820151816003015560808201518160040155505050600060038054905011610a7c576000610a84565b600354600019015b979650505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610ace576040516000805160206115aa83398151915281526004016102839061145c565b6000600483815481101515610adf57fe5b60009182526020909120600560079092020101919091555050565b610b02610dfa565b60005473ffffffffffffffffffffffffffffffffffffffff163314610b41576040516000805160206115aa83398151915281526004016102839061145c565b6004805483908110610b4f57fe5b906000526020600020906007020160e0604051908101604052908160008201805480602002602001604051908101604052809291908181526020018280548015610bb857602002820191906000526020600020905b815481526020019060010190808311610ba4575b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c5a5780601f10610c2f57610100808354040283529160200191610c5a565b820191906000526020600020905b815481529060010190602001808311610c3d57829003601f168201915b50505050508152602001600282015481526020016003820154815260200160048201548152602001600582015481526020016006820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610cdc576040516000805160206115aa83398151915281526004016102839061145c565b5060035490565b60a06040519081016040528060608152602001600081526020016000815260200160008152602001600081525090565b828054828255906000526020600020908101928215610d4e579160200282015b82811115610d4e578251825591602001919060010190610d33565b50610d5a929150610e38565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610d9f57805160ff1916838001178555610d4e565b82800160010185558215610d4e5791820182811115610d4e578251825591602001919060010190610d33565b60408051808201909152600081526060602082015290565b604080518082019091526000808252602082015290565b60e060405190810160405280606081526020016060815260200160008152602001600081526020016000815260200160008152602001600081525090565b61029191905b80821115610d5a5760008155600101610e3e565b6000610e5e823561153e565b9392505050565b6000601f82018313610e7657600080fd5b8135610e89610e84826114e2565b6114bb565b91508181835260208401935060208101905083856020840282011115610eae57600080fd5b60005b83811015610eda5781610ec48882610f7c565b8452506020928301929190910190600101610eb1565b5050505092915050565b600080601f83018413610ef657600080fd5b50813567ffffffffffffffff811115610f0e57600080fd5b602083019150836001820283011115610f2657600080fd5b9250929050565b6000601f82018313610f3e57600080fd5b8135610f4c610e8482611503565b91508082526020830160208301858383011115610f6857600080fd5b610f73838284611567565b50505092915050565b6000610e5e8235610291565b600060208284031215610f9a57600080fd5b6000610fa68484610e52565b949350505050565b600080600080600080600060e0888a031215610fc957600080fd5b873567ffffffffffffffff811115610fe057600080fd5b610fec8a828b01610e65565b975050602088013567ffffffffffffffff81111561100957600080fd5b6110158a828b01610f2d565b96505060406110268a828b01610f7c565b95505060606110378a828b01610f7c565b94505060806110488a828b01610f7c565b93505060a06110598a828b01610f7c565b92505060c061106a8a828b01610f7c565b91505092959891949750929550565b60008060008060008060a0878903121561109257600080fd5b863567ffffffffffffffff8111156110a957600080fd5b6110b589828a01610ee4565b965096505060206110c889828a01610f7c565b94505060406110d989828a01610f7c565b93505060606110ea89828a01610f7c565b92505060806110fb89828a01610f7c565b9150509295509295509295565b60006020828403121561111a57600080fd5b6000610fa68484610f7c565b6000806040838503121561113957600080fd5b60006111458585610f7c565b925050602083013567ffffffffffffffff81111561116257600080fd5b61116e85828601610e65565b9150509250929050565b6000806040838503121561118b57600080fd5b60006111978585610f7c565b925050602061116e85828601610f7c565b60006111b4838361142f565b505060200190565b6111c58161153e565b82525050565b60006111d682611531565b6111e08185611535565b93506111eb8361152b565b60005b82811015611216576112018683516111a8565b955061120c8261152b565b91506001016111ee565b5093949350505050565b6111c581611549565b600061123482611531565b61123e8185611535565b935061124e818560208601611573565b6112578161159f565b9093019392505050565b600061126e601883611535565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006112a7601783611535565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b805160009060408401906112e7858261142f565b50602083015184820360208601526112ff82826111cb565b95945050505050565b805160a0808452600091908401906113208282611229565b9150506020830151611335602086018261142f565b506040830151611348604086018261142f565b50606083015161135b606086018261142f565b50608083015161136e608086018261142f565b509392505050565b80516040830190611387848261142f565b50602082015161139a6020850182611220565b50505050565b805160e0808452600091908401906113b882826111cb565b915050602083015184820360208601526113d28282611229565b91505060408301516113e7604086018261142f565b5060608301516113fa606086018261142f565b50608083015161140d608086018261142f565b5060a083015161142060a086018261142f565b5060c083015161136e60c08601825b6111c581610291565b6020810161144682846111bc565b92915050565b6020808252810161144681611261565b602080825281016114468161129a565b60208082528101610e5e81846112d3565b60208082528101610e5e8184611308565b604081016114468284611376565b60208082528101610e5e81846113a0565b60208101611446828461142f565b60405181810167ffffffffffffffff811182821017156114da57600080fd5b604052919050565b600067ffffffffffffffff8211156114f957600080fd5b5060209081020190565b600067ffffffffffffffff82111561151a57600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006114468261154e565b151590565b73ffffffffffffffffffffffffffffffffffffffff1690565b82818337506000910152565b60005b8381101561158e578181015183820152602001611576565b8381111561139a5750506000910152565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a723058205329f8418c925cc4fa07cdf13f86471e20cff765e798dddca9be15e389924d5f6c6578706572696d656e74616cf50037", "contractName": "MarketDB", "deployedBytecode": "608060405234801561001057600080fd5b5060043610610107576000357c0100000000000000000000000000000000000000000000000000000000900480639b0c1f9c116100a9578063dd4d3b6a11610083578063dd4d3b6a146101f5578063e182fb7414610208578063f77ee79d1461021b578063f9e170db1461023b57610107565b80639b0c1f9c146101af578063a6f9dae1146101c2578063b3dfe5d5146101d557610107565b806351ec4656116100e557806351ec46561461015d5780635266ddaa1461017d578063639decca146101925780638da5cb5b1461019a57610107565b806303cb53ec1461010c5780631ac2733c1461012a5780634988a23d1461014a575b600080fd5b610114610243565b60405161012191906114ad565b60405180910390f35b61013d610138366004611108565b610294565b604051610121919061147d565b610114610158366004610fae565b6103c4565b61017061016b366004611108565b6104fe565b604051610121919061146c565b61019061018b366004611178565b6105d5565b005b610114610640565b6101a2610687565b6040516101219190611438565b6101146101bd366004611126565b6106a3565b6101906101d0366004610f88565b610807565b6101e86101e3366004611108565b6108f3565b604051610121919061148e565b610114610203366004611079565b610972565b610190610216366004611178565b610a8f565b61022e610229366004611108565b610afa565b604051610121919061149c565b610114610c9c565b6000805473ffffffffffffffffffffffffffffffffffffffff16331461028c576040516000805160206115aa83398151915281526004016102839061145c565b60405180910390fd5b506001545b90565b61029c610ce3565b60005473ffffffffffffffffffffffffffffffffffffffff1633146102db576040516000805160206115aa83398151915281526004016102839061145c565b60038054839081106102e957fe5b600091825260209182902060408051600593909302909101805460026001821615610100026000190190911604601f8101859004909402830160c090810190925260a083018481529293909284929091849184018282801561038c5780601f106103615761010080835404028352916020019161038c565b820191906000526020600020905b81548152906001019060200180831161036f57829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382015481526020016004820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610404576040516000805160206115aa83398151915281526004016102839061145c565b6040805160e08101825289815260208082018a9052918101889052606081018790526080810186905260a0810185905260c08101849052600480546001810180835560009290925282518051929460079092027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01926104879284920190610d13565b5060208281015180516104a09260018501920190610d5e565b5060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c082015181600601555050506000600480549050116104ea5760006104f2565b600454600019015b98975050505050505050565b610506610dcb565b60005473ffffffffffffffffffffffffffffffffffffffff163314610545576040516000805160206115aa83398151915281526004016102839061145c565b600180548390811061055357fe5b906000526020600020906002020160408051908101604052908160008201548152602001600182018054806020026020016040519081016040528092919081815260200182805480156105c557602002820191906000526020600020905b8154815260200190600101908083116105b1575b5050505050815250509050919050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610614576040516000805160206115aa83398151915281526004016102839061145c565b600060038381548110151561062557fe5b60009182526020909120600460059092020101919091555050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610680576040516000805160206115aa83398151915281526004016102839061145c565b5060045490565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146106e3576040516000805160206115aa83398151915281526004016102839061145c565b6040805180820190915283815260208082018481526001805480820180835560009290925284517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf660029092029182019081559251805192959461076e937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf790930192910190610d13565b5050505060006001805490501161078657600061078e565b600154600019015b905060005b825181101561080057604080518082019091528281526001602082015283516002906000908690859081106107c457fe5b602090810291909101810151825281810192909252604001600020825181559101516001918201805460ff191691151591909117905501610793565b5092915050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610846576040516000805160206115aa83398151915281526004016102839061145c565b73ffffffffffffffffffffffffffffffffffffffff81161515610883576040516000805160206115aa83398151915281526004016102839061144c565b6000805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff83161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16906108e8908390611438565b60405180910390a150565b6108fb610de3565b60005473ffffffffffffffffffffffffffffffffffffffff16331461093a576040516000805160206115aa83398151915281526004016102839061145c565b610942610de3565b50506000908152600260209081526040918290208251808401909352805483526001015460ff1615159082015290565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146109b2576040516000805160206115aa83398151915281526004016102839061145c565b6040805160c06020601f8a01819004028201810190925260a081018881526003928291908b908b9081908501838280828437600092018290525093855250505060208083018a9052604083018990526060830188905260809092018690528354600181018086559482529082902083518051600590930290910192610a3c92849290910190610d5e565b5060208201518160010155604082015181600201556060820151816003015560808201518160040155505050600060038054905011610a7c576000610a84565b600354600019015b979650505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610ace576040516000805160206115aa83398151915281526004016102839061145c565b6000600483815481101515610adf57fe5b60009182526020909120600560079092020101919091555050565b610b02610dfa565b60005473ffffffffffffffffffffffffffffffffffffffff163314610b41576040516000805160206115aa83398151915281526004016102839061145c565b6004805483908110610b4f57fe5b906000526020600020906007020160e0604051908101604052908160008201805480602002602001604051908101604052809291908181526020018280548015610bb857602002820191906000526020600020905b815481526020019060010190808311610ba4575b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c5a5780601f10610c2f57610100808354040283529160200191610c5a565b820191906000526020600020905b815481529060010190602001808311610c3d57829003601f168201915b50505050508152602001600282015481526020016003820154815260200160048201548152602001600582015481526020016006820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610cdc576040516000805160206115aa83398151915281526004016102839061145c565b5060035490565b60a06040519081016040528060608152602001600081526020016000815260200160008152602001600081525090565b828054828255906000526020600020908101928215610d4e579160200282015b82811115610d4e578251825591602001919060010190610d33565b50610d5a929150610e38565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610d9f57805160ff1916838001178555610d4e565b82800160010185558215610d4e5791820182811115610d4e578251825591602001919060010190610d33565b60408051808201909152600081526060602082015290565b604080518082019091526000808252602082015290565b60e060405190810160405280606081526020016060815260200160008152602001600081526020016000815260200160008152602001600081525090565b61029191905b80821115610d5a5760008155600101610e3e565b6000610e5e823561153e565b9392505050565b6000601f82018313610e7657600080fd5b8135610e89610e84826114e2565b6114bb565b91508181835260208401935060208101905083856020840282011115610eae57600080fd5b60005b83811015610eda5781610ec48882610f7c565b8452506020928301929190910190600101610eb1565b5050505092915050565b600080601f83018413610ef657600080fd5b50813567ffffffffffffffff811115610f0e57600080fd5b602083019150836001820283011115610f2657600080fd5b9250929050565b6000601f82018313610f3e57600080fd5b8135610f4c610e8482611503565b91508082526020830160208301858383011115610f6857600080fd5b610f73838284611567565b50505092915050565b6000610e5e8235610291565b600060208284031215610f9a57600080fd5b6000610fa68484610e52565b949350505050565b600080600080600080600060e0888a031215610fc957600080fd5b873567ffffffffffffffff811115610fe057600080fd5b610fec8a828b01610e65565b975050602088013567ffffffffffffffff81111561100957600080fd5b6110158a828b01610f2d565b96505060406110268a828b01610f7c565b95505060606110378a828b01610f7c565b94505060806110488a828b01610f7c565b93505060a06110598a828b01610f7c565b92505060c061106a8a828b01610f7c565b91505092959891949750929550565b60008060008060008060a0878903121561109257600080fd5b863567ffffffffffffffff8111156110a957600080fd5b6110b589828a01610ee4565b965096505060206110c889828a01610f7c565b94505060406110d989828a01610f7c565b93505060606110ea89828a01610f7c565b92505060806110fb89828a01610f7c565b9150509295509295509295565b60006020828403121561111a57600080fd5b6000610fa68484610f7c565b6000806040838503121561113957600080fd5b60006111458585610f7c565b925050602083013567ffffffffffffffff81111561116257600080fd5b61116e85828601610e65565b9150509250929050565b6000806040838503121561118b57600080fd5b60006111978585610f7c565b925050602061116e85828601610f7c565b60006111b4838361142f565b505060200190565b6111c58161153e565b82525050565b60006111d682611531565b6111e08185611535565b93506111eb8361152b565b60005b82811015611216576112018683516111a8565b955061120c8261152b565b91506001016111ee565b5093949350505050565b6111c581611549565b600061123482611531565b61123e8185611535565b935061124e818560208601611573565b6112578161159f565b9093019392505050565b600061126e601883611535565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006112a7601783611535565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b805160009060408401906112e7858261142f565b50602083015184820360208601526112ff82826111cb565b95945050505050565b805160a0808452600091908401906113208282611229565b9150506020830151611335602086018261142f565b506040830151611348604086018261142f565b50606083015161135b606086018261142f565b50608083015161136e608086018261142f565b509392505050565b80516040830190611387848261142f565b50602082015161139a6020850182611220565b50505050565b805160e0808452600091908401906113b882826111cb565b915050602083015184820360208601526113d28282611229565b91505060408301516113e7604086018261142f565b5060608301516113fa606086018261142f565b50608083015161140d608086018261142f565b5060a083015161142060a086018261142f565b5060c083015161136e60c08601825b6111c581610291565b6020810161144682846111bc565b92915050565b6020808252810161144681611261565b602080825281016114468161129a565b60208082528101610e5e81846112d3565b60208082528101610e5e8184611308565b604081016114468284611376565b60208082528101610e5e81846113a0565b60208101611446828461142f565b60405181810167ffffffffffffffff811182821017156114da57600080fd5b604052919050565b600067ffffffffffffffff8211156114f957600080fd5b5060209081020190565b600067ffffffffffffffff82111561151a57600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006114468261154e565b151590565b73ffffffffffffffffffffffffffffffffffffffff1690565b82818337506000910152565b60005b8381101561158e578181015183820152602001611576565b8381111561139a5750506000910152565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a723058205329f8418c925cc4fa07cdf13f86471e20cff765e798dddca9be15e389924d5f6c6578706572696d656e74616cf50037", "source": "// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.2;\npragma experimental ABIEncoderV2;\n\nimport \"../../contracts/Trading/AgreementDB.sol\";\n\n/// @title The Database contract for the AgreementDB of Origin list\n/// @notice This contract only provides getter and setter methods and only its logic-contract is able to call the functions\ncontract MarketDB is AgreementDB {\n\n    /// @notice struct for gather all information\n    struct Demand {\n        string regionId;\n        uint dateTimeFrom;\n        uint dateTimeTo;\n        uint power;\n        uint matchedPower;\n    }\n\n    struct Supply {\n        uint[] assetId;\n        string regionId;\n        uint dateTimeFrom;\n        uint dateTimeTo;\n        uint power;\n        uint matchedPower;\n        uint price;\n    }\n\n    /// @notice list with all created demands\n    Demand[] private allDemands;\n\n    /// @notice list with all supplies\n    Supply[] private allSupply;\n\n    /// @notice Constructor\n    /// @param _owner The owner of the contract\n    constructor(address _owner) public Owned(_owner) {}\n\n\t/// @notice creates a demand\n\t/// @return the demand-id\n    function createDemand\n    (\n        string calldata _regionId,\n        uint _dateTimeFrom,\n        uint _dateTimeTo,\n        uint _power,\n        uint _matchedPower\n    )\n        external\n        onlyOwner\n        returns (uint _demandId)\n    {\n        allDemands.push(Demand({\n            regionId: _regionId,\n            dateTimeFrom: _dateTimeFrom,\n            dateTimeTo: _dateTimeTo,\n            power: _power,\n            matchedPower: _matchedPower\n        }));\n        _demandId = allDemands.length>0?allDemands.length-1:0;\n    }\n\n\t/// @notice creates a supply\n    function createSupply\n    (\n        uint[] memory _assetId,\n        string memory _regionId,\n        uint _dateTimeFrom,\n        uint _dateTimeTo,\n        uint _power,\n        uint _matchedPower,\n        uint _price\n    )\n        public\n        onlyOwner\n        returns (uint _supplyId)\n    {\n        allSupply.push(Supply({\n            assetId: _assetId,\n            regionId: _regionId,\n            dateTimeFrom: _dateTimeFrom,\n            dateTimeTo: _dateTimeTo,\n            power: _power,\n            matchedPower: _matchedPower,\n            price: _price\n        }));\n        _supplyId = allSupply.length>0?allSupply.length-1:0;\n    }\n\n\t/// @notice funtion to retrieve the length of the demands-array\n\t/// @return the length of the allagreements-array\n    function getAllDemandListLength()\n        external\n        view\n        onlyOwner\n        returns (uint)\n    {\n        return allDemands.length;\n    }\n\n\t/// @notice funtion to retrieve the length of the supply-array\n\t/// @return the length of the allagreements-array\n    function getAllSupplyListLength()\n        external\n        view\n        onlyOwner\n        returns (uint)\n    {\n        return allSupply.length;\n    }\n\n\n\n\t/// @notice Returns a demand-struct\n\t/// @param _demandId id of a demand\n\t/// @return returns a demand-struct\n    function getDemand(uint _demandId)\n        external\n        view\n        onlyOwner\n        returns (Demand memory)\n    {\n        return allDemands[_demandId];\n    }\n\n\t/// @notice Returns a supply-struct\n\t/// @param _supplyId id of a supply\n\t/// @return returns a supply-struct\n    function getSupply(uint _supplyId)\n        external\n        view\n        onlyOwner\n        returns (Supply memory)\n    {\n        return allSupply[_supplyId];\n    }\n\n    function setDemandMatchedPower(\n        uint _demandId,\n        uint _matchedPower\n    )\n        external \n        onlyOwner\n    {\n       \n        Demand storage d = allDemands[_demandId];\n        d.matchedPower = _matchedPower;\n    }\n\n    function setSupplyMatchedPower(\n        uint _supplyId,\n        uint _matchedPower\n    )\n        external\n        onlyOwner\n    {\n        Supply storage s = allSupply[_supplyId];\n        s.matchedPower = _matchedPower;\n    }\n\n}\n", "networks": "{}" }
