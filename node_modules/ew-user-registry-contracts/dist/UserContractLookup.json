{"abi":[{"constant":false,"inputs":[{"name":"_userRegistry","type":"address"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"userRegistry","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_userRegistry","type":"address"},{"name":"_db","type":"address"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"608060405234801561001057600080fd5b5060008054600160a060020a03191633179055610780806100326000396000f3fe608060405234801561001057600080fd5b5060043610610084576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b1161006d5780638da5cb5b146100ef578063a6f9dae1146100f7578063f09a40161461012a57610084565b80631c1b8772146100895780635c7460d6146100be575b600080fd5b6100bc6004803603602081101561009f57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16610165565b005b6100c6610338565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b6100c6610354565b6100bc6004803603602081101561010d57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16610370565b6100bc6004803603604081101561014057600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160200135166104e8565b60005473ffffffffffffffffffffffffffffffffffffffff1633146101eb57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561026f57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b877200000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b1580156102e357600080fd5b505af11580156102f7573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff94909416939093179092555050565b60015473ffffffffffffffffffffffffffffffffffffffff1690565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b60005473ffffffffffffffffffffffffffffffffffffffff1633146103f657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561047a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b6000805473ffffffffffffffffffffffffffffffffffffffff831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a150565b60005473ffffffffffffffffffffffffffffffffffffffff16331461056e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8216158015906105a9575060015473ffffffffffffffffffffffffffffffffffffffff16155b151561061657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561069a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f5f64622063616e6e6f7420626520300000000000000000000000000000000000604482015290519081900360640190fd5b6001805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff8481169190911791829055604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b15801561073857600080fd5b505af115801561074c573d6000803e3d6000fd5b50505050505056fea165627a7a723058202f8560c20cdb0c00380d9d68d539ef9f49a6328147d1cefb68780d6481a43b300029","contractName":"UserContractLookup","deployedBytecode":"608060405234801561001057600080fd5b5060043610610084576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b1161006d5780638da5cb5b146100ef578063a6f9dae1146100f7578063f09a40161461012a57610084565b80631c1b8772146100895780635c7460d6146100be575b600080fd5b6100bc6004803603602081101561009f57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16610165565b005b6100c6610338565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b6100c6610354565b6100bc6004803603602081101561010d57600080fd5b503573ffffffffffffffffffffffffffffffffffffffff16610370565b6100bc6004803603604081101561014057600080fd5b5073ffffffffffffffffffffffffffffffffffffffff813581169160200135166104e8565b60005473ffffffffffffffffffffffffffffffffffffffff1633146101eb57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561026f57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b877200000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b1580156102e357600080fd5b505af11580156102f7573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff94909416939093179092555050565b60015473ffffffffffffffffffffffffffffffffffffffff1690565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b60005473ffffffffffffffffffffffffffffffffffffffff1633146103f657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561047a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b6000805473ffffffffffffffffffffffffffffffffffffffff831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a150565b60005473ffffffffffffffffffffffffffffffffffffffff16331461056e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8216158015906105a9575060015473ffffffffffffffffffffffffffffffffffffffff16155b151561061657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b73ffffffffffffffffffffffffffffffffffffffff8116151561069a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f5f64622063616e6e6f7420626520300000000000000000000000000000000000604482015290519081900360640190fd5b6001805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff8481169190911791829055604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b15801561073857600080fd5b505af115801561074c573d6000803e3d6000fd5b50505050505056fea165627a7a723058202f8560c20cdb0c00380d9d68d539ef9f49a6328147d1cefb68780d6481a43b300029","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.0;\n\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"ew-utils-general-contracts/contracts/Interfaces/Updatable.sol\";\nimport \"../contracts/Interfaces/UserContractLookupInterface.sol\";\n\n/// @title Contract for storing the current logic-contracts-addresses for the certificate of origin\ncontract UserContractLookup is Owned, UserContractLookupInterface {\n\n    Updatable private userRegistryContract;\n\n    /// @notice The constructor\n    constructor() Owned(msg.sender) public{ }\n\n    /// @notice function to initialize the contracts, setting the needed contract-addresses\n    /// @param _userRegistry user-registry logic contract address\n    /// @param _db the database-contract of the user-registry-system\n    function init(Updatable _userRegistry, address _db)\n        external\n        onlyOwner\n    {\n        require(address(_userRegistry) != address(0) && address(userRegistryContract) == address(0), \"already initialized\");\n        require(address(_db) != address(0x0), \"_db cannot be 0\");\n        userRegistryContract = _userRegistry;\n        userRegistryContract.init(_db, msg.sender);\n    }\n\n    /// @notice function to update one or more logic-contracts\n    /// @param _userRegistry address of the new user-registry-logic-contract\n    function update(\n        Updatable _userRegistry\n    )\n        external\n        onlyOwner\n    {\n        require(address(_userRegistry)!= address(0x0), \"update: cannot set to 0\");\n        userRegistryContract.update(address(_userRegistry));\n        userRegistryContract = _userRegistry;\n    }\n\n    /// @notice returns the current userRegistryLogic that has access to the db\n    /// @dev this function will be called by external contracts\n    /// @return the user-Registry\n    function userRegistry() external view returns (address){\n        return address(userRegistryContract);\n    }\n}\n","networks":"{}"}