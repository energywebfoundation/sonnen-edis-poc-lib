{"abi":[{"constant":true,"inputs":[{"name":"_interfaceID","type":"bytes4"}],"name":"supportsInterface","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_approved","type":"address"},{"name":"_entityId","type":"uint256"}],"name":"approve","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_certificateId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"addEscrowForEntity","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newLogic","type":"address"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_entityId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_certificateId","type":"uint256"},{"name":"_power","type":"uint256"}],"name":"splitCertificate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_powerInW","type":"uint256"}],"name":"createTradableEntity","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_entityId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"userContractLookup","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"db","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_certificateId","type":"uint256"}],"name":"getCertificate","outputs":[{"components":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"tradableEntity","type":"tuple"},{"components":[{"name":"retired","type":"bool"},{"name":"dataLog","type":"string"},{"name":"creationTime","type":"uint256"},{"name":"parentId","type":"uint256"},{"name":"children","type":"uint256[]"},{"name":"maxOwnerChanges","type":"uint256"},{"name":"ownerChangeCounter","type":"uint256"}],"name":"certificateSpecific","type":"tuple"}],"name":"certificate","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_price","type":"uint256"}],"name":"setOnChainDirectPurchasePrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"ownerOf","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"assetContractLookup","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_matcher","type":"address[]"}],"name":"checkMatcher","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntity","outputs":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_certificateId","type":"uint256"}],"name":"getCertificateOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_certificateId","type":"uint256"}],"name":"buyCertificate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_escrow","type":"address"},{"name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getCertificateListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_entityId","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_role","type":"uint8"},{"name":"_caller","type":"address"}],"name":"isRole","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_certificateId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"removeEscrow","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_certificateId","type":"uint256"}],"name":"isRetired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_certificateId","type":"uint256"}],"name":"retireCertificate","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_tokenContract","type":"address"}],"name":"setTradableToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getOnChainDirectPurchasePrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_database","type":"address"},{"name":"_admin","type":"address"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_assetContractLookup","type":"address"},{"name":"_originContractLookup","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_certificateId","type":"uint256"},{"indexed":false,"name":"powerInW","type":"uint256"},{"indexed":false,"name":"owner","type":"address"}],"name":"LogCreatedCertificate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_certificateId","type":"uint256"},{"indexed":false,"name":"_retire","type":"bool"}],"name":"LogCertificateRetired","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_certificateId","type":"uint256"},{"indexed":false,"name":"_childOne","type":"uint256"},{"indexed":false,"name":"_childTwo","type":"uint256"}],"name":"LogCertificateSplit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":true,"name":"_tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_approved","type":"address"},{"indexed":true,"name":"_tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_certificateId","type":"uint256"},{"indexed":false,"name":"_escrow","type":"address"}],"name":"LogEscrowRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_certificateId","type":"uint256"},{"indexed":false,"name":"_escrow","type":"address"}],"name":"LogEscrowAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b506040516040806200468483398101806040526200003391908101906200015b565b818181600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156200008b57600080fd5b505afa158015620000a0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250620000c6919081019062000132565b60008054600160a060020a03938416600160a060020a03199182161790915560018054928416928216929092179091556003805493909216921691909117905550620001c69050565b60006200011d82516200019a565b9392505050565b60006200011d8251620001ad565b6000602082840312156200014557600080fd5b60006200015384846200010f565b949350505050565b600080604083850312156200016f57600080fd5b60006200017d858562000124565b9250506020620001908582860162000124565b9150509250929050565b6000620001a782620001ba565b92915050565b6000620001a7826200019a565b600160a060020a031690565b6144ae80620001d66000396000f3fe608060405260043610610236576000357c01000000000000000000000000000000000000000000000000000000009004806381bd56011161013a578063bb5a389e116100cd578063deadb8671161009c578063e985e9c511610081578063e985e9c514610609578063f09a401614610629578063fb79224f1461064957610236565b8063deadb867146105c9578063e09a7279146105e957610236565b8063bb5a389e14610549578063c365d3f014610569578063cf6ebee714610589578063d50bba1a146105a957610236565b8063a22cb46511610109578063a22cb465146104e1578063a6f9dae114610501578063af27739514610521578063b88d4fde1461053657610236565b806381bd56011461045f57806384e814ef1461048c5780638da5cb5b146104ac57806390c985a1146104c157610236565b806342842e0e116101cd57806354e3043c1161019c5780636c608004116101815780636c6080041461040a5780636fdcc4ed1461041f57806370a082311461043f57610236565b806354e3043c146103ca5780636352211e146103ea57610236565b806342842e0e1461035357806344724c8c146103665780634d655aff1461038857806351640fee1461039d57610236565b80631c1b8772116102095780631c1b8772146102d357806323b872dd146102f35780633c109bae146103065780633e3212fe1461032657610236565b806301ffc9a71461023b578063081812fc14610271578063095ea7b31461029e5780630d473bd4146102b3575b600080fd5b34801561024757600080fd5b5061025b610256366004613769565b610669565b60405161026891906140d4565b60405180910390f35b34801561027d57600080fd5b5061029161028c366004613863565b6106be565b6040516102689190613ffc565b6102b16102ac3660046136e6565b61075e565b005b3480156102bf57600080fd5b506102b16102ce36600461389f565b61090d565b3480156102df57600080fd5b506102b16102ee366004613575565b610be5565b6102b16103013660046135eb565b610c90565b34801561031257600080fd5b506102b16103213660046138be565b610d67565b34801561033257600080fd5b506103466103413660046138be565b610fd0565b6040516102689190614222565b6102b16103613660046135eb565b6110a3565b34801561037257600080fd5b5061037b6110eb565b60405161026891906140e2565b34801561039457600080fd5b5061037b6110fa565b3480156103a957600080fd5b506103bd6103b8366004613863565b611109565b6040516102689190614200565b3480156103d657600080fd5b506102b16103e53660046138be565b61119c565b3480156103f657600080fd5b50610291610405366004613863565b6112e2565b34801561041657600080fd5b5061037b6113ab565b34801561042b57600080fd5b5061025b61043a366004613716565b6113ba565b34801561044b57600080fd5b5061034661045a366004613575565b611558565b34801561046b57600080fd5b5061047f61047a366004613863565b61161e565b6040516102689190614211565b34801561049857600080fd5b506102916104a7366004613863565b6116c3565b3480156104b857600080fd5b5061029161175a565b3480156104cd57600080fd5b506102b16104dc366004613863565b611769565b3480156104ed57600080fd5b506102b16104fc3660046136b6565b6119c7565b34801561050d57600080fd5b506102b161051c366004613575565b611a95565b34801561052d57600080fd5b50610346611b50565b6102b1610544366004613638565b611beb565b34801561055557600080fd5b5061025b6105643660046137a5565b611c62565b34801561057557600080fd5b506102b161058436600461389f565b611dbf565b34801561059557600080fd5b5061025b6105a4366004613863565b611f71565b3480156105b557600080fd5b506102b16105c4366004613863565b612008565b3480156105d557600080fd5b506102b16105e436600461389f565b6120e5565b3480156105f557600080fd5b50610346610604366004613863565b6121f4565b34801561061557600080fd5b5061025b6106243660046135b1565b61223e565b34801561063557600080fd5b506102b16106443660046135b1565b6122e1565b34801561065557600080fd5b50610291610664366004613863565b612354565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007fffffffff00000000000000000000000000000000000000000000000000000000831614156106b9575060015b919050565b6002546040517f081812fc000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063081812fc90610708908590600401614222565b60206040518083038186803b15801561072057600080fd5b505afa158015610734573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107589190810190613593565b92915050565b610766612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd5601906107af908590600401614222565b60006040518083038186803b1580156107c757600080fd5b505afa1580156107db573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610803919081019061382e565b6020810151909150600160a060020a031633148061082957506108298160a001516113ba565b15156108535760405160e560020a62461bcd02815260040161084a90614150565b60405180910390fd5b6002546040517f51ba60d7000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906351ba60d79061089e9085908790600401614230565b600060405180830381600087803b1580156108b857600080fd5b505af11580156108cc573d6000803e3d6000fd5b5050604051849250600160a060020a038616915033907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92590600090a4505050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90610958908590600401614222565b60206040518083038186803b15801561097057600080fd5b505afa158015610984573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506109a89190810190613593565b600160a060020a0316146109d15760405160e560020a62461bcd02815260040161084a90614100565b6000809054906101000a9004600160a060020a0316600160a060020a03166381f5ec2d6040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610a3a57600080fd5b505afa158015610a4e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610a729190810190613881565b6002546040517f1273938b000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690631273938b90610abb908790600401614222565b60206040518083038186803b158015610ad357600080fd5b505afa158015610ae7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610b0b9190810190613881565b10610b2b5760405160e560020a62461bcd02815260040161084a90614140565b6002546040517f0d473bd4000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690630d473bd490610b769086908690600401614230565b600060405180830381600087803b158015610b9057600080fd5b505af1158015610ba4573d6000803e3d6000fd5b50505050827f4f16f65b0353c3ad5641f53a8e4d9426051fb93cd166c41d161bccbbcda03a7183604051610bd89190613ffc565b60405180910390a2505050565b600054600160a060020a03163314610c125760405160e560020a62461bcd02815260040161084a90614170565b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae190610c5b908490600401613ffc565b600060405180830381600087803b158015610c7557600080fd5b505af1158015610c89573d6000803e3d6000fd5b5050505050565b6004610c9c8133611c62565b1515610cbd5760405160e560020a62461bcd02815260040161084a90614160565b610cc5612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90610cfc908690600401614222565b60006040518083038186803b158015610d1457600080fd5b505afa158015610d28573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610d5091908101906137f9565b9050610d5d85858561239e565b610c898382612710565b610d6f612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90610da6908690600401614222565b60006040518083038186803b158015610dbe57600080fd5b505afa158015610dd2573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610dfa91908101906137f9565b805160200151909150600160a060020a0316331480610e235750805160a00151610e23906113ba565b1515610e2e57600080fd5b8051604001518210610e3f57600080fd5b60208101515115610e4f57600080fd5b6020810151608001515115610e6357600080fd5b6002546040517fde1fabc50000000000000000000000000000000000000000000000000000000081526000918291600160a060020a039091169063de1fabc590610eb390889088906004016142af565b6040805180830381600087803b158015610ecc57600080fd5b505af1158015610ee0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f0491908101906138dd565b9150915081836000015160200151600160a060020a03166000600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a48251602001516040518291600160a060020a0316906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a4847fa64343557c40f14353f86daacaf25190b440051f31475bb9c3d59125e07373758383604051610fc19291906142af565b60405180910390a25050505050565b600354604080517f24a793c40000000000000000000000000000000000000000000000000000000081529051600092600160a060020a0316916324a793c4916004808301926020929190829003018186803b15801561102e57600080fd5b505afa158015611042573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506110669190810190613593565b33600160a060020a038216146110915760405160e560020a62461bcd02815260040161084a906141d0565b61109b848461289a565b949350505050565b60046110af8133611c62565b15156110d05760405160e560020a62461bcd02815260040161084a90614160565b604080516020810190915260008152610c8985858584612b2a565b600154600160a060020a031681565b600254600160a060020a031681565b611111612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90611148908590600401614222565b60006040518083038186803b15801561116057600080fd5b505afa158015611174573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261075891908101906137f9565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e906111e7908590600401614222565b60206040518083038186803b1580156111ff57600080fd5b505afa158015611213573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506112379190810190613593565b600160a060020a0316146112605760405160e560020a62461bcd02815260040161084a90614100565b6002546040517f54e3043c000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906354e3043c906112ab90869086906004016142af565b600060405180830381600087803b1580156112c557600080fd5b505af11580156112d9573d6000803e3d6000fd5b50505050505050565b6002546040517e9df41e0000000000000000000000000000000000000000000000000000000081526000918291600160a060020a0390911690629df41e9061132e908690600401614222565b60206040518083038186803b15801561134657600080fd5b505afa15801561135a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061137e9190810190613593565b9050600160a060020a03811615156107585760405160e560020a62461bcd02815260040161084a90614120565b600354600160a060020a031681565b6000805b8251600360009054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561142a57600080fd5b505afa15801561143e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506114629190810190613881565b1061146e578251611510565b600360009054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156114d857600080fd5b505afa1580156114ec573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115109190810190613881565b811015611552578251339084908390811061152757fe5b90602001906020020151600160a060020a0316141561154a5760019150506106b9565b6001016113be565b50919050565b6000600160a060020a03821615156115855760405160e560020a62461bcd02815260040161084a90614120565b6002546040517f9b96eece000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690639b96eece906115ce908590600401613ffc565b60206040518083038186803b1580156115e657600080fd5b505afa1580156115fa573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107589190810190613881565b611626612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd56019061166f908590600401614222565b60006040518083038186803b15801561168757600080fd5b505afa15801561169b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610758919081019061382e565b6002546040516000805160206144558339815191528152600091600160a060020a0316906351640fee906116fb908590600401614222565b60006040518083038186803b15801561171357600080fd5b505afa158015611727573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261174f91908101906137f9565b516020015192915050565b600054600160a060020a031681565b60046117758133611c62565b15156117965760405160e560020a62461bcd02815260040161084a90614160565b61179e612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee906117d5908690600401614222565b60006040518083038186803b1580156117ed57600080fd5b505afa158015611801573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261182991908101906137f9565b805160600151909150600160a060020a0316151561185c5760405160e560020a62461bcd02815260040161084a906141c0565b8051606081015160208201516080909201516040517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a03909216926323b872dd926118b592339291600401614032565b602060405180830381600087803b1580156118cf57600080fd5b505af11580156118e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611907919081019061374b565b15156119285760405160e560020a62461bcd02815260040161084a90614190565b6002546040517f51ba60d7000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906351ba60d790611973908690339060040161423e565b600060405180830381600087803b15801561198d57600080fd5b505af11580156119a1573d6000803e3d6000fd5b505050506119b8816000015160200151338561239e565b6119c28382612710565b505050565b6002546040517fbebc1e9c000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063bebc1e9c90611a149033908690869060040161400a565b600060405180830381600087803b158015611a2e57600080fd5b505af1158015611a42573d6000803e3d6000fd5b5050505081600160a060020a031633600160a060020a03167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051611a8991906140d4565b60405180910390a35050565b600054600160a060020a03163314611ac25760405160e560020a62461bcd02815260040161084a90614170565b600160a060020a0381161515611aed5760405160e560020a62461bcd02815260040161084a90614110565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690611b45908390613ffc565b60405180910390a150565b600254604080517faf2773950000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163af277395916004808301926020929190829003018186803b158015611bae57600080fd5b505afa158015611bc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611be69190810190613881565b905090565b6004611bf78133611c62565b1515611c185760405160e560020a62461bcd02815260040161084a90614160565b611c5a86868686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612b2a92505050565b505050505050565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015611ccf57600080fd5b505afa158015611ce3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611d079190810190613593565b600160a060020a031663265209f2846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611d4e9190613ffc565b60206040518083038186803b158015611d6657600080fd5b505afa158015611d7a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611d9e9190810190613881565b90506000846005811115611dae57fe5b60020a919091161515949350505050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90611e0a908590600401614222565b60206040518083038186803b158015611e2257600080fd5b505afa158015611e36573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611e5a9190810190613593565b600160a060020a031614611e835760405160e560020a62461bcd02815260040161084a90614100565b6002546040517fc365d3f0000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063c365d3f090611ece9086908690600401614230565b602060405180830381600087803b158015611ee857600080fd5b505af1158015611efc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611f20919081019061374b565b1515611f415760405160e560020a62461bcd02815260040161084a90614180565b827fe090ef6c8505a9d7bd37f691c30b15c37c1a6b0106da5f8f92fe8cd4622c102a83604051610bd89190613ffc565b6002546040516000805160206144558339815191528152600091600160a060020a0316906351640fee90611fa9908590600401614222565b60006040518083038186803b158015611fc157600080fd5b505afa158015611fd5573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611ffd91908101906137f9565b602001515192915050565b612010612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90612047908590600401614222565b60006040518083038186803b15801561205f57600080fd5b505afa158015612073573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261209b91908101906137f9565b805160200151909150600160a060020a031633146120b857600080fd5b60208101516080015151156120cc57600080fd5b60208101515115156120e1576120e182612bd6565b5050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90612130908590600401614222565b60206040518083038186803b15801561214857600080fd5b505afa15801561215c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506121809190810190613593565b600160a060020a0316146121a95760405160e560020a62461bcd02815260040161084a90614100565b6002546040517fdeadb867000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063deadb867906112ab9086908690600401614230565b6002546040517fe09a7279000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063e09a7279906115ce908590600401614222565b6002546040517f72febb79000000000000000000000000000000000000000000000000000000008152600091600160a060020a0316906372febb799061228a908690869060040161405a565b60206040518083038186803b1580156122a257600080fd5b505afa1580156122b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506122da919081019061374b565b9392505050565b600054600160a060020a0316331461230e5760405160e560020a62461bcd02815260040161084a90614170565b600254600160a060020a03161561232457600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ffb79224f000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063fb79224f90610708908590600401614222565b6123a6612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd5601906123ef908590600401614222565b60006040518083038186803b15801561240757600080fd5b505afa15801561241b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612443919081019061382e565b905083600160a060020a03168160200151600160a060020a031614151561247f5760405160e560020a62461bcd02815260040161084a90614130565b6020810151600160a060020a031615156124ae5760405160e560020a62461bcd02815260040161084a906141e0565b34156124cf5760405160e560020a62461bcd02815260040161084a906141f0565b6020810151600160a060020a03163314806124f257506124f28160a001516113ba565b80612596575060025460208201516040517f72febb79000000000000000000000000000000000000000000000000000000008152600160a060020a03909216916372febb7991612546913390600401614075565b60206040518083038186803b15801561255e57600080fd5b505afa158015612572573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612596919081019061374b565b806125ad575060c0810151600160a060020a031633145b15156125ce5760405160e560020a62461bcd02815260040161084a906140f0565b6002546040517f3f271fe0000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f271fe09061261c908590879060009060040161424c565b600060405180830381600087803b15801561263657600080fd5b505af115801561264a573d6000803e3d6000fd5b50506002546040517fb88c171d000000000000000000000000000000000000000000000000000000008152600160a060020a03909116925063b88c171d9150612697908590600401614222565b600060405180830381600087803b1580156126b157600080fd5b505af11580156126c5573d6000803e3d6000fd5b505050508183600160a060020a031685600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a450505050565b602081015160800151511561272457600080fd5b6020810151511561273457600080fd5b602081015160a081015160c0909101511061274e57600080fd5b602081015160c001516002546040517fe01b1ba2000000000000000000000000000000000000000000000000000000008152600190920191600160a060020a039091169063e01b1ba2906127a890869085906004016142af565b600060405180830381600087803b1580156127c257600080fd5b505af11580156127d6573d6000803e3d6000fd5b5050505080826020015160a001511115156119c2576002546040517f9db9df2c000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690639db9df2c90612837908690600190600401614294565b600060405180830381600087803b15801561285157600080fd5b505af1158015612865573d6000803e3d6000fd5b50505050827f27b8dc573c275ec4ec86f5aba2ea9d5a49baf7bcbdae29f609a4fa0a452fd05e6001604051610bd891906140d4565b60006128a4612eb4565b600360009054906101000a9004600160a060020a0316600160a060020a03166324a793c46040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561290e57600080fd5b505afa158015612922573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506129469190810190613593565b600160a060020a031663b3e444a7856040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161298d9190614222565b60006040518083038186803b1580156129a557600080fd5b505afa1580156129b9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526129e191908101906137c4565b600254815160a0810151602080830151608090930151908501516040517f65a8fc49000000000000000000000000000000000000000000000000000000008152959650600095600160a060020a03909516946365a8fc4994612a4e948c948c9491939091906004016142ca565b602060405180830381600087803b158015612a6857600080fd5b505af1158015612a7c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612aa09190810190613881565b8251602001516040519192508291600160a060020a03909116906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a481516020015160405182917fc0300f89fa66c737609c90575f912c101a539bdc6659f1562ba9b0868f8d181d91612b1a918891614230565b60405180910390a2949350505050565b612b32612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90612b69908690600401614222565b60006040518083038186803b158015612b8157600080fd5b505afa158015612b95573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612bbd91908101906137f9565b9050612bca85858561239e565b610d5d85858585612d1a565b600254604080516000815260208101918290527f0e4a07e100000000000000000000000000000000000000000000000000000000909152600160a060020a0390911690630e4a07e190612c2e90849060248101614274565b600060405180830381600087803b158015612c4857600080fd5b505af1158015612c5c573d6000803e3d6000fd5b50506002546040517f9db9df2c000000000000000000000000000000000000000000000000000000008152600160a060020a039091169250639db9df2c9150612cac908490600190600401614294565b600060405180830381600087803b158015612cc657600080fd5b505af1158015612cda573d6000803e3d6000fd5b50505050807f27b8dc573c275ec4ec86f5aba2ea9d5a49baf7bcbdae29f609a4fa0a452fd05e6001604051612d0f91906140d4565b60405180910390a250565b612d2383612e4a565b1515612d445760405160e560020a62461bcd02815260040161084a906141b0565b6040517f150b7a02000000000000000000000000000000000000000000000000000000008152600160a060020a0384169063150b7a0290612d8f903090889087908790600401614090565b602060405180830381600087803b158015612da957600080fd5b505af1158015612dbd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612de19190810190613787565b7fffffffff00000000000000000000000000000000000000000000000000000000167f150b7a020000000000000000000000000000000000000000000000000000000014612e445760405160e560020a62461bcd02815260040161084a906141a0565b50505050565b6000903b1190565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b6101c060405190810160405280612ea2612e52565b8152602001612eaf612ed6565b905290565b61016060405190810160405280612ec9612f16565b8152602001600081525090565b60e0604051908101604052806000151581526020016060815260200160008152602001600081526020016060815260200160008152602001600081525090565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b60006122da82356143b5565b60006122da82516143b5565b6000601f82018313612f9257600080fd5b8151612fa5612fa082614359565b614332565b91508181835260208401935060208101905083856020840282011115612fca57600080fd5b60005b83811015612ff65781612fe08882612f75565b8452506020928301929190910190600101612fcd565b5050505092915050565b6000601f8201831361301157600080fd5b813561301f612fa082614359565b9150818183526020840193506020810190508385602084028201111561304457600080fd5b60005b83811015612ff6578161305a8882612f69565b8452506020928301929190910190600101613047565b6000601f8201831361308157600080fd5b815161308f612fa082614359565b915081818352602084019350602081019050838560208402820111156130b457600080fd5b60005b83811015612ff657816130ca8882613569565b84525060209283019291909101906001016130b7565b60006122da82356143c0565b60006122da82516143c0565b60006122da82356143d4565b60006122da82516143d4565b600080601f8301841361312257600080fd5b50813567ffffffffffffffff81111561313a57600080fd5b60208301915083600182028301111561315257600080fd5b9250929050565b60006122da82356143f9565b6000601f8201831361317657600080fd5b8151613184612fa08261437a565b915080825260208301602083018583830111156131a057600080fd5b6131ab83828461441e565b50505092915050565b600061014082840312156131c757600080fd5b6131d2610140614332565b905060006131e08484612f75565b82525060206131f184848301612f75565b602083015250604061320584828501613569565b6040830152506060613219848285016130ec565b606083015250608082015167ffffffffffffffff81111561323957600080fd5b61324584828501613165565b60808301525060a082015167ffffffffffffffff81111561326557600080fd5b61327184828501612f81565b60a08301525060c082015167ffffffffffffffff81111561329157600080fd5b61329d84828501613165565b60c08301525060e082015167ffffffffffffffff8111156132bd57600080fd5b6132c984828501613165565b60e0830152506101006132de84828501612f75565b610100830152506101206132f4848285016130ec565b6101208301525092915050565b60006040828403121561331357600080fd5b61331d6040614332565b825190915067ffffffffffffffff81111561333757600080fd5b613343848285016131b4565b825250602061335484848301613569565b60208301525092915050565b600060e0828403121561337257600080fd5b61337c60e0614332565b9050600061338a84846130ec565b825250602082015167ffffffffffffffff8111156133a757600080fd5b6133b384828501613165565b60208301525060406133c784828501613569565b60408301525060606133db84828501613569565b606083015250608082015167ffffffffffffffff8111156133fb57600080fd5b61340784828501613070565b60808301525060a061341b84828501613569565b60a08301525060c061342f84828501613569565b60c08301525092915050565b60006040828403121561344d57600080fd5b6134576040614332565b825190915067ffffffffffffffff81111561347157600080fd5b61347d848285016134a6565b825250602082015167ffffffffffffffff81111561349a57600080fd5b61335484828501613360565b600060e082840312156134b857600080fd5b6134c260e0614332565b905060006134d08484613569565b82525060206134e184848301612f75565b60208301525060406134f584828501613569565b604083015250606061350984828501612f75565b606083015250608061351d84828501613569565b60808301525060a082015167ffffffffffffffff81111561353d57600080fd5b61354984828501612f81565b60a08301525060c061342f84828501612f75565b60006122da82356143d1565b60006122da82516143d1565b60006020828403121561358757600080fd5b600061109b8484612f69565b6000602082840312156135a557600080fd5b600061109b8484612f75565b600080604083850312156135c457600080fd5b60006135d08585612f69565b92505060206135e185828601612f69565b9150509250929050565b60008060006060848603121561360057600080fd5b600061360c8686612f69565b935050602061361d86828701612f69565b925050604061362e8682870161355d565b9150509250925092565b60008060008060006080868803121561365057600080fd5b600061365c8888612f69565b955050602061366d88828901612f69565b945050604061367e8882890161355d565b935050606086013567ffffffffffffffff81111561369b57600080fd5b6136a788828901613110565b92509250509295509295909350565b600080604083850312156136c957600080fd5b60006136d58585612f69565b92505060206135e1858286016130e0565b600080604083850312156136f957600080fd5b60006137058585612f69565b92505060206135e18582860161355d565b60006020828403121561372857600080fd5b813567ffffffffffffffff81111561373f57600080fd5b61109b84828501613000565b60006020828403121561375d57600080fd5b600061109b84846130ec565b60006020828403121561377b57600080fd5b600061109b84846130f8565b60006020828403121561379957600080fd5b600061109b8484613104565b600080604083850312156137b857600080fd5b60006135d08585613159565b6000602082840312156137d657600080fd5b815167ffffffffffffffff8111156137ed57600080fd5b61109b84828501613301565b60006020828403121561380b57600080fd5b815167ffffffffffffffff81111561382257600080fd5b61109b8482850161343b565b60006020828403121561384057600080fd5b815167ffffffffffffffff81111561385757600080fd5b61109b848285016134a6565b60006020828403121561387557600080fd5b600061109b848461355d565b60006020828403121561389357600080fd5b600061109b8484613569565b600080604083850312156138b257600080fd5b60006135d0858561355d565b600080604083850312156138d157600080fd5b6000613705858561355d565b600080604083850312156138f057600080fd5b60006138fc8585613569565b92505060206135e185828601613569565b6000613919838361393c565b505060200190565b60006139198383613ff3565b6139368161440c565b82525050565b613936816143b5565b6000613950826143a8565b61395a81856143ac565b9350613965836143a2565b60005b828110156139905761397b86835161390d565b9550613986826143a2565b9150600101613968565b5093949350505050565b60006139a5826143a8565b6139af81856143ac565b93506139ba836143a2565b60005b82811015613990576139d086835161390d565b95506139db826143a2565b91506001016139bd565b60006139f0826143a8565b6139fa81856143ac565b9350613a05836143a2565b60005b8281101561399057613a1b868351613921565b9550613a26826143a2565b9150600101613a08565b613936816143c0565b6000613a44826143a8565b613a4e81856143ac565b9350613a5e81856020860161441e565b613a678161444a565b9093019392505050565b61393681614413565b6000613a87601e836143ac565b7f73696d706c655472616e736665722c206d697373696e67207269676874730000815260200192915050565b6000613ac06015836143ac565b7f6e6f742074686520656e69746974792d6f776e65720000000000000000000000815260200192915050565b6000613af96018836143ac565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b6000613b326017836143ac565b7f6164647265737320307830206e6f7420616c6c6f776564000000000000000000815260200192915050565b6000613b6b601b836143ac565b7f6e6f7420746865206f776e6572206f662074686520656e746974790000000000815260200192915050565b6000613ba46021836143ac565b7f6d6178696d756d20616d6f756e74206f6620657363726f77732072656163686581527f6400000000000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000613c03601c836143ac565b7f617070726f76653a206e6f74206f776e6572202f206d61746368657200000000815260200192915050565b6000613c3c6024836143ac565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000613c9b6017836143ac565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b6000613cd4601b836143ac565b7f657363726f772061646472657373206e6f7420696e2061727261790000000000815260200192915050565b6000613d0d6015836143ac565b7f6572633230207472616e73666572206661696c65640000000000000000000000815260200192915050565b6000613d46601d836143ac565b7f5f746f20646964206e6f7420726573706f6e6420636f72726563746c79000000815260200192915050565b6000613d7f6015836143ac565b7f5f746f206973206e6f74206120636f6e74726163740000000000000000000000815260200192915050565b6000613db8600f836143ac565b7f307830206e6f7420616c6c6f7765640000000000000000000000000000000000815260200192915050565b6000613df1601d836143ac565b7f6163636f756e74206973206e6f74206163636f756e7441646472657373000000815260200192915050565b6000613e2a601b836143ac565b7f307830206173206f776e6572206973206e6f7420616c6c6f7765640000000000815260200192915050565b6000613e63601c836143ac565b7f73656e64696e672076616c7565206973206e6f7420616c6c6f77656400000000815260200192915050565b805160009060e0840190613ea38582613a30565b5060208301518482036020860152613ebb8282613a39565b9150506040830151613ed06040860182613ff3565b506060830151613ee36060860182613ff3565b5060808301518482036080860152613efb82826139e5565b91505060a0830151613f1060a0860182613ff3565b5060c0830151613f2360c0860182613ff3565b509392505050565b8051604080845260009190840190613f438282613f66565b91505060208301518482036020860152613f5d8282613e8f565b95945050505050565b805160009060e0840190613f7a8582613ff3565b506020830151613f8d602086018261393c565b506040830151613fa06040860182613ff3565b506060830151613fb3606086018261393c565b506080830151613fc66080860182613ff3565b5060a083015184820360a0860152613fde8282613945565b91505060c0830151613f2360c086018261393c565b613936816143d1565b60208101610758828461393c565b60608101614018828661392d565b614025602083018561393c565b61109b6040830184613a30565b60608101614040828661392d565b61404d602083018561393c565b61109b6040830184613ff3565b60408101614068828561393c565b6122da602083018461393c565b60408101614083828561393c565b6122da602083018461392d565b6080810161409e828761393c565b6140ab602083018661393c565b6140b86040830185613ff3565b81810360608301526140ca8184613a39565b9695505050505050565b602081016107588284613a30565b602081016107588284613a71565b6020808252810161075881613a7a565b6020808252810161075881613ab3565b6020808252810161075881613aec565b6020808252810161075881613b25565b6020808252810161075881613b5e565b6020808252810161075881613b97565b6020808252810161075881613bf6565b6020808252810161075881613c2f565b6020808252810161075881613c8e565b6020808252810161075881613cc7565b6020808252810161075881613d00565b6020808252810161075881613d39565b6020808252810161075881613d72565b6020808252810161075881613dab565b6020808252810161075881613de4565b6020808252810161075881613e1d565b6020808252810161075881613e56565b602080825281016122da8184613f2b565b602080825281016122da8184613f66565b602081016107588284613ff3565b604081016140688285613ff3565b604081016140838285613ff3565b6060810161425a8286613ff3565b614267602083018561393c565b61109b604083018461392d565b604081016142828285613ff3565b818103602083015261109b818461399a565b604081016142a28285613ff3565b6122da6020830184613a30565b604081016142bd8285613ff3565b6122da6020830184613ff3565b60c081016142d88289613ff3565b6142e56020830188613ff3565b81810360408301526142f7818761399a565b9050614306606083018661393c565b81810360808301526143188185613a39565b905061432760a0830184613ff3565b979650505050505050565b60405181810167ffffffffffffffff8111828210171561435157600080fd5b604052919050565b600067ffffffffffffffff82111561437057600080fd5b5060209081020190565b600067ffffffffffffffff82111561439157600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b6000610758826143c5565b151590565b600160a060020a031690565b90565b7fffffffff000000000000000000000000000000000000000000000000000000001690565b60006006821061440857600080fd5b5090565b6000610758825b6000610758826143b5565b60005b83811015614439578181015183820152602001614421565b83811115612e445750506000910152565b601f01601f19169056fe51640fee00000000000000000000000000000000000000000000000000000000a265627a7a72305820868d794ae48597f835502f375e5696eb08932de35cd62d91d52bd0aec441be106c6578706572696d656e74616cf50037","contractName":"CertificateLogic","deployedBytecode":"608060405260043610610236576000357c01000000000000000000000000000000000000000000000000000000009004806381bd56011161013a578063bb5a389e116100cd578063deadb8671161009c578063e985e9c511610081578063e985e9c514610609578063f09a401614610629578063fb79224f1461064957610236565b8063deadb867146105c9578063e09a7279146105e957610236565b8063bb5a389e14610549578063c365d3f014610569578063cf6ebee714610589578063d50bba1a146105a957610236565b8063a22cb46511610109578063a22cb465146104e1578063a6f9dae114610501578063af27739514610521578063b88d4fde1461053657610236565b806381bd56011461045f57806384e814ef1461048c5780638da5cb5b146104ac57806390c985a1146104c157610236565b806342842e0e116101cd57806354e3043c1161019c5780636c608004116101815780636c6080041461040a5780636fdcc4ed1461041f57806370a082311461043f57610236565b806354e3043c146103ca5780636352211e146103ea57610236565b806342842e0e1461035357806344724c8c146103665780634d655aff1461038857806351640fee1461039d57610236565b80631c1b8772116102095780631c1b8772146102d357806323b872dd146102f35780633c109bae146103065780633e3212fe1461032657610236565b806301ffc9a71461023b578063081812fc14610271578063095ea7b31461029e5780630d473bd4146102b3575b600080fd5b34801561024757600080fd5b5061025b610256366004613769565b610669565b60405161026891906140d4565b60405180910390f35b34801561027d57600080fd5b5061029161028c366004613863565b6106be565b6040516102689190613ffc565b6102b16102ac3660046136e6565b61075e565b005b3480156102bf57600080fd5b506102b16102ce36600461389f565b61090d565b3480156102df57600080fd5b506102b16102ee366004613575565b610be5565b6102b16103013660046135eb565b610c90565b34801561031257600080fd5b506102b16103213660046138be565b610d67565b34801561033257600080fd5b506103466103413660046138be565b610fd0565b6040516102689190614222565b6102b16103613660046135eb565b6110a3565b34801561037257600080fd5b5061037b6110eb565b60405161026891906140e2565b34801561039457600080fd5b5061037b6110fa565b3480156103a957600080fd5b506103bd6103b8366004613863565b611109565b6040516102689190614200565b3480156103d657600080fd5b506102b16103e53660046138be565b61119c565b3480156103f657600080fd5b50610291610405366004613863565b6112e2565b34801561041657600080fd5b5061037b6113ab565b34801561042b57600080fd5b5061025b61043a366004613716565b6113ba565b34801561044b57600080fd5b5061034661045a366004613575565b611558565b34801561046b57600080fd5b5061047f61047a366004613863565b61161e565b6040516102689190614211565b34801561049857600080fd5b506102916104a7366004613863565b6116c3565b3480156104b857600080fd5b5061029161175a565b3480156104cd57600080fd5b506102b16104dc366004613863565b611769565b3480156104ed57600080fd5b506102b16104fc3660046136b6565b6119c7565b34801561050d57600080fd5b506102b161051c366004613575565b611a95565b34801561052d57600080fd5b50610346611b50565b6102b1610544366004613638565b611beb565b34801561055557600080fd5b5061025b6105643660046137a5565b611c62565b34801561057557600080fd5b506102b161058436600461389f565b611dbf565b34801561059557600080fd5b5061025b6105a4366004613863565b611f71565b3480156105b557600080fd5b506102b16105c4366004613863565b612008565b3480156105d557600080fd5b506102b16105e436600461389f565b6120e5565b3480156105f557600080fd5b50610346610604366004613863565b6121f4565b34801561061557600080fd5b5061025b6106243660046135b1565b61223e565b34801561063557600080fd5b506102b16106443660046135b1565b6122e1565b34801561065557600080fd5b50610291610664366004613863565b612354565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007fffffffff00000000000000000000000000000000000000000000000000000000831614156106b9575060015b919050565b6002546040517f081812fc000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063081812fc90610708908590600401614222565b60206040518083038186803b15801561072057600080fd5b505afa158015610734573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107589190810190613593565b92915050565b610766612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd5601906107af908590600401614222565b60006040518083038186803b1580156107c757600080fd5b505afa1580156107db573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610803919081019061382e565b6020810151909150600160a060020a031633148061082957506108298160a001516113ba565b15156108535760405160e560020a62461bcd02815260040161084a90614150565b60405180910390fd5b6002546040517f51ba60d7000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906351ba60d79061089e9085908790600401614230565b600060405180830381600087803b1580156108b857600080fd5b505af11580156108cc573d6000803e3d6000fd5b5050604051849250600160a060020a038616915033907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92590600090a4505050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90610958908590600401614222565b60206040518083038186803b15801561097057600080fd5b505afa158015610984573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506109a89190810190613593565b600160a060020a0316146109d15760405160e560020a62461bcd02815260040161084a90614100565b6000809054906101000a9004600160a060020a0316600160a060020a03166381f5ec2d6040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610a3a57600080fd5b505afa158015610a4e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610a729190810190613881565b6002546040517f1273938b000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690631273938b90610abb908790600401614222565b60206040518083038186803b158015610ad357600080fd5b505afa158015610ae7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610b0b9190810190613881565b10610b2b5760405160e560020a62461bcd02815260040161084a90614140565b6002546040517f0d473bd4000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690630d473bd490610b769086908690600401614230565b600060405180830381600087803b158015610b9057600080fd5b505af1158015610ba4573d6000803e3d6000fd5b50505050827f4f16f65b0353c3ad5641f53a8e4d9426051fb93cd166c41d161bccbbcda03a7183604051610bd89190613ffc565b60405180910390a2505050565b600054600160a060020a03163314610c125760405160e560020a62461bcd02815260040161084a90614170565b6002546040517fa6f9dae1000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063a6f9dae190610c5b908490600401613ffc565b600060405180830381600087803b158015610c7557600080fd5b505af1158015610c89573d6000803e3d6000fd5b5050505050565b6004610c9c8133611c62565b1515610cbd5760405160e560020a62461bcd02815260040161084a90614160565b610cc5612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90610cfc908690600401614222565b60006040518083038186803b158015610d1457600080fd5b505afa158015610d28573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610d5091908101906137f9565b9050610d5d85858561239e565b610c898382612710565b610d6f612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90610da6908690600401614222565b60006040518083038186803b158015610dbe57600080fd5b505afa158015610dd2573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610dfa91908101906137f9565b805160200151909150600160a060020a0316331480610e235750805160a00151610e23906113ba565b1515610e2e57600080fd5b8051604001518210610e3f57600080fd5b60208101515115610e4f57600080fd5b6020810151608001515115610e6357600080fd5b6002546040517fde1fabc50000000000000000000000000000000000000000000000000000000081526000918291600160a060020a039091169063de1fabc590610eb390889088906004016142af565b6040805180830381600087803b158015610ecc57600080fd5b505af1158015610ee0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f0491908101906138dd565b9150915081836000015160200151600160a060020a03166000600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a48251602001516040518291600160a060020a0316906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a4847fa64343557c40f14353f86daacaf25190b440051f31475bb9c3d59125e07373758383604051610fc19291906142af565b60405180910390a25050505050565b600354604080517f24a793c40000000000000000000000000000000000000000000000000000000081529051600092600160a060020a0316916324a793c4916004808301926020929190829003018186803b15801561102e57600080fd5b505afa158015611042573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506110669190810190613593565b33600160a060020a038216146110915760405160e560020a62461bcd02815260040161084a906141d0565b61109b848461289a565b949350505050565b60046110af8133611c62565b15156110d05760405160e560020a62461bcd02815260040161084a90614160565b604080516020810190915260008152610c8985858584612b2a565b600154600160a060020a031681565b600254600160a060020a031681565b611111612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90611148908590600401614222565b60006040518083038186803b15801561116057600080fd5b505afa158015611174573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261075891908101906137f9565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e906111e7908590600401614222565b60206040518083038186803b1580156111ff57600080fd5b505afa158015611213573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506112379190810190613593565b600160a060020a0316146112605760405160e560020a62461bcd02815260040161084a90614100565b6002546040517f54e3043c000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906354e3043c906112ab90869086906004016142af565b600060405180830381600087803b1580156112c557600080fd5b505af11580156112d9573d6000803e3d6000fd5b50505050505050565b6002546040517e9df41e0000000000000000000000000000000000000000000000000000000081526000918291600160a060020a0390911690629df41e9061132e908690600401614222565b60206040518083038186803b15801561134657600080fd5b505afa15801561135a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061137e9190810190613593565b9050600160a060020a03811615156107585760405160e560020a62461bcd02815260040161084a90614120565b600354600160a060020a031681565b6000805b8251600360009054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561142a57600080fd5b505afa15801561143e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506114629190810190613881565b1061146e578251611510565b600360009054906101000a9004600160a060020a0316600160a060020a031663891c51a56040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156114d857600080fd5b505afa1580156114ec573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506115109190810190613881565b811015611552578251339084908390811061152757fe5b90602001906020020151600160a060020a0316141561154a5760019150506106b9565b6001016113be565b50919050565b6000600160a060020a03821615156115855760405160e560020a62461bcd02815260040161084a90614120565b6002546040517f9b96eece000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690639b96eece906115ce908590600401613ffc565b60206040518083038186803b1580156115e657600080fd5b505afa1580156115fa573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506107589190810190613881565b611626612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd56019061166f908590600401614222565b60006040518083038186803b15801561168757600080fd5b505afa15801561169b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052610758919081019061382e565b6002546040516000805160206144558339815191528152600091600160a060020a0316906351640fee906116fb908590600401614222565b60006040518083038186803b15801561171357600080fd5b505afa158015611727573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261174f91908101906137f9565b516020015192915050565b600054600160a060020a031681565b60046117758133611c62565b15156117965760405160e560020a62461bcd02815260040161084a90614160565b61179e612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee906117d5908690600401614222565b60006040518083038186803b1580156117ed57600080fd5b505afa158015611801573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261182991908101906137f9565b805160600151909150600160a060020a0316151561185c5760405160e560020a62461bcd02815260040161084a906141c0565b8051606081015160208201516080909201516040517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a03909216926323b872dd926118b592339291600401614032565b602060405180830381600087803b1580156118cf57600080fd5b505af11580156118e3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611907919081019061374b565b15156119285760405160e560020a62461bcd02815260040161084a90614190565b6002546040517f51ba60d7000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906351ba60d790611973908690339060040161423e565b600060405180830381600087803b15801561198d57600080fd5b505af11580156119a1573d6000803e3d6000fd5b505050506119b8816000015160200151338561239e565b6119c28382612710565b505050565b6002546040517fbebc1e9c000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063bebc1e9c90611a149033908690869060040161400a565b600060405180830381600087803b158015611a2e57600080fd5b505af1158015611a42573d6000803e3d6000fd5b5050505081600160a060020a031633600160a060020a03167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051611a8991906140d4565b60405180910390a35050565b600054600160a060020a03163314611ac25760405160e560020a62461bcd02815260040161084a90614170565b600160a060020a0381161515611aed5760405160e560020a62461bcd02815260040161084a90614110565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690611b45908390613ffc565b60405180910390a150565b600254604080517faf2773950000000000000000000000000000000000000000000000000000000081529051600092600160a060020a03169163af277395916004808301926020929190829003018186803b158015611bae57600080fd5b505afa158015611bc2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611be69190810190613881565b905090565b6004611bf78133611c62565b1515611c185760405160e560020a62461bcd02815260040161084a90614160565b611c5a86868686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250612b2a92505050565b505050505050565b600080600160009054906101000a9004600160a060020a0316600160a060020a0316635c7460d66040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015611ccf57600080fd5b505afa158015611ce3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611d079190810190613593565b600160a060020a031663265209f2846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401611d4e9190613ffc565b60206040518083038186803b158015611d6657600080fd5b505afa158015611d7a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611d9e9190810190613881565b90506000846005811115611dae57fe5b60020a919091161515949350505050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90611e0a908590600401614222565b60206040518083038186803b158015611e2257600080fd5b505afa158015611e36573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611e5a9190810190613593565b600160a060020a031614611e835760405160e560020a62461bcd02815260040161084a90614100565b6002546040517fc365d3f0000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063c365d3f090611ece9086908690600401614230565b602060405180830381600087803b158015611ee857600080fd5b505af1158015611efc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250611f20919081019061374b565b1515611f415760405160e560020a62461bcd02815260040161084a90614180565b827fe090ef6c8505a9d7bd37f691c30b15c37c1a6b0106da5f8f92fe8cd4622c102a83604051610bd89190613ffc565b6002546040516000805160206144558339815191528152600091600160a060020a0316906351640fee90611fa9908590600401614222565b60006040518083038186803b158015611fc157600080fd5b505afa158015611fd5573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611ffd91908101906137f9565b602001515192915050565b612010612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90612047908590600401614222565b60006040518083038186803b15801561205f57600080fd5b505afa158015612073573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261209b91908101906137f9565b805160200151909150600160a060020a031633146120b857600080fd5b60208101516080015151156120cc57600080fd5b60208101515115156120e1576120e182612bd6565b5050565b6002546040517e9df41e00000000000000000000000000000000000000000000000000000000815283913391600160a060020a0390911690629df41e90612130908590600401614222565b60206040518083038186803b15801561214857600080fd5b505afa15801561215c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506121809190810190613593565b600160a060020a0316146121a95760405160e560020a62461bcd02815260040161084a90614100565b6002546040517fdeadb867000000000000000000000000000000000000000000000000000000008152600160a060020a039091169063deadb867906112ab9086908690600401614230565b6002546040517fe09a7279000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063e09a7279906115ce908590600401614222565b6002546040517f72febb79000000000000000000000000000000000000000000000000000000008152600091600160a060020a0316906372febb799061228a908690869060040161405a565b60206040518083038186803b1580156122a257600080fd5b505afa1580156122b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506122da919081019061374b565b9392505050565b600054600160a060020a0316331461230e5760405160e560020a62461bcd02815260040161084a90614170565b600254600160a060020a03161561232457600080fd5b506002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6002546040517ffb79224f000000000000000000000000000000000000000000000000000000008152600091600160a060020a03169063fb79224f90610708908590600401614222565b6123a6612e52565b6002546040517f81bd5601000000000000000000000000000000000000000000000000000000008152600160a060020a03909116906381bd5601906123ef908590600401614222565b60006040518083038186803b15801561240757600080fd5b505afa15801561241b573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612443919081019061382e565b905083600160a060020a03168160200151600160a060020a031614151561247f5760405160e560020a62461bcd02815260040161084a90614130565b6020810151600160a060020a031615156124ae5760405160e560020a62461bcd02815260040161084a906141e0565b34156124cf5760405160e560020a62461bcd02815260040161084a906141f0565b6020810151600160a060020a03163314806124f257506124f28160a001516113ba565b80612596575060025460208201516040517f72febb79000000000000000000000000000000000000000000000000000000008152600160a060020a03909216916372febb7991612546913390600401614075565b60206040518083038186803b15801561255e57600080fd5b505afa158015612572573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612596919081019061374b565b806125ad575060c0810151600160a060020a031633145b15156125ce5760405160e560020a62461bcd02815260040161084a906140f0565b6002546040517f3f271fe0000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690633f271fe09061261c908590879060009060040161424c565b600060405180830381600087803b15801561263657600080fd5b505af115801561264a573d6000803e3d6000fd5b50506002546040517fb88c171d000000000000000000000000000000000000000000000000000000008152600160a060020a03909116925063b88c171d9150612697908590600401614222565b600060405180830381600087803b1580156126b157600080fd5b505af11580156126c5573d6000803e3d6000fd5b505050508183600160a060020a031685600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a450505050565b602081015160800151511561272457600080fd5b6020810151511561273457600080fd5b602081015160a081015160c0909101511061274e57600080fd5b602081015160c001516002546040517fe01b1ba2000000000000000000000000000000000000000000000000000000008152600190920191600160a060020a039091169063e01b1ba2906127a890869085906004016142af565b600060405180830381600087803b1580156127c257600080fd5b505af11580156127d6573d6000803e3d6000fd5b5050505080826020015160a001511115156119c2576002546040517f9db9df2c000000000000000000000000000000000000000000000000000000008152600160a060020a0390911690639db9df2c90612837908690600190600401614294565b600060405180830381600087803b15801561285157600080fd5b505af1158015612865573d6000803e3d6000fd5b50505050827f27b8dc573c275ec4ec86f5aba2ea9d5a49baf7bcbdae29f609a4fa0a452fd05e6001604051610bd891906140d4565b60006128a4612eb4565b600360009054906101000a9004600160a060020a0316600160a060020a03166324a793c46040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b15801561290e57600080fd5b505afa158015612922573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506129469190810190613593565b600160a060020a031663b3e444a7856040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040161298d9190614222565b60006040518083038186803b1580156129a557600080fd5b505afa1580156129b9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526129e191908101906137c4565b600254815160a0810151602080830151608090930151908501516040517f65a8fc49000000000000000000000000000000000000000000000000000000008152959650600095600160a060020a03909516946365a8fc4994612a4e948c948c9491939091906004016142ca565b602060405180830381600087803b158015612a6857600080fd5b505af1158015612a7c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612aa09190810190613881565b8251602001516040519192508291600160a060020a03909116906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a481516020015160405182917fc0300f89fa66c737609c90575f912c101a539bdc6659f1562ba9b0868f8d181d91612b1a918891614230565b60405180910390a2949350505050565b612b32612e8d565b6002546040516000805160206144558339815191528152600160a060020a03909116906351640fee90612b69908690600401614222565b60006040518083038186803b158015612b8157600080fd5b505afa158015612b95573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612bbd91908101906137f9565b9050612bca85858561239e565b610d5d85858585612d1a565b600254604080516000815260208101918290527f0e4a07e100000000000000000000000000000000000000000000000000000000909152600160a060020a0390911690630e4a07e190612c2e90849060248101614274565b600060405180830381600087803b158015612c4857600080fd5b505af1158015612c5c573d6000803e3d6000fd5b50506002546040517f9db9df2c000000000000000000000000000000000000000000000000000000008152600160a060020a039091169250639db9df2c9150612cac908490600190600401614294565b600060405180830381600087803b158015612cc657600080fd5b505af1158015612cda573d6000803e3d6000fd5b50505050807f27b8dc573c275ec4ec86f5aba2ea9d5a49baf7bcbdae29f609a4fa0a452fd05e6001604051612d0f91906140d4565b60405180910390a250565b612d2383612e4a565b1515612d445760405160e560020a62461bcd02815260040161084a906141b0565b6040517f150b7a02000000000000000000000000000000000000000000000000000000008152600160a060020a0384169063150b7a0290612d8f903090889087908790600401614090565b602060405180830381600087803b158015612da957600080fd5b505af1158015612dbd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612de19190810190613787565b7fffffffff00000000000000000000000000000000000000000000000000000000167f150b7a020000000000000000000000000000000000000000000000000000000014612e445760405160e560020a62461bcd02815260040161084a906141a0565b50505050565b6000903b1190565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b6101c060405190810160405280612ea2612e52565b8152602001612eaf612ed6565b905290565b61016060405190810160405280612ec9612f16565b8152602001600081525090565b60e0604051908101604052806000151581526020016060815260200160008152602001600081526020016060815260200160008152602001600081525090565b604080516101408101825260008082526020820181905291810182905260608082018390526080820181905260a0820181905260c0820181905260e0820152610100810182905261012081019190915290565b60006122da82356143b5565b60006122da82516143b5565b6000601f82018313612f9257600080fd5b8151612fa5612fa082614359565b614332565b91508181835260208401935060208101905083856020840282011115612fca57600080fd5b60005b83811015612ff65781612fe08882612f75565b8452506020928301929190910190600101612fcd565b5050505092915050565b6000601f8201831361301157600080fd5b813561301f612fa082614359565b9150818183526020840193506020810190508385602084028201111561304457600080fd5b60005b83811015612ff6578161305a8882612f69565b8452506020928301929190910190600101613047565b6000601f8201831361308157600080fd5b815161308f612fa082614359565b915081818352602084019350602081019050838560208402820111156130b457600080fd5b60005b83811015612ff657816130ca8882613569565b84525060209283019291909101906001016130b7565b60006122da82356143c0565b60006122da82516143c0565b60006122da82356143d4565b60006122da82516143d4565b600080601f8301841361312257600080fd5b50813567ffffffffffffffff81111561313a57600080fd5b60208301915083600182028301111561315257600080fd5b9250929050565b60006122da82356143f9565b6000601f8201831361317657600080fd5b8151613184612fa08261437a565b915080825260208301602083018583830111156131a057600080fd5b6131ab83828461441e565b50505092915050565b600061014082840312156131c757600080fd5b6131d2610140614332565b905060006131e08484612f75565b82525060206131f184848301612f75565b602083015250604061320584828501613569565b6040830152506060613219848285016130ec565b606083015250608082015167ffffffffffffffff81111561323957600080fd5b61324584828501613165565b60808301525060a082015167ffffffffffffffff81111561326557600080fd5b61327184828501612f81565b60a08301525060c082015167ffffffffffffffff81111561329157600080fd5b61329d84828501613165565b60c08301525060e082015167ffffffffffffffff8111156132bd57600080fd5b6132c984828501613165565b60e0830152506101006132de84828501612f75565b610100830152506101206132f4848285016130ec565b6101208301525092915050565b60006040828403121561331357600080fd5b61331d6040614332565b825190915067ffffffffffffffff81111561333757600080fd5b613343848285016131b4565b825250602061335484848301613569565b60208301525092915050565b600060e0828403121561337257600080fd5b61337c60e0614332565b9050600061338a84846130ec565b825250602082015167ffffffffffffffff8111156133a757600080fd5b6133b384828501613165565b60208301525060406133c784828501613569565b60408301525060606133db84828501613569565b606083015250608082015167ffffffffffffffff8111156133fb57600080fd5b61340784828501613070565b60808301525060a061341b84828501613569565b60a08301525060c061342f84828501613569565b60c08301525092915050565b60006040828403121561344d57600080fd5b6134576040614332565b825190915067ffffffffffffffff81111561347157600080fd5b61347d848285016134a6565b825250602082015167ffffffffffffffff81111561349a57600080fd5b61335484828501613360565b600060e082840312156134b857600080fd5b6134c260e0614332565b905060006134d08484613569565b82525060206134e184848301612f75565b60208301525060406134f584828501613569565b604083015250606061350984828501612f75565b606083015250608061351d84828501613569565b60808301525060a082015167ffffffffffffffff81111561353d57600080fd5b61354984828501612f81565b60a08301525060c061342f84828501612f75565b60006122da82356143d1565b60006122da82516143d1565b60006020828403121561358757600080fd5b600061109b8484612f69565b6000602082840312156135a557600080fd5b600061109b8484612f75565b600080604083850312156135c457600080fd5b60006135d08585612f69565b92505060206135e185828601612f69565b9150509250929050565b60008060006060848603121561360057600080fd5b600061360c8686612f69565b935050602061361d86828701612f69565b925050604061362e8682870161355d565b9150509250925092565b60008060008060006080868803121561365057600080fd5b600061365c8888612f69565b955050602061366d88828901612f69565b945050604061367e8882890161355d565b935050606086013567ffffffffffffffff81111561369b57600080fd5b6136a788828901613110565b92509250509295509295909350565b600080604083850312156136c957600080fd5b60006136d58585612f69565b92505060206135e1858286016130e0565b600080604083850312156136f957600080fd5b60006137058585612f69565b92505060206135e18582860161355d565b60006020828403121561372857600080fd5b813567ffffffffffffffff81111561373f57600080fd5b61109b84828501613000565b60006020828403121561375d57600080fd5b600061109b84846130ec565b60006020828403121561377b57600080fd5b600061109b84846130f8565b60006020828403121561379957600080fd5b600061109b8484613104565b600080604083850312156137b857600080fd5b60006135d08585613159565b6000602082840312156137d657600080fd5b815167ffffffffffffffff8111156137ed57600080fd5b61109b84828501613301565b60006020828403121561380b57600080fd5b815167ffffffffffffffff81111561382257600080fd5b61109b8482850161343b565b60006020828403121561384057600080fd5b815167ffffffffffffffff81111561385757600080fd5b61109b848285016134a6565b60006020828403121561387557600080fd5b600061109b848461355d565b60006020828403121561389357600080fd5b600061109b8484613569565b600080604083850312156138b257600080fd5b60006135d0858561355d565b600080604083850312156138d157600080fd5b6000613705858561355d565b600080604083850312156138f057600080fd5b60006138fc8585613569565b92505060206135e185828601613569565b6000613919838361393c565b505060200190565b60006139198383613ff3565b6139368161440c565b82525050565b613936816143b5565b6000613950826143a8565b61395a81856143ac565b9350613965836143a2565b60005b828110156139905761397b86835161390d565b9550613986826143a2565b9150600101613968565b5093949350505050565b60006139a5826143a8565b6139af81856143ac565b93506139ba836143a2565b60005b82811015613990576139d086835161390d565b95506139db826143a2565b91506001016139bd565b60006139f0826143a8565b6139fa81856143ac565b9350613a05836143a2565b60005b8281101561399057613a1b868351613921565b9550613a26826143a2565b9150600101613a08565b613936816143c0565b6000613a44826143a8565b613a4e81856143ac565b9350613a5e81856020860161441e565b613a678161444a565b9093019392505050565b61393681614413565b6000613a87601e836143ac565b7f73696d706c655472616e736665722c206d697373696e67207269676874730000815260200192915050565b6000613ac06015836143ac565b7f6e6f742074686520656e69746974792d6f776e65720000000000000000000000815260200192915050565b6000613af96018836143ac565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b6000613b326017836143ac565b7f6164647265737320307830206e6f7420616c6c6f776564000000000000000000815260200192915050565b6000613b6b601b836143ac565b7f6e6f7420746865206f776e6572206f662074686520656e746974790000000000815260200192915050565b6000613ba46021836143ac565b7f6d6178696d756d20616d6f756e74206f6620657363726f77732072656163686581527f6400000000000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000613c03601c836143ac565b7f617070726f76653a206e6f74206f776e6572202f206d61746368657200000000815260200192915050565b6000613c3c6024836143ac565b7f7573657220646f6573206e6f742068617665207468652072657175697265642081527f726f6c6500000000000000000000000000000000000000000000000000000000602082015260400192915050565b6000613c9b6017836143ac565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b6000613cd4601b836143ac565b7f657363726f772061646472657373206e6f7420696e2061727261790000000000815260200192915050565b6000613d0d6015836143ac565b7f6572633230207472616e73666572206661696c65640000000000000000000000815260200192915050565b6000613d46601d836143ac565b7f5f746f20646964206e6f7420726573706f6e6420636f72726563746c79000000815260200192915050565b6000613d7f6015836143ac565b7f5f746f206973206e6f74206120636f6e74726163740000000000000000000000815260200192915050565b6000613db8600f836143ac565b7f307830206e6f7420616c6c6f7765640000000000000000000000000000000000815260200192915050565b6000613df1601d836143ac565b7f6163636f756e74206973206e6f74206163636f756e7441646472657373000000815260200192915050565b6000613e2a601b836143ac565b7f307830206173206f776e6572206973206e6f7420616c6c6f7765640000000000815260200192915050565b6000613e63601c836143ac565b7f73656e64696e672076616c7565206973206e6f7420616c6c6f77656400000000815260200192915050565b805160009060e0840190613ea38582613a30565b5060208301518482036020860152613ebb8282613a39565b9150506040830151613ed06040860182613ff3565b506060830151613ee36060860182613ff3565b5060808301518482036080860152613efb82826139e5565b91505060a0830151613f1060a0860182613ff3565b5060c0830151613f2360c0860182613ff3565b509392505050565b8051604080845260009190840190613f438282613f66565b91505060208301518482036020860152613f5d8282613e8f565b95945050505050565b805160009060e0840190613f7a8582613ff3565b506020830151613f8d602086018261393c565b506040830151613fa06040860182613ff3565b506060830151613fb3606086018261393c565b506080830151613fc66080860182613ff3565b5060a083015184820360a0860152613fde8282613945565b91505060c0830151613f2360c086018261393c565b613936816143d1565b60208101610758828461393c565b60608101614018828661392d565b614025602083018561393c565b61109b6040830184613a30565b60608101614040828661392d565b61404d602083018561393c565b61109b6040830184613ff3565b60408101614068828561393c565b6122da602083018461393c565b60408101614083828561393c565b6122da602083018461392d565b6080810161409e828761393c565b6140ab602083018661393c565b6140b86040830185613ff3565b81810360608301526140ca8184613a39565b9695505050505050565b602081016107588284613a30565b602081016107588284613a71565b6020808252810161075881613a7a565b6020808252810161075881613ab3565b6020808252810161075881613aec565b6020808252810161075881613b25565b6020808252810161075881613b5e565b6020808252810161075881613b97565b6020808252810161075881613bf6565b6020808252810161075881613c2f565b6020808252810161075881613c8e565b6020808252810161075881613cc7565b6020808252810161075881613d00565b6020808252810161075881613d39565b6020808252810161075881613d72565b6020808252810161075881613dab565b6020808252810161075881613de4565b6020808252810161075881613e1d565b6020808252810161075881613e56565b602080825281016122da8184613f2b565b602080825281016122da8184613f66565b602081016107588284613ff3565b604081016140688285613ff3565b604081016140838285613ff3565b6060810161425a8286613ff3565b614267602083018561393c565b61109b604083018461392d565b604081016142828285613ff3565b818103602083015261109b818461399a565b604081016142a28285613ff3565b6122da6020830184613a30565b604081016142bd8285613ff3565b6122da6020830184613ff3565b60c081016142d88289613ff3565b6142e56020830188613ff3565b81810360408301526142f7818761399a565b9050614306606083018661393c565b81810360808301526143188185613a39565b905061432760a0830184613ff3565b979650505050505050565b60405181810167ffffffffffffffff8111828210171561435157600080fd5b604052919050565b600067ffffffffffffffff82111561437057600080fd5b5060209081020190565b600067ffffffffffffffff82111561439157600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b6000610758826143c5565b151590565b600160a060020a031690565b90565b7fffffffff000000000000000000000000000000000000000000000000000000001690565b60006006821061440857600080fd5b5090565b6000610758825b6000610758826143b5565b60005b83811015614439578181015183820152602001614421565b83811115612e445750506000910152565b601f01601f19169056fe51640fee00000000000000000000000000000000000000000000000000000000a265627a7a72305820868d794ae48597f835502f375e5696eb08932de35cd62d91d52bd0aec441be106c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it;\n\npragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\n/// @title The logic contract for the Certificate of Origin list\n/// @notice This contract provides the logic that determines how the data is stored\n/// @dev Needs a valid CertificateDB(db) contract to function correctly\n\nimport \"ew-user-registry-contracts/contracts/Users/RoleManagement.sol\";\nimport \"../../contracts/Origin/CertificateDB.sol\";\nimport \"ew-asset-registry-contracts/contracts/Interfaces/AssetProducingInterface.sol\";\nimport \"../../contracts/Origin/TradableEntityContract.sol\";\nimport \"../../contracts/Origin/TradableEntityLogic.sol\";\nimport \"ew-asset-registry-contracts/contracts/Interfaces/AssetContractLookupInterface.sol\";\nimport \"../../contracts/Interfaces/OriginContractLookupInterface.sol\";\nimport \"../../contracts/Interfaces/CertificateInterface.sol\";\nimport \"../../contracts/Interfaces/ERC20Interface.sol\";\nimport \"../../contracts/Interfaces/TradableEntityDBInterface.sol\";\nimport \"ew-asset-registry-contracts/contracts/Asset/AssetProducingDB.sol\";\n\nimport \"../../contracts/Origin/CertificateSpecificDB.sol\";\n\ncontract CertificateLogic is CertificateInterface, RoleManagement, TradableEntityLogic, TradableEntityContract {\n\n    /// @notice Logs the creation of an event\n    event LogCreatedCertificate(uint indexed _certificateId, uint powerInW, address owner);\n    event LogCertificateRetired(uint indexed _certificateId, bool _retire);\n    event LogCertificateSplit(uint indexed _certificateId, uint _childOne, uint _childTwo);\n\n    /// @notice constructor\n    /// @param _assetContractLookup the asset-RegistryContractLookup-Address\n    /// @param _originContractLookup the origin-RegistryContractLookup-Address\n    constructor(\n        AssetContractLookupInterface _assetContractLookup,\n        OriginContractLookupInterface _originContractLookup\n    )\n        TradableEntityLogic(_assetContractLookup, _originContractLookup)  public { }\n\n    /**\n        ERC721 functions to overwrite\n     */\n\n    /// @notice safeTransferFrom function (see ERC721 definition)\n    /// @param _from sender/owner of the certificate\n    /// @param _to receiver / new owner of the certificate\n    /// @param _entityId the certificate-id\n    /// @param _data calldata to be passed\n    function safeTransferFrom(\n        address _from,\n        address _to,\n        uint256 _entityId,\n        bytes calldata _data\n    )\n        onlyRole(RoleManagement.Role.Trader)\n        external payable\n    {\n        internalSafeTransfer(_from, _to, _entityId, _data);\n    }\n\n    /// @notice safeTransferFrom function (see ERC721 definition)\n    /// @param _from sender/owner of the certificate\n    /// @param _to receiver / new owner of the certificate\n    /// @param _entityId the certificate-id\n    function safeTransferFrom(\n        address _from,\n        address _to,\n        uint256 _entityId\n    )\n        onlyRole(RoleManagement.Role.Trader)\n        external payable\n    {\n        bytes memory data = \"\";\n        internalSafeTransfer(_from, _to, _entityId, data);\n    }\n\n    /// @notice simple transfer function\n    /// @param _from sender/owner of the certificate\n    /// @param _to receiver / new owner of the certificate\n    /// @param _entityId the certificate-id\n    function transferFrom(\n        address _from,\n        address _to,\n        uint256 _entityId\n    )\n        onlyRole(RoleManagement.Role.Trader)\n        external\n        payable\n    {\n        CertificateDB.Certificate memory cert = CertificateDB(address(db)).getCertificate(_entityId);\n        simpleTransferInternal(_from, _to, _entityId);\n        checktransferOwnerInternally(_entityId, cert);\n    }\n\n    /**\n        external functions\n    */\n\n    /// @notice buys a certificate\n    /// @param _certificateId the id of the certificate\n    function buyCertificate(uint _certificateId)\n        external\n        onlyRole(RoleManagement.Role.Trader)\n     {\n        CertificateDB.Certificate memory cert = CertificateDB(address(db)).getCertificate(_certificateId);\n        require(cert.tradableEntity.acceptedToken != address(0x0),\"0x0 not allowed\");\n\n        require(ERC20Interface(cert.tradableEntity.acceptedToken).transferFrom(msg.sender, cert.tradableEntity.owner, cert.tradableEntity.onChainDirectPurchasePrice),\"erc20 transfer failed\");\n        TradableEntityDBInterface(address(db)).addApprovalExternal(_certificateId, msg.sender);\n\n        simpleTransferInternal(cert.tradableEntity.owner, msg.sender, _certificateId);\n        checktransferOwnerInternally(_certificateId, cert);\n    }\n\n    /// @notice creates a new Entity / certificate\n    /// @param _assetId the id of the producing asset\n    /// @param _powerInW the generated power in Wh\n    function createTradableEntity(uint _assetId, uint _powerInW)\n        external\n        onlyAccount(address(assetContractLookup.assetProducingRegistry()))\n        returns (uint)\n    {\n        return createCertificate(_assetId, _powerInW);\n    }\n\n    /// @notice Request a certificate to retire. Only Certificate owner can retire\n    /// @param _certificateId The id of the certificate\n    function retireCertificate(\n        uint _certificateId\n    )\n        external\n    {\n        CertificateDB.Certificate memory cert = CertificateDB(address(db)).getCertificate(_certificateId);\n        require(cert.tradableEntity.owner == msg.sender);\n        require(cert.certificateSpecific.children.length == 0);\n        if (!cert.certificateSpecific.retired) {\n            retireCertificateAuto( _certificateId);\n        }\n    }\n\n    /// @notice Splits a certificate into two smaller ones, where (total - _power = 2ndCertificate)\n    /// @param _certificateId The id of the certificate\n    /// @param _certificateId The amount of power in W for the 1st certificate\n    function splitCertificate(uint _certificateId, uint _power) external\n    {\n        CertificateDB.Certificate memory parent = CertificateDB(address(db)).getCertificate(_certificateId);\n        require (msg.sender == parent.tradableEntity.owner || checkMatcher(parent.tradableEntity.escrow));\n        require(parent.tradableEntity.powerInW > _power);\n        require(!parent.certificateSpecific.retired);\n        require(parent.certificateSpecific.children.length == 0);\n\n        (uint childIdOne,uint childIdTwo) = CertificateDB(address(db)).createChildCertificate(_certificateId, _power);\n        emit Transfer(address(0), parent.tradableEntity.owner, childIdOne);\n        emit Transfer(address(0), parent.tradableEntity.owner, childIdTwo);\n        emit LogCertificateSplit(_certificateId, childIdOne,childIdTwo);\n\n    }\n\n    /// @notice gets the certificate\n    /// @param _certificateId the certificate-id\n    /// @return the certificate-struct as memory\n    function getCertificate(uint _certificateId) external view returns (CertificateDB.Certificate memory certificate)\n    {\n        return CertificateDB(address(db)).getCertificate(_certificateId);\n    }\n\n    /// @notice Getter for the length of the list of certificates\n    /// @return the length of the array\n    function getCertificateListLength() external view returns (uint) {\n        return CertificateDB(address(db)).getCertificateListLength();\n    }\n\n    /// @notice gets the owner of an certificate\n    /// @param _certificateId The id of the requested certificate\n    /// @return the owner of a certificate\n    function getCertificateOwner(uint _certificateId) external view returns (address) {\n        return CertificateDB(address(db)).getCertificate(_certificateId).tradableEntity.owner;\n    }\n\n    /// @notice gets whether the certificate is retired\n    /// @param _certificateId The id of the requested certificate\n    /// @return flag whether the certificate is retired\n    function isRetired(uint _certificateId) external view returns (bool) {\n        return CertificateDB(address(db)).getCertificate(_certificateId).certificateSpecific.retired;\n    }\n\n    /**\n        internal functions\n    */\n\t/// @notice Retires a certificate\n\t/// @param _certificateId The id of the requested certificate\n    function retireCertificateAuto(uint _certificateId) internal {\n        db.setTradableEntityEscrowExternal(_certificateId, new address[](0));\n        CertificateSpecificDB(address(db)).setRetired(_certificateId, true);\n        emit LogCertificateRetired(_certificateId, true);\n    }\n\n    /// @notice Creates a certificate of origin. Checks in the AssetRegistry if requested wh are available.\n    /// @param _assetId The id of the asset that generated the energy for the certificate\n    /// @param _powerInW The amount of Watts the Certificate holds\n    function createCertificate(uint _assetId, uint _powerInW)\n        internal\n        returns (uint)\n    {\n        AssetProducingDB.Asset memory asset =  AssetProducingInterface(address(assetContractLookup.assetProducingRegistry())).getAssetById(_assetId);\n\n        uint certId = CertificateDB(address(db)).createCertificateRaw(_assetId, _powerInW, asset.assetGeneral.matcher, asset.assetGeneral.owner, asset.assetGeneral.lastSmartMeterReadFileHash, asset.maxOwnerChanges);\n        emit Transfer(address(0),  asset.assetGeneral.owner, certId);\n\n        emit LogCreatedCertificate(certId, _powerInW, asset.assetGeneral.owner);\n        return certId;\n\n    }\n\n    /// @notice calls check-functions before transfering a certificate\n    /// @param _from sender/owner of the certificate\n    /// @param _to receiver / new owner of the certificate\n    /// @param _entityId the certificate-id\n    /// @param _data calldata to be passed\n    function internalSafeTransfer(\n        address _from,\n        address _to,\n        uint256 _entityId,\n        bytes memory _data\n    )\n        internal\n    {\n        CertificateDB.Certificate memory cert = CertificateDB(address(db)).getCertificate(_entityId);\n        simpleTransferInternal(_from, _to, _entityId);\n        safeTransferChecks(_from, _to, _entityId, _data);\n        checktransferOwnerInternally(_entityId, cert);\n    }\n\n    /// @notice Transfers the ownership, checks if the requirements are met\n    /// @param _certificateId The id of the requested certificate\n    /// @param _certificate The certificate where the ownership should be transfered\n    function checktransferOwnerInternally(\n            uint _certificateId,\n            CertificateDB.Certificate memory _certificate\n    )\n        internal\n    {\n        require(_certificate.certificateSpecific.children.length == 0);\n        require(!_certificate.certificateSpecific.retired);\n        require(_certificate.certificateSpecific.ownerChangeCounter < _certificate.certificateSpecific.maxOwnerChanges);\n        uint ownerChangeCounter = _certificate.certificateSpecific.ownerChangeCounter + 1;\n\n        CertificateDB(address(db)).setOwnerChangeCounterResetEscrow(_certificateId,ownerChangeCounter);\n\n        if(_certificate.certificateSpecific.maxOwnerChanges <= ownerChangeCounter){\n            CertificateSpecificDB(address(db)).setRetired(_certificateId, true);\n            emit LogCertificateRetired(_certificateId, true);\n        }\n    }\n}\n","networks":"{}"}