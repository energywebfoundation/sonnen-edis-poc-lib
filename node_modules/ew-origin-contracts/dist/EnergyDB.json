{"abi":[{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntityOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"addEscrowForEntity","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address[]"}],"name":"setTradableEntityEscrowExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntityEscrowLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"addEscrowForAsset","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_approved","type":"bool"}],"name":"setApproved","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_approve","type":"address"}],"name":"setTradableEntityOwnerAndAddApproval","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_approve","type":"address"}],"name":"addApprovalExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_price","type":"uint256"}],"name":"setOnChainDirectPurchasePrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_powerInW","type":"uint256"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"baselinePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"_flex","type":"tuple"}],"name":"createTradableEntityEntry","outputs":[{"name":"_entityId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address[]"}],"name":"setEscrow","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_company","type":"address"},{"name":"_escrow","type":"address"}],"name":"getOwnerToOperators","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"baselinePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"_flex","type":"tuple"}],"name":"setFexibility","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_owner","type":"address"}],"name":"setTradableEntityOwnerExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntity","outputs":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"_entity","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"getBalanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_fileHash","type":"string"}],"name":"setFileHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getCertificateListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"removeTokenAndPrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_company","type":"address"},{"name":"_escrow","type":"address"},{"name":"_allowed","type":"bool"}],"name":"setOwnerToOperators","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getEnergyCertificate","outputs":[{"components":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"tradableEntity","type":"tuple"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"baselinePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"flexibility","type":"tuple"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"removeEscrow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"_entity","type":"tuple"}],"name":"setTradableEntity","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_token","type":"address"}],"name":"setTradableToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getOnChainDirectPurchasePrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_energyLogic","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b506040516020806200274683398101806040526200003391908101906200006e565b60008054600160a060020a031916600160a060020a0392909216919091179055620000b6565b600062000067825162000097565b9392505050565b6000602082840312156200008157600080fd5b60006200008f848462000059565b949350505050565b6000620000a482620000aa565b92915050565b600160a060020a031690565b61268080620000c66000396000f3fe608060405234801561001057600080fd5b50600436106101eb576000357c01000000000000000000000000000000000000000000000000000000009004806376e0a89411610121578063b88c171d116100bf578063d45c612d1161008e578063d45c612d14610401578063deadb86714610414578063e09a727914610427578063fb79224f1461043a576101eb565b8063b88c171d146103a8578063bebc1e9c146103bb578063c265d1e1146103ce578063c365d3f0146103ee576101eb565b80639b96eece116100fb5780639b96eece14610367578063a0266f161461037a578063a6f9dae11461038d578063af277395146103a0576101eb565b806376e0a8941461032c57806381bd56011461033f5780638da5cb5b1461035f576101eb565b80633f271fe01161018e57806357f02c471161016857806357f02c47146102d3578063706f0a0c146102e657806372febb79146102f9578063758871d314610319576101eb565b80633f271fe01461029a57806351ba60d7146102ad57806354e3043c146102c0576101eb565b80630e4a07e1116101ca5780630e4a07e1146102415780631273938b14610254578063223ef0aa1461027457806328314d7c14610287576101eb565b80629df41e146101f0578063081812fc146102195780630d473bd41461022c575b600080fd5b6102036101fe366004611f40565b61044d565b60405161021091906124e9565b60405180910390f35b610203610227366004611f40565b6104b5565b61023f61023a366004611f5e565b610514565b005b61023f61024f366004612039565b610592565b610267610262366004611f40565b610601565b6040516102109190612557565b61023f610282366004611f5e565b610643565b61023f61029536600461208f565b6106d0565b61023f6102a8366004611f7d565b61073f565b61023f6102bb366004611f5e565b610780565b61023f6102ce366004612199565b6107bb565b6102676102e1366004611fc0565b610810565b61023f6102f4366004612039565b610b3d565b61030c610307366004611eb9565b610ba2565b60405161021091906124f7565b61023f610327366004612109565b610c01565b61023f61033a366004611f5e565b610cf0565b61035261034d366004611f40565b610d27565b6040516102109190612546565b610203610e39565b610267610375366004611e93565b610e48565b61023f6103883660046120bf565b610e92565b61023f61039b366004611e93565b610ef1565b610267610fac565b61023f6103b6366004611f40565b610fe2565b61023f6103c9366004611ef3565b611043565b6103e16103dc366004611f40565b6110aa565b6040516102109190612535565b61030c6103fc366004611f5e565b611326565b61023f61040f366004612151565b61143d565b61023f610422366004611f5e565b61154c565b610267610435366004611f40565b6115cb565b610203610448366004611f40565b611623565b60008054600160a060020a031633146104845760405160e560020a62461bcd02815260040161047b90612515565b60405180910390fd5b600380548390811061049257fe5b6000918252602090912060109091020160010154600160a060020a031692915050565b60008054600160a060020a031633146104e35760405160e560020a62461bcd02815260040161047b90612515565b60038054839081106104f157fe5b6000918252602090912060109091020160060154600160a060020a031692915050565b600054600160a060020a031633146105415760405160e560020a62461bcd02815260040161047b90612515565b600061054c83611682565b60050180546001810182556000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0393909316929092179091555050565b600054600160a060020a031633146105bf5760405160e560020a62461bcd02815260040161047b90612515565b6105fc838383808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506116cc92505050565b505050565b60008054600160a060020a0316331461062f5760405160e560020a62461bcd02815260040161047b90612515565b61063882610d27565b60a001515192915050565b600054600160a060020a031633146106705760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061067e57fe5b600091825260208083206010929092029091016005018054600181018255908352912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b600054600160a060020a03163314806106e857503330145b15156107095760405160e560020a62461bcd02815260040161047b90612525565b8060038381548110151561071957fe5b60009182526020909120601090910201600f01805460ff19169115159190911790555050565b600054600160a060020a0316331461076c5760405160e560020a62461bcd02815260040161047b90612515565b61077683836116ef565b6105fc8382611819565b600054600160a060020a031633146107ad5760405160e560020a62461bcd02815260040161047b90612515565b6107b78282611819565b5050565b600054600160a060020a031633146107e85760405160e560020a62461bcd02815260040161047b90612515565b806003838154811015156107f857fe5b60009182526020909120600460109092020101555050565b60008054600160a060020a0316331461083e5760405160e560020a62461bcd02815260040161047b90612515565b61084661186b565b60e06040519081016040528087815260200186600160a060020a031681526020018581526020016000600160a060020a031681526020016000815260200160006040519080825280602002602001820160405280156108af578160200160208202803883390190505b50815260006020918201819052604080518082018252848152808401889052600380546001810180835591909452815180517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b6010909602958601908155818701517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c8701805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a0393841617909155958301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85d88015560608301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85e8801805490971691161790945560808101517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85f86015560a0810151805197985091969295939490938593610a28937fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f86090930192909101906118a6565b5060c091820151600691909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055602083810151805160078501908155818301516008860155604082015160098601556060820151600a8601556080820151600b86015560a0820151600c860155928101518051919392610aba92600d87019290910190611918565b5060e08201518051610ad6916007840191602090910190611918565b5061010091909101516008909101805460ff191691151591909117905550506003546000109050610b08576000610b10565b600354600019015b600160a060020a039095166000908152600160208190526040909120805490910190555092949350505050565b600054600160a060020a03163314610b6a5760405160e560020a62461bcd02815260040161047b90612515565b8181600385815481101515610b7b57fe5b90600052602060002090601002016000016005019190610b9c929190611992565b50505050565b60008054600160a060020a03163314610bd05760405160e560020a62461bcd02815260040161047b90612515565b50600160a060020a0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b600054600160a060020a0316331480610c1957503330145b1515610c3a5760405160e560020a62461bcd02815260040161047b90612525565b80600383815481101515610c4a57fe5b9060005260206000209060100201600701600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006019080519060200190610cb3929190611918565b5060e08201518051610ccf916007840191602090910190611918565b5061010091909101516008909101805460ff19169115159190911790555050565b600054600160a060020a03163314610d1d5760405160e560020a62461bcd02815260040161047b90612515565b6107b782826116ef565b610d2f61186b565b600054600160a060020a03163314610d5c5760405160e560020a62461bcd02815260040161047b90612515565b6003805483908110610d6a57fe5b60009182526020918290206040805160e0810182526010909302909101805483526001810154600160a060020a03908116848601526002820154848401526003820154166060840152600481015460808401526005810180548351818702810187019094528084529394919360a086019392830182828015610e1557602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311610df7575b505050918352505060069190910154600160a060020a031660209091015292915050565b600054600160a060020a031681565b60008054600160a060020a03163314610e765760405160e560020a62461bcd02815260040161047b90612515565b50600160a060020a031660009081526001602052604090205490565b600054600160a060020a03163314610ebf5760405160e560020a62461bcd02815260040161047b90612515565b8181600385815481101515610ed057fe5b90600052602060002090601002016007016007019190610b9c9291906119f2565b600054600160a060020a03163314610f1e5760405160e560020a62461bcd02815260040161047b90612515565b600160a060020a0381161515610f495760405160e560020a62461bcd02815260040161047b90612505565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610fa19083906124e9565b60405180910390a150565b60008054600160a060020a03163314610fda5760405160e560020a62461bcd02815260040161047b90612515565b506003545b90565b600054600160a060020a0316331461100f5760405160e560020a62461bcd02815260040161047b90612515565b600061101a82611682565b60006004820155600301805473ffffffffffffffffffffffffffffffffffffffff191690555050565b600054600160a060020a031633146110705760405160e560020a62461bcd02815260040161047b90612515565b600160a060020a03928316600090815260026020908152604080832094909516825292909252919020805460ff1916911515919091179055565b6110b2611a60565b60038054839081106110c057fe5b60009182526020918290206040805161012081018252601090930290910180548383019081526001820154600160a060020a0390811660608601526002830154608086015260038301541660a0850152600482015460c08501526005820180548451818802810188019095528085529495929486949293869360e08701939092909183018282801561117b57602002820191906000526020600020905b8154600160a060020a0316815260019091019060200180831161115d575b505050918352505060069190910154600160a060020a031660209182015290825260408051610120810182526007850180548252600886015482850152600986015482840152600a8601546060830152600b8601546080830152600c86015460a0830152600d86018054845160026101006001841615026000190190921691909104601f8101879004870282018701909552848152958501959294919360c08601939283018282801561126f5780601f106112445761010080835404028352916020019161126f565b820191906000526020600020905b81548152906001019060200180831161125257829003601f168201915b505050918352505060078201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156113035780601f106112d857610100808354040283529160200191611303565b820191906000526020600020905b8154815290600101906020018083116112e657829003601f168201915b50505091835250506008919091015460ff16151560209091015290525092915050565b60008054600160a060020a031633146113545760405160e560020a62461bcd02815260040161047b90612515565b600061135f84611682565b600501905060005b81548110156114355783600160a060020a0316828281548110151561138857fe5b600091825260209091200154600160a060020a0316141561142d578154829060001981019081106113b557fe5b6000918252602090912001548254600160a060020a03909116908390839081106113db57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790558154611421836000198301611a87565b50600192505050610bfb565b600101611367565b505092915050565b600054600160a060020a031633148061145557503330145b15156114765760405160e560020a62461bcd02815260040161047b90612525565b8060038381548110151561148657fe5b6000918252602091829020835160109092020190815582820151600182018054600160a060020a0392831673ffffffffffffffffffffffffffffffffffffffff19918216179091556040850151600284015560608501516003840180549190931691161790556080830151600482015560a083015180519192611511926005850192909101906118a6565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039092169190911790555050565b600054600160a060020a031633146115795760405160e560020a62461bcd02815260040161047b90612515565b8060038381548110151561158957fe5b60009182526020909120601090910201600301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b60008054600160a060020a031633146115f95760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061160757fe5b9060005260206000209060100201600001600401549050919050565b60008054600160a060020a031633146116515760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061165f57fe5b6000918252602090912060109091020160030154600160a060020a031692915050565b60008054600160a060020a031633148061169b57503330145b15156116a657600080fd5b60038054839081106116b457fe5b90600052602060002090601002016000019050919050565b60006116d783611682565b8251909150610b9c90600583019060208501906118a6565b60006001600060038581548110151561170457fe5b6000918252602080832060016010909302019190910154600160a060020a031683528201929092526040019020541161173957fe5b6001600060038481548110151561174c57fe5b6000918252602080832060016010909302019190910154600160a060020a0316835282019290925260400190208054600019019055600380548291908490811061179257fe5b600091825260208220600160109092020181018054600160a060020a039490941673ffffffffffffffffffffffffffffffffffffffff199094169390931790925560038054859081106117e157fe5b600091825260208083206001601090930201820154600160a060020a0316845283019390935260409091019020805490910190555050565b8060038381548110151561182957fe5b60009182526020909120601090910201600601805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b828054828255906000526020600020908101928215611908579160200282015b82811115611908578251825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039091161782556020909201916001909101906118c6565b50611914929150611aab565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061195957805160ff1916838001178555611986565b82800160010185558215611986579182015b8281111561198657825182559160200191906001019061196b565b50611914929150611adc565b828054828255906000526020600020908101928215611908579160200282015b8281111561190857815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038435161782556020909201916001909101906119b2565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611a335782800160ff19823516178555611986565b82800160010185558215611986579182015b82811115611986578235825591602001919060010190611a45565b61020060405190810160405280611a7561186b565b8152602001611a82611af6565b905290565b8154818355818111156105fc576000838152602090206105fc918101908301611adc565b610fdf91905b8082111561191457805473ffffffffffffffffffffffffffffffffffffffff19168155600101611ab1565b610fdf91905b808211156119145760008155600101611ae2565b6101206040519081016040528060008152602001600081526020016000815260200160008152602001600081526020016000815260200160608152602001606081526020016000151581525090565b6000611b5182356125e8565b9392505050565b600080601f83018413611b6a57600080fd5b50813567ffffffffffffffff811115611b8257600080fd5b602083019150836020820283011115611b9a57600080fd5b9250929050565b6000601f82018313611bb257600080fd5b8135611bc5611bc08261258c565b612565565b91508181835260208401935060208101905083856020840282011115611bea57600080fd5b60005b83811015611c165781611c008882611b45565b8452506020928301929190910190600101611bed565b5050505092915050565b6000611b5182356125f3565b600080601f83018413611c3e57600080fd5b50813567ffffffffffffffff811115611c5657600080fd5b602083019150836001820283011115611b9a57600080fd5b6000601f82018313611c7f57600080fd5b8135611c8d611bc0826125ad565b91508082526020830160208301858383011115611ca957600080fd5b611cb4838284612604565b50505092915050565b60006101208284031215611cd057600080fd5b611cdb610120612565565b90506000611ce98484611e87565b8252506020611cfa84848301611e87565b6020830152506040611d0e84828501611e87565b6040830152506060611d2284828501611e87565b6060830152506080611d3684828501611e87565b60808301525060a0611d4a84828501611e87565b60a08301525060c082013567ffffffffffffffff811115611d6a57600080fd5b611d7684828501611c6e565b60c08301525060e082013567ffffffffffffffff811115611d9657600080fd5b611da284828501611c6e565b60e083015250610100611db784828501611c20565b6101008301525092915050565b600060e08284031215611dd657600080fd5b611de060e0612565565b90506000611dee8484611e87565b8252506020611dff84848301611b45565b6020830152506040611e1384828501611e87565b6040830152506060611e2784828501611b45565b6060830152506080611e3b84828501611e87565b60808301525060a082013567ffffffffffffffff811115611e5b57600080fd5b611e6784828501611ba1565b60a08301525060c0611e7b84828501611b45565b60c08301525092915050565b6000611b518235610fdf565b600060208284031215611ea557600080fd5b6000611eb18484611b45565b949350505050565b60008060408385031215611ecc57600080fd5b6000611ed88585611b45565b9250506020611ee985828601611b45565b9150509250929050565b600080600060608486031215611f0857600080fd5b6000611f148686611b45565b9350506020611f2586828701611b45565b9250506040611f3686828701611c20565b9150509250925092565b600060208284031215611f5257600080fd5b6000611eb18484611e87565b60008060408385031215611f7157600080fd5b6000611ed88585611e87565b600080600060608486031215611f9257600080fd5b6000611f9e8686611e87565b9350506020611faf86828701611b45565b9250506040611f3686828701611b45565b60008060008060808587031215611fd657600080fd5b6000611fe28787611e87565b9450506020611ff387828801611b45565b935050604061200487828801611e87565b925050606085013567ffffffffffffffff81111561202157600080fd5b61202d87828801611cbd565b91505092959194509250565b60008060006040848603121561204e57600080fd5b600061205a8686611e87565b935050602084013567ffffffffffffffff81111561207757600080fd5b61208386828701611b58565b92509250509250925092565b600080604083850312156120a257600080fd5b60006120ae8585611e87565b9250506020611ee985828601611c20565b6000806000604084860312156120d457600080fd5b60006120e08686611e87565b935050602084013567ffffffffffffffff8111156120fd57600080fd5b61208386828701611c2c565b6000806040838503121561211c57600080fd5b60006121288585611e87565b925050602083013567ffffffffffffffff81111561214557600080fd5b611ee985828601611cbd565b6000806040838503121561216457600080fd5b60006121708585611e87565b925050602083013567ffffffffffffffff81111561218d57600080fd5b611ee985828601611dc4565b600080604083850312156121ac57600080fd5b60006121b88585611e87565b9250506020611ee985828601611e87565b60006121d583836121dd565b505060200190565b6121e6816125e8565b82525050565b60006121f7826125db565b61220181856125df565b935061220c836125d5565b60005b82811015612237576122228683516121c9565b955061222d826125d5565b915060010161220f565b5093949350505050565b6121e6816125f3565b6000612255826125db565b61225f81856125df565b935061226f818560208601612610565b6122788161263c565b9093019392505050565b600061228f6018836125df565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006122c86017836125df565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006123016024836125df565b7f6e6f742074686520636f6e747261637420697473656c66206f7220746865206f81527f776e657200000000000000000000000000000000000000000000000000000000602082015260400192915050565b805160408084526000919084019061236b8282612453565b91505060208301518482036020860152612385828261238e565b95945050505050565b80516000906101208401906123a385826124e0565b5060208301516123b660208601826124e0565b5060408301516123c960408601826124e0565b5060608301516123dc60608601826124e0565b5060808301516123ef60808601826124e0565b5060a083015161240260a08601826124e0565b5060c083015184820360c086015261241a828261224a565b91505060e083015184820360e0860152612434828261224a565b91505061010083015161244b610100860182612241565b509392505050565b805160009060e084019061246785826124e0565b50602083015161247a60208601826121dd565b50604083015161248d60408601826124e0565b5060608301516124a060608601826121dd565b5060808301516124b360808601826124e0565b5060a083015184820360a08601526124cb82826121ec565b91505060c083015161244b60c08601826121dd565b6121e681610fdf565b60208101610bfb82846121dd565b60208101610bfb8284612241565b60208082528101610bfb81612282565b60208082528101610bfb816122bb565b60208082528101610bfb816122f4565b60208082528101611b518184612353565b60208082528101611b518184612453565b60208101610bfb82846124e0565b60405181810167ffffffffffffffff8111828210171561258457600080fd5b604052919050565b600067ffffffffffffffff8211156125a357600080fd5b5060209081020190565b600067ffffffffffffffff8211156125c457600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b6000610bfb826125f8565b151590565b600160a060020a031690565b82818337506000910152565b60005b8381101561262b578181015183820152602001612613565b83811115610b9c5750506000910152565b601f01601f19169056fea265627a7a72305820d2764e511ff376e314c717e964b849a854d57a62425bf93afdce86193d70ae526c6578706572696d656e74616cf50037","contractName":"EnergyDB","deployedBytecode":"608060405234801561001057600080fd5b50600436106101eb576000357c01000000000000000000000000000000000000000000000000000000009004806376e0a89411610121578063b88c171d116100bf578063d45c612d1161008e578063d45c612d14610401578063deadb86714610414578063e09a727914610427578063fb79224f1461043a576101eb565b8063b88c171d146103a8578063bebc1e9c146103bb578063c265d1e1146103ce578063c365d3f0146103ee576101eb565b80639b96eece116100fb5780639b96eece14610367578063a0266f161461037a578063a6f9dae11461038d578063af277395146103a0576101eb565b806376e0a8941461032c57806381bd56011461033f5780638da5cb5b1461035f576101eb565b80633f271fe01161018e57806357f02c471161016857806357f02c47146102d3578063706f0a0c146102e657806372febb79146102f9578063758871d314610319576101eb565b80633f271fe01461029a57806351ba60d7146102ad57806354e3043c146102c0576101eb565b80630e4a07e1116101ca5780630e4a07e1146102415780631273938b14610254578063223ef0aa1461027457806328314d7c14610287576101eb565b80629df41e146101f0578063081812fc146102195780630d473bd41461022c575b600080fd5b6102036101fe366004611f40565b61044d565b60405161021091906124e9565b60405180910390f35b610203610227366004611f40565b6104b5565b61023f61023a366004611f5e565b610514565b005b61023f61024f366004612039565b610592565b610267610262366004611f40565b610601565b6040516102109190612557565b61023f610282366004611f5e565b610643565b61023f61029536600461208f565b6106d0565b61023f6102a8366004611f7d565b61073f565b61023f6102bb366004611f5e565b610780565b61023f6102ce366004612199565b6107bb565b6102676102e1366004611fc0565b610810565b61023f6102f4366004612039565b610b3d565b61030c610307366004611eb9565b610ba2565b60405161021091906124f7565b61023f610327366004612109565b610c01565b61023f61033a366004611f5e565b610cf0565b61035261034d366004611f40565b610d27565b6040516102109190612546565b610203610e39565b610267610375366004611e93565b610e48565b61023f6103883660046120bf565b610e92565b61023f61039b366004611e93565b610ef1565b610267610fac565b61023f6103b6366004611f40565b610fe2565b61023f6103c9366004611ef3565b611043565b6103e16103dc366004611f40565b6110aa565b6040516102109190612535565b61030c6103fc366004611f5e565b611326565b61023f61040f366004612151565b61143d565b61023f610422366004611f5e565b61154c565b610267610435366004611f40565b6115cb565b610203610448366004611f40565b611623565b60008054600160a060020a031633146104845760405160e560020a62461bcd02815260040161047b90612515565b60405180910390fd5b600380548390811061049257fe5b6000918252602090912060109091020160010154600160a060020a031692915050565b60008054600160a060020a031633146104e35760405160e560020a62461bcd02815260040161047b90612515565b60038054839081106104f157fe5b6000918252602090912060109091020160060154600160a060020a031692915050565b600054600160a060020a031633146105415760405160e560020a62461bcd02815260040161047b90612515565b600061054c83611682565b60050180546001810182556000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0393909316929092179091555050565b600054600160a060020a031633146105bf5760405160e560020a62461bcd02815260040161047b90612515565b6105fc838383808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506116cc92505050565b505050565b60008054600160a060020a0316331461062f5760405160e560020a62461bcd02815260040161047b90612515565b61063882610d27565b60a001515192915050565b600054600160a060020a031633146106705760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061067e57fe5b600091825260208083206010929092029091016005018054600181018255908352912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b600054600160a060020a03163314806106e857503330145b15156107095760405160e560020a62461bcd02815260040161047b90612525565b8060038381548110151561071957fe5b60009182526020909120601090910201600f01805460ff19169115159190911790555050565b600054600160a060020a0316331461076c5760405160e560020a62461bcd02815260040161047b90612515565b61077683836116ef565b6105fc8382611819565b600054600160a060020a031633146107ad5760405160e560020a62461bcd02815260040161047b90612515565b6107b78282611819565b5050565b600054600160a060020a031633146107e85760405160e560020a62461bcd02815260040161047b90612515565b806003838154811015156107f857fe5b60009182526020909120600460109092020101555050565b60008054600160a060020a0316331461083e5760405160e560020a62461bcd02815260040161047b90612515565b61084661186b565b60e06040519081016040528087815260200186600160a060020a031681526020018581526020016000600160a060020a031681526020016000815260200160006040519080825280602002602001820160405280156108af578160200160208202803883390190505b50815260006020918201819052604080518082018252848152808401889052600380546001810180835591909452815180517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b6010909602958601908155818701517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c8701805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a0393841617909155958301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85d88015560608301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85e8801805490971691161790945560808101517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85f86015560a0810151805197985091969295939490938593610a28937fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f86090930192909101906118a6565b5060c091820151600691909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055602083810151805160078501908155818301516008860155604082015160098601556060820151600a8601556080820151600b86015560a0820151600c860155928101518051919392610aba92600d87019290910190611918565b5060e08201518051610ad6916007840191602090910190611918565b5061010091909101516008909101805460ff191691151591909117905550506003546000109050610b08576000610b10565b600354600019015b600160a060020a039095166000908152600160208190526040909120805490910190555092949350505050565b600054600160a060020a03163314610b6a5760405160e560020a62461bcd02815260040161047b90612515565b8181600385815481101515610b7b57fe5b90600052602060002090601002016000016005019190610b9c929190611992565b50505050565b60008054600160a060020a03163314610bd05760405160e560020a62461bcd02815260040161047b90612515565b50600160a060020a0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b600054600160a060020a0316331480610c1957503330145b1515610c3a5760405160e560020a62461bcd02815260040161047b90612525565b80600383815481101515610c4a57fe5b9060005260206000209060100201600701600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006019080519060200190610cb3929190611918565b5060e08201518051610ccf916007840191602090910190611918565b5061010091909101516008909101805460ff19169115159190911790555050565b600054600160a060020a03163314610d1d5760405160e560020a62461bcd02815260040161047b90612515565b6107b782826116ef565b610d2f61186b565b600054600160a060020a03163314610d5c5760405160e560020a62461bcd02815260040161047b90612515565b6003805483908110610d6a57fe5b60009182526020918290206040805160e0810182526010909302909101805483526001810154600160a060020a03908116848601526002820154848401526003820154166060840152600481015460808401526005810180548351818702810187019094528084529394919360a086019392830182828015610e1557602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311610df7575b505050918352505060069190910154600160a060020a031660209091015292915050565b600054600160a060020a031681565b60008054600160a060020a03163314610e765760405160e560020a62461bcd02815260040161047b90612515565b50600160a060020a031660009081526001602052604090205490565b600054600160a060020a03163314610ebf5760405160e560020a62461bcd02815260040161047b90612515565b8181600385815481101515610ed057fe5b90600052602060002090601002016007016007019190610b9c9291906119f2565b600054600160a060020a03163314610f1e5760405160e560020a62461bcd02815260040161047b90612515565b600160a060020a0381161515610f495760405160e560020a62461bcd02815260040161047b90612505565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610fa19083906124e9565b60405180910390a150565b60008054600160a060020a03163314610fda5760405160e560020a62461bcd02815260040161047b90612515565b506003545b90565b600054600160a060020a0316331461100f5760405160e560020a62461bcd02815260040161047b90612515565b600061101a82611682565b60006004820155600301805473ffffffffffffffffffffffffffffffffffffffff191690555050565b600054600160a060020a031633146110705760405160e560020a62461bcd02815260040161047b90612515565b600160a060020a03928316600090815260026020908152604080832094909516825292909252919020805460ff1916911515919091179055565b6110b2611a60565b60038054839081106110c057fe5b60009182526020918290206040805161012081018252601090930290910180548383019081526001820154600160a060020a0390811660608601526002830154608086015260038301541660a0850152600482015460c08501526005820180548451818802810188019095528085529495929486949293869360e08701939092909183018282801561117b57602002820191906000526020600020905b8154600160a060020a0316815260019091019060200180831161115d575b505050918352505060069190910154600160a060020a031660209182015290825260408051610120810182526007850180548252600886015482850152600986015482840152600a8601546060830152600b8601546080830152600c86015460a0830152600d86018054845160026101006001841615026000190190921691909104601f8101879004870282018701909552848152958501959294919360c08601939283018282801561126f5780601f106112445761010080835404028352916020019161126f565b820191906000526020600020905b81548152906001019060200180831161125257829003601f168201915b505050918352505060078201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156113035780601f106112d857610100808354040283529160200191611303565b820191906000526020600020905b8154815290600101906020018083116112e657829003601f168201915b50505091835250506008919091015460ff16151560209091015290525092915050565b60008054600160a060020a031633146113545760405160e560020a62461bcd02815260040161047b90612515565b600061135f84611682565b600501905060005b81548110156114355783600160a060020a0316828281548110151561138857fe5b600091825260209091200154600160a060020a0316141561142d578154829060001981019081106113b557fe5b6000918252602090912001548254600160a060020a03909116908390839081106113db57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790558154611421836000198301611a87565b50600192505050610bfb565b600101611367565b505092915050565b600054600160a060020a031633148061145557503330145b15156114765760405160e560020a62461bcd02815260040161047b90612525565b8060038381548110151561148657fe5b6000918252602091829020835160109092020190815582820151600182018054600160a060020a0392831673ffffffffffffffffffffffffffffffffffffffff19918216179091556040850151600284015560608501516003840180549190931691161790556080830151600482015560a083015180519192611511926005850192909101906118a6565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039092169190911790555050565b600054600160a060020a031633146115795760405160e560020a62461bcd02815260040161047b90612515565b8060038381548110151561158957fe5b60009182526020909120601090910201600301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b60008054600160a060020a031633146115f95760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061160757fe5b9060005260206000209060100201600001600401549050919050565b60008054600160a060020a031633146116515760405160e560020a62461bcd02815260040161047b90612515565b600380548390811061165f57fe5b6000918252602090912060109091020160030154600160a060020a031692915050565b60008054600160a060020a031633148061169b57503330145b15156116a657600080fd5b60038054839081106116b457fe5b90600052602060002090601002016000019050919050565b60006116d783611682565b8251909150610b9c90600583019060208501906118a6565b60006001600060038581548110151561170457fe5b6000918252602080832060016010909302019190910154600160a060020a031683528201929092526040019020541161173957fe5b6001600060038481548110151561174c57fe5b6000918252602080832060016010909302019190910154600160a060020a0316835282019290925260400190208054600019019055600380548291908490811061179257fe5b600091825260208220600160109092020181018054600160a060020a039490941673ffffffffffffffffffffffffffffffffffffffff199094169390931790925560038054859081106117e157fe5b600091825260208083206001601090930201820154600160a060020a0316845283019390935260409091019020805490910190555050565b8060038381548110151561182957fe5b60009182526020909120601090910201600601805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b828054828255906000526020600020908101928215611908579160200282015b82811115611908578251825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039091161782556020909201916001909101906118c6565b50611914929150611aab565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061195957805160ff1916838001178555611986565b82800160010185558215611986579182015b8281111561198657825182559160200191906001019061196b565b50611914929150611adc565b828054828255906000526020600020908101928215611908579160200282015b8281111561190857815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a038435161782556020909201916001909101906119b2565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611a335782800160ff19823516178555611986565b82800160010185558215611986579182015b82811115611986578235825591602001919060010190611a45565b61020060405190810160405280611a7561186b565b8152602001611a82611af6565b905290565b8154818355818111156105fc576000838152602090206105fc918101908301611adc565b610fdf91905b8082111561191457805473ffffffffffffffffffffffffffffffffffffffff19168155600101611ab1565b610fdf91905b808211156119145760008155600101611ae2565b6101206040519081016040528060008152602001600081526020016000815260200160008152602001600081526020016000815260200160608152602001606081526020016000151581525090565b6000611b5182356125e8565b9392505050565b600080601f83018413611b6a57600080fd5b50813567ffffffffffffffff811115611b8257600080fd5b602083019150836020820283011115611b9a57600080fd5b9250929050565b6000601f82018313611bb257600080fd5b8135611bc5611bc08261258c565b612565565b91508181835260208401935060208101905083856020840282011115611bea57600080fd5b60005b83811015611c165781611c008882611b45565b8452506020928301929190910190600101611bed565b5050505092915050565b6000611b5182356125f3565b600080601f83018413611c3e57600080fd5b50813567ffffffffffffffff811115611c5657600080fd5b602083019150836001820283011115611b9a57600080fd5b6000601f82018313611c7f57600080fd5b8135611c8d611bc0826125ad565b91508082526020830160208301858383011115611ca957600080fd5b611cb4838284612604565b50505092915050565b60006101208284031215611cd057600080fd5b611cdb610120612565565b90506000611ce98484611e87565b8252506020611cfa84848301611e87565b6020830152506040611d0e84828501611e87565b6040830152506060611d2284828501611e87565b6060830152506080611d3684828501611e87565b60808301525060a0611d4a84828501611e87565b60a08301525060c082013567ffffffffffffffff811115611d6a57600080fd5b611d7684828501611c6e565b60c08301525060e082013567ffffffffffffffff811115611d9657600080fd5b611da284828501611c6e565b60e083015250610100611db784828501611c20565b6101008301525092915050565b600060e08284031215611dd657600080fd5b611de060e0612565565b90506000611dee8484611e87565b8252506020611dff84848301611b45565b6020830152506040611e1384828501611e87565b6040830152506060611e2784828501611b45565b6060830152506080611e3b84828501611e87565b60808301525060a082013567ffffffffffffffff811115611e5b57600080fd5b611e6784828501611ba1565b60a08301525060c0611e7b84828501611b45565b60c08301525092915050565b6000611b518235610fdf565b600060208284031215611ea557600080fd5b6000611eb18484611b45565b949350505050565b60008060408385031215611ecc57600080fd5b6000611ed88585611b45565b9250506020611ee985828601611b45565b9150509250929050565b600080600060608486031215611f0857600080fd5b6000611f148686611b45565b9350506020611f2586828701611b45565b9250506040611f3686828701611c20565b9150509250925092565b600060208284031215611f5257600080fd5b6000611eb18484611e87565b60008060408385031215611f7157600080fd5b6000611ed88585611e87565b600080600060608486031215611f9257600080fd5b6000611f9e8686611e87565b9350506020611faf86828701611b45565b9250506040611f3686828701611b45565b60008060008060808587031215611fd657600080fd5b6000611fe28787611e87565b9450506020611ff387828801611b45565b935050604061200487828801611e87565b925050606085013567ffffffffffffffff81111561202157600080fd5b61202d87828801611cbd565b91505092959194509250565b60008060006040848603121561204e57600080fd5b600061205a8686611e87565b935050602084013567ffffffffffffffff81111561207757600080fd5b61208386828701611b58565b92509250509250925092565b600080604083850312156120a257600080fd5b60006120ae8585611e87565b9250506020611ee985828601611c20565b6000806000604084860312156120d457600080fd5b60006120e08686611e87565b935050602084013567ffffffffffffffff8111156120fd57600080fd5b61208386828701611c2c565b6000806040838503121561211c57600080fd5b60006121288585611e87565b925050602083013567ffffffffffffffff81111561214557600080fd5b611ee985828601611cbd565b6000806040838503121561216457600080fd5b60006121708585611e87565b925050602083013567ffffffffffffffff81111561218d57600080fd5b611ee985828601611dc4565b600080604083850312156121ac57600080fd5b60006121b88585611e87565b9250506020611ee985828601611e87565b60006121d583836121dd565b505060200190565b6121e6816125e8565b82525050565b60006121f7826125db565b61220181856125df565b935061220c836125d5565b60005b82811015612237576122228683516121c9565b955061222d826125d5565b915060010161220f565b5093949350505050565b6121e6816125f3565b6000612255826125db565b61225f81856125df565b935061226f818560208601612610565b6122788161263c565b9093019392505050565b600061228f6018836125df565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006122c86017836125df565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006123016024836125df565b7f6e6f742074686520636f6e747261637420697473656c66206f7220746865206f81527f776e657200000000000000000000000000000000000000000000000000000000602082015260400192915050565b805160408084526000919084019061236b8282612453565b91505060208301518482036020860152612385828261238e565b95945050505050565b80516000906101208401906123a385826124e0565b5060208301516123b660208601826124e0565b5060408301516123c960408601826124e0565b5060608301516123dc60608601826124e0565b5060808301516123ef60808601826124e0565b5060a083015161240260a08601826124e0565b5060c083015184820360c086015261241a828261224a565b91505060e083015184820360e0860152612434828261224a565b91505061010083015161244b610100860182612241565b509392505050565b805160009060e084019061246785826124e0565b50602083015161247a60208601826121dd565b50604083015161248d60408601826124e0565b5060608301516124a060608601826121dd565b5060808301516124b360808601826124e0565b5060a083015184820360a08601526124cb82826121ec565b91505060c083015161244b60c08601826121dd565b6121e681610fdf565b60208101610bfb82846121dd565b60208101610bfb8284612241565b60208082528101610bfb81612282565b60208082528101610bfb816122bb565b60208082528101610bfb816122f4565b60208082528101611b518184612353565b60208082528101611b518184612453565b60208101610bfb82846124e0565b60405181810167ffffffffffffffff8111828210171561258457600080fd5b604052919050565b600067ffffffffffffffff8211156125a357600080fd5b5060209081020190565b600067ffffffffffffffff8211156125c457600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b6000610bfb826125f8565b151590565b600160a060020a031690565b82818337506000910152565b60005b8381101561262b578181015183820152602001612613565b83811115610b9c5750506000910152565b601f01601f19169056fea265627a7a72305820d2764e511ff376e314c717e964b849a854d57a62425bf93afdce86193d70ae526c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it;\n\npragma solidity ^0.5.2;\npragma experimental ABIEncoderV2;\n\n/// @title The Database contract for the Certificate of Origin list\n/// @notice This contract only provides getter and setter methods\n\nimport \"../../contracts/Origin/TradableEntityContract.sol\";\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"../../contracts/Origin/TradableEntityDB.sol\";\n\ncontract EnergyDB is TradableEntityDB, TradableEntityContract {\n\n    struct Flexibility {\n        uint activationId;\n        uint datetimeFrom;\t\n        uint datetimeTo;\t\n        uint energyAmountInWh;\n        uint averagePowerInW;\n        uint baselinePowerInW;\n        string powerProfileURL;\n        string powerProfileHash;\n        bool reportConfirmed; \n    }\n\n    struct Energy {\n        TradableEntity tradableEntity;\n        Flexibility flexibility;\n    }\n\n    modifier onlyOwnerOrSelf {\n        require(msg.sender == owner || msg.sender == address(this),\"not the contract itself or the owner\");\n        _;\n    }\n\n    /// @notice An array containing all created certificates\n    Energy[] private energyList;\n\n    /// @notice Constructor\n    /// @param _energyLogic The address of the corresbonding logic contract\n    constructor(address _energyLogic) TradableEntityDB(_energyLogic) public { }\n\n    /**\n        external functions\n    */\n\n    /// @notice Adds a new escrow address to an existing certificate\n    /// @param _entityId the entity-id\n    /// @param _escrow The new escrow-address\n    function addEscrowForAsset(uint _entityId, address _escrow) external onlyOwner {\n        energyList[_entityId].tradableEntity.escrow.push(_escrow);\n    }\n\n    /// @notice creates a new TradableEntity-entry\n    /// @param _assetId the asset-id that produced the energy\n    /// @param _owner the asset-owner (= the new entity-owner)\n    /// @param _powerInW the amount of energy produced\n    function createTradableEntityEntry(\n        uint _assetId,\n        address _owner,\n        uint _powerInW,\n        Flexibility memory _flex\n    )\n        public\n        onlyOwner\n        returns (uint _entityId)\n    {\n        TradableEntity memory te = TradableEntity({\n            assetId: _assetId,\n            owner: _owner,\n            powerInW: _powerInW,\n            acceptedToken: address(0x0),\n            onChainDirectPurchasePrice: 0,\n            escrow: new address[](0),\n            approvedAddress: address(0x0)\n        });\n        energyList.push(Energy({tradableEntity: te, flexibility: _flex}));\n        _entityId = energyList.length>0?energyList.length-1:0;\n        tokenAmountMapping[_owner]++;\n    }\n\n    /// @notice sets a new array of escrowsfor an entity\n    /// @param _entityId the id of the entity\n    /// @param _escrow the array with escrows\n    function setEscrow(uint _entityId, address[] calldata _escrow) external onlyOwner {\n        energyList[_entityId].tradableEntity.escrow = _escrow;\n    }\n\n    /// @notice sets the owner of a TradableEntity and adds an address for approval\n    /// @param _entityId the id of the entity\n    /// @param _owner the new owner\n    /// @param _approve the address that has the approval to move the token\n    function setTradableEntityOwnerAndAddApproval(\n        uint _entityId,\n        address _owner,\n        address _approve\n    )\n        external\n        onlyOwner\n    {\n        setTradableEntityOwner(_entityId, _owner);\n        addApproval(_entityId, _approve);\n    }\n\n    /// @notice sets the tradable ERC20-token\n    /// @param _entityId the id of the entity\n    /// @param _token address of the erc20-token\n    function setTradableToken(\n        uint _entityId,\n        address _token\n    )\n        external\n        onlyOwner\n    {\n        energyList[_entityId].tradableEntity.acceptedToken = _token;\n    }\n\n    /// @notice sets the onchain price (as erc20 token) for direct purchasement\n    /// @param _entityId the id of the entity\n    /// @param _price the price for a direct onchain purchasement\n    function setOnChainDirectPurchasePrice(\n        uint _entityId,\n        uint _price\n    )\n        external\n        onlyOwner\n    {\n        energyList[_entityId].tradableEntity.onChainDirectPurchasePrice = _price;\n    }\n\n    /// @notice gets the approved-address of an entity\n    /// @param _entityId the id of the entity\n    /// @return approved address of an entity\n    function getApproved(uint256 _entityId) onlyOwner external view returns (address){\n        return energyList[_entityId].tradableEntity.approvedAddress;\n    }\n\n    /// @notice gets the amount of bundles the address posseses\n    /// @param _owner the owner\n    /// @return the amount of bundles the provided address owns\n    function getBalanceOf(address _owner) external onlyOwner view returns (uint){\n        return tokenAmountMapping[_owner];\n    }\n\n    /// @notice gets thes tradable (accepted) token for an entity\n    /// @param _entityId the id of the entity\n    /// @return ERC20-token address\n    function getTradableToken(uint _entityId) external onlyOwner view returns (address){\n        return energyList[_entityId].tradableEntity.acceptedToken;\n    }\n\n    /// @notice gets the ERC20 price for an entity\n    /// @param _entityId the id of the entity\n    /// @return the ERC20 price for an entity\n    function getOnChainDirectPurchasePrice(uint _entityId) external onlyOwner view returns (uint){\n        return energyList[_entityId].tradableEntity.onChainDirectPurchasePrice;\n    }\n\n    /// @notice gets the owner of a tradableEntity\n    /// @param _entityId the id of an entity\n    /// @return the owner of a tradableEntity\n    function getTradableEntityOwner(uint _entityId)\n        external\n        onlyOwner\n        view\n        returns (address)\n    {\n        return energyList[_entityId].tradableEntity.owner;\n    }\n\n    /*\n    /// @notice gets whether the provided address is an operator (escrow) for the company\n    function getOwnerToOperators(address _company, address _escrow) onlyOwner external view returns (bool){\n        return ownerToOperators[_company][_escrow];\n    }\n    */\n\n    /**\n        public functions\n     */\n\n    /// @notice sets the Tradable-Entity struct\n    /// @param _entityId the id of the entity\n    /// @param _entity the new entity\n    function setTradableEntity(\n        uint _entityId,\n        TradableEntityContract.TradableEntity memory _entity\n    )\n        public\n        onlyOwnerOrSelf\n    {\n        energyList[_entityId].tradableEntity = _entity;\n    }\n\n    function setFexibility(\n        uint _entityId,\n        Flexibility memory _flex\n    )\n        public\n        onlyOwnerOrSelf\n    {\n        energyList[_entityId].flexibility = _flex;\n    }\n\n    function setApproved(\n        uint _entityId,\n        bool _approved\n    )\n        public \n        onlyOwnerOrSelf \n    {\n        energyList[_entityId].flexibility.reportConfirmed = _approved;\n    }\n\n    /// @notice gets the tradableEntity as memory\n    /// @dev has to be implemetned to create bytecode\n    /// @param _entityId the id of the entity\n    /// @return the tradableEntity struct as memory\n    function getTradableEntity(uint _entityId) public onlyOwner view returns (TradableEntityContract.TradableEntity memory _entity){\n        return energyList[_entityId].tradableEntity;\n    }\n\n    /**\n        internal functions\n     */\n\n    /// @notice sets the tradable entity owner\n    /// @param _entityId the id of the entity\n    /// @param _owner the new owner\n    function setTradableEntityOwner(uint _entityId, address _owner) internal {\n\n        assert(tokenAmountMapping[energyList[_entityId].tradableEntity.owner]>0);\n        tokenAmountMapping[energyList[_entityId].tradableEntity.owner]--;\n        energyList[_entityId].tradableEntity.owner = _owner;\n        tokenAmountMapping[energyList[_entityId].tradableEntity.owner]++;\n\n    }\n\n    /// @notice adds an approved address to an entity\n    /// @param _entityId the id of the entity\n    /// @param _approve the approved address\n    function addApproval(uint _entityId, address _approve) internal {\n        energyList[_entityId].tradableEntity.approvedAddress = _approve;\n    }\n\n    /// @notice gets the tradableEntity-struct as storage\n    /// @dev function has to be implemented to create bytecode\n    /// @param _entityId the id of the entity\n    /// @return tradableEntity-struct as storage\n    function getTradableEntityInternally(\n        uint _entityId\n    )\n        internal\n        view\n        returns (TradableEntityContract.TradableEntity storage _entity)\n    {\n        require(msg.sender == owner || msg.sender == address(this));\n        return energyList[_entityId].tradableEntity;\n    }\n\n    function getEnergyCertificate(uint _entityId) \n        external \n        view \n        returns (Energy memory)\n    {\n        return energyList[_entityId];\n    }\n\n    function getCertificateListLength()\n        external\n        onlyOwner\n        view\n        returns (uint)\n    {\n        return energyList.length;\n    }\n\n\n    function setFileHash(uint _entityId, string calldata _fileHash)\n        external \n        onlyOwner\n    {\n        energyList[_entityId].flexibility.powerProfileHash = _fileHash;\n    }\n\n}\n","networks":"{}"}