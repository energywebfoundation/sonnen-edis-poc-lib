{"abi":[{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntityOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"addEscrowForEntity","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address[]"}],"name":"setTradableEntityEscrowExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntityEscrowLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"addEscrowForAsset","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_approved","type":"bool"}],"name":"setApproved","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_approve","type":"address"}],"name":"setTradableEntityOwnerAndAddApproval","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_approve","type":"address"}],"name":"addApprovalExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_price","type":"uint256"}],"name":"setOnChainDirectPurchasePrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address[]"}],"name":"setEscrow","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_company","type":"address"},{"name":"_escrow","type":"address"}],"name":"getOwnerToOperators","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_owner","type":"address"}],"name":"setTradableEntityOwnerExternal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableEntity","outputs":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"_entity","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"_flex","type":"tuple"}],"name":"setFexibility","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"getBalanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_fileHash","type":"string"}],"name":"setFileHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_owner","type":"address"},{"name":"_powerInW","type":"uint256"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"_flex","type":"tuple"}],"name":"createTradableEntityEntry","outputs":[{"name":"_entityId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getCertificateListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"removeTokenAndPrice","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_company","type":"address"},{"name":"_escrow","type":"address"},{"name":"_allowed","type":"bool"}],"name":"setOwnerToOperators","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getEnergyCertificate","outputs":[{"components":[{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"tradableEntity","type":"tuple"},{"components":[{"name":"activationId","type":"uint256"},{"name":"datetimeFrom","type":"uint256"},{"name":"datetimeTo","type":"uint256"},{"name":"energyAmountInWh","type":"uint256"},{"name":"averagePowerInW","type":"uint256"},{"name":"powerProfileURL","type":"string"},{"name":"powerProfileHash","type":"string"},{"name":"reportConfirmed","type":"bool"}],"name":"flexibility","type":"tuple"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_escrow","type":"address"}],"name":"removeEscrow","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"components":[{"name":"assetId","type":"uint256"},{"name":"owner","type":"address"},{"name":"powerInW","type":"uint256"},{"name":"acceptedToken","type":"address"},{"name":"onChainDirectPurchasePrice","type":"uint256"},{"name":"escrow","type":"address[]"},{"name":"approvedAddress","type":"address"}],"name":"_entity","type":"tuple"}],"name":"setTradableEntity","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_entityId","type":"uint256"},{"name":"_token","type":"address"}],"name":"setTradableToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getOnChainDirectPurchasePrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_entityId","type":"uint256"}],"name":"getTradableToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_energyLogic","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b50604051602080620026f483398101806040526200003391908101906200006e565b60008054600160a060020a031916600160a060020a0392909216919091179055620000b6565b600062000067825162000097565b9392505050565b6000602082840312156200008157600080fd5b60006200008f848462000059565b949350505050565b6000620000a482620000aa565b92915050565b600160a060020a031690565b61262e80620000c66000396000f3fe608060405234801561001057600080fd5b50600436106101eb576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b11610121578063b88c171d116100bf578063d45c612d1161008e578063d45c612d14610401578063deadb86714610414578063e09a727914610427578063fb79224f1461043a576101eb565b8063b88c171d146103a8578063bebc1e9c146103bb578063c265d1e1146103ce578063c365d3f0146103ee576101eb565b8063a0266f16116100fb578063a0266f1614610367578063a6f9dae11461037a578063a9655f141461038d578063af277395146103a0576101eb565b80638da5cb5b146103395780639716fb06146103415780639b96eece14610354576101eb565b80633f271fe01161018e578063706f0a0c11610168578063706f0a0c146102d357806372febb79146102e657806376e0a8941461030657806381bd560114610319576101eb565b80633f271fe01461029a57806351ba60d7146102ad57806354e3043c146102c0576101eb565b80630e4a07e1116101ca5780630e4a07e1146102415780631273938b14610254578063223ef0aa1461027457806328314d7c14610287576101eb565b80629df41e146101f0578063081812fc146102195780630d473bd41461022c575b600080fd5b6102036101fe366004611f03565b61044d565b6040516102109190612497565b60405180910390f35b610203610227366004611f03565b6104b5565b61023f61023a366004611f21565b610514565b005b61023f61024f366004611ffc565b610592565b610267610262366004611f03565b610601565b6040516102109190612505565b61023f610282366004611f21565b610643565b61023f610295366004612052565b6106d0565b61023f6102a8366004611f40565b61073f565b61023f6102bb366004611f21565b610780565b61023f6102ce36600461215c565b6107bb565b61023f6102e1366004611ffc565b610810565b6102f96102f4366004611e7c565b610875565b60405161021091906124a5565b61023f610314366004611f21565b6108d4565b61032c610327366004611f03565b61090b565b60405161021091906124f4565b610203610a1d565b61023f61034f3660046120cc565b610a2c565b610267610362366004611e56565b610b10565b61023f610375366004612082565b610b5a565b61023f610388366004611e56565b610bb9565b61026761039b366004611f83565b610c74565b610267610f96565b61023f6103b6366004611f03565b610fcc565b61023f6103c9366004611eb6565b61102d565b6103e16103dc366004611f03565b611094565b60405161021091906124e3565b6102f96103fc366004611f21565b611306565b61023f61040f366004612114565b61141d565b61023f610422366004611f21565b61152c565b610267610435366004611f03565b6115ab565b610203610448366004611f03565b611603565b60008054600160a060020a031633146104845760405160e560020a62461bcd02815260040161047b906124c3565b60405180910390fd5b600380548390811061049257fe5b60009182526020909120600f9091020160010154600160a060020a031692915050565b60008054600160a060020a031633146104e35760405160e560020a62461bcd02815260040161047b906124c3565b60038054839081106104f157fe5b60009182526020909120600f9091020160060154600160a060020a031692915050565b600054600160a060020a031633146105415760405160e560020a62461bcd02815260040161047b906124c3565b600061054c83611662565b60050180546001810182556000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0393909316929092179091555050565b600054600160a060020a031633146105bf5760405160e560020a62461bcd02815260040161047b906124c3565b6105fc838383808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506116ac92505050565b505050565b60008054600160a060020a0316331461062f5760405160e560020a62461bcd02815260040161047b906124c3565b6106388261090b565b60a001515192915050565b600054600160a060020a031633146106705760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061067e57fe5b60009182526020808320600f929092029091016005018054600181018255908352912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b600054600160a060020a03163314806106e857503330145b15156107095760405160e560020a62461bcd02815260040161047b906124d3565b8060038381548110151561071957fe5b60009182526020909120600f90910201600e01805460ff19169115159190911790555050565b600054600160a060020a0316331461076c5760405160e560020a62461bcd02815260040161047b906124c3565b61077683836116cf565b6105fc83826117f9565b600054600160a060020a031633146107ad5760405160e560020a62461bcd02815260040161047b906124c3565b6107b782826117f9565b5050565b600054600160a060020a031633146107e85760405160e560020a62461bcd02815260040161047b906124c3565b806003838154811015156107f857fe5b600091825260209091206004600f9092020101555050565b600054600160a060020a0316331461083d5760405160e560020a62461bcd02815260040161047b906124c3565b818160038581548110151561084e57fe5b90600052602060002090600f0201600001600501919061086f92919061184b565b50505050565b60008054600160a060020a031633146108a35760405160e560020a62461bcd02815260040161047b906124c3565b50600160a060020a0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b600054600160a060020a031633146109015760405160e560020a62461bcd02815260040161047b906124c3565b6107b782826116cf565b6109136118bb565b600054600160a060020a031633146109405760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061094e57fe5b60009182526020918290206040805160e081018252600f909302909101805483526001810154600160a060020a03908116848601526002820154848401526003820154166060840152600481015460808401526005810180548351818702810187019094528084529394919360a0860193928301828280156109f957602002820191906000526020600020905b8154600160a060020a031681526001909101906020018083116109db575b505050918352505060069190910154600160a060020a031660209091015292915050565b600054600160a060020a031681565b600054600160a060020a0316331480610a4457503330145b1515610a655760405160e560020a62461bcd02815260040161047b906124d3565b80600383815481101515610a7557fe5b90600052602060002090600f0201600701600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005019080519060200190610ad49291906118f6565b5060c08201518051610af09160068401916020909101906118f6565b5060e091909101516007909101805460ff19169115159190911790555050565b60008054600160a060020a03163314610b3e5760405160e560020a62461bcd02815260040161047b906124c3565b50600160a060020a031660009081526001602052604090205490565b600054600160a060020a03163314610b875760405160e560020a62461bcd02815260040161047b906124c3565b8181600385815481101515610b9857fe5b90600052602060002090600f0201600701600601919061086f929190611970565b600054600160a060020a03163314610be65760405160e560020a62461bcd02815260040161047b906124c3565b600160a060020a0381161515610c115760405160e560020a62461bcd02815260040161047b906124b3565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610c69908390612497565b60405180910390a150565b60008054600160a060020a03163314610ca25760405160e560020a62461bcd02815260040161047b906124c3565b610caa6118bb565b60e06040519081016040528087815260200186600160a060020a031681526020018581526020016000600160a060020a03168152602001600081526020016000604051908082528060200260200182016040528015610d13578160200160208202803883390190505b50815260006020918201819052604080518082018252848152808401889052600380546001810180835591909452815180517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b600f909602958601908155818701517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c8701805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a0393841617909155958301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85d88015560608301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85e8801805490971691161790945560808101517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85f86015560a0810151805197985091969295939490938593610e8c937fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f86090930192909101906119de565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055602082810151805160078401908155818301516008850155604082015160098501556060820151600a8501556080820151600b85015560a0820151805192939192610f1492600c87019201906118f6565b5060c08201518051610f309160068401916020909101906118f6565b5060e091909101516007909101805460ff191691151591909117905550506003546000109050610f61576000610f69565b600354600019015b600160a060020a039095166000908152600160208190526040909120805490910190555092949350505050565b60008054600160a060020a03163314610fc45760405160e560020a62461bcd02815260040161047b906124c3565b506003545b90565b600054600160a060020a03163314610ff95760405160e560020a62461bcd02815260040161047b906124c3565b600061100482611662565b60006004820155600301805473ffffffffffffffffffffffffffffffffffffffff191690555050565b600054600160a060020a0316331461105a5760405160e560020a62461bcd02815260040161047b906124c3565b600160a060020a03928316600090815260026020908152604080832094909516825292909252919020805460ff1916911515919091179055565b61109c611a40565b60038054839081106110aa57fe5b60009182526020918290206040805161012081018252600f90930290910180548383019081526001820154600160a060020a0390811660608601526002830154608086015260038301541660a0850152600482015460c08501526005820180548451818802810188019095528085529495929486949293869360e08701939092909183018282801561116557602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311611147575b505050918352505060069190910154600160a060020a03166020918201529082526040805161010080820183526007860180548352600887015483860152600987015483850152600a8701546060840152600b8701546080840152600c870180548551600260018316159095026000190190911693909304601f8101879004870284018701909552848352958501959294909360a08601939183018282801561124f5780601f106112245761010080835404028352916020019161124f565b820191906000526020600020905b81548152906001019060200180831161123257829003601f168201915b505050918352505060068201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156112e35780601f106112b8576101008083540402835291602001916112e3565b820191906000526020600020905b8154815290600101906020018083116112c657829003601f168201915b50505091835250506007919091015460ff16151560209091015290525092915050565b60008054600160a060020a031633146113345760405160e560020a62461bcd02815260040161047b906124c3565b600061133f84611662565b600501905060005b81548110156114155783600160a060020a0316828281548110151561136857fe5b600091825260209091200154600160a060020a0316141561140d5781548290600019810190811061139557fe5b6000918252602090912001548254600160a060020a03909116908390839081106113bb57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790558154611401836000198301611a67565b506001925050506108ce565b600101611347565b505092915050565b600054600160a060020a031633148061143557503330145b15156114565760405160e560020a62461bcd02815260040161047b906124d3565b8060038381548110151561146657fe5b60009182526020918290208351600f9092020190815582820151600182018054600160a060020a0392831673ffffffffffffffffffffffffffffffffffffffff19918216179091556040850151600284015560608501516003840180549190931691161790556080830151600482015560a0830151805191926114f1926005850192909101906119de565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039092169190911790555050565b600054600160a060020a031633146115595760405160e560020a62461bcd02815260040161047b906124c3565b8060038381548110151561156957fe5b60009182526020909120600f90910201600301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b60008054600160a060020a031633146115d95760405160e560020a62461bcd02815260040161047b906124c3565b60038054839081106115e757fe5b90600052602060002090600f0201600001600401549050919050565b60008054600160a060020a031633146116315760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061163f57fe5b60009182526020909120600f9091020160030154600160a060020a031692915050565b60008054600160a060020a031633148061167b57503330145b151561168657600080fd5b600380548390811061169457fe5b90600052602060002090600f02016000019050919050565b60006116b783611662565b825190915061086f90600583019060208501906119de565b6000600160006003858154811015156116e457fe5b600091825260208083206001600f909302019190910154600160a060020a031683528201929092526040019020541161171957fe5b6001600060038481548110151561172c57fe5b600091825260208083206001600f909302019190910154600160a060020a0316835282019290925260400190208054600019019055600380548291908490811061177257fe5b6000918252602082206001600f9092020181018054600160a060020a039490941673ffffffffffffffffffffffffffffffffffffffff199094169390931790925560038054859081106117c157fe5b600091825260208083206001600f90930201820154600160a060020a0316845283019390935260409091019020805490910190555050565b8060038381548110151561180957fe5b60009182526020909120600f90910201600601805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b8280548282559060005260206000209081019282156118ab579160200282015b828111156118ab57815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0384351617825560209092019160019091019061186b565b506118b7929150611a8b565b5090565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061193757805160ff1916838001178555611964565b82800160010185558215611964579182015b82811115611964578251825591602001919060010190611949565b506118b7929150611abc565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106119b15782800160ff19823516178555611964565b82800160010185558215611964579182015b828111156119645782358255916020019190600101906119c3565b8280548282559060005260206000209081019282156118ab579160200282015b828111156118ab578251825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039091161782556020909201916001909101906119fe565b6101e060405190810160405280611a556118bb565b8152602001611a62611ad6565b905290565b8154818355818111156105fc576000838152602090206105fc918101908301611abc565b610fc991905b808211156118b757805473ffffffffffffffffffffffffffffffffffffffff19168155600101611a91565b610fc991905b808211156118b75760008155600101611ac2565b61010060405190810160405280600081526020016000815260200160008152602001600081526020016000815260200160608152602001606081526020016000151581525090565b6000611b2a8235612596565b9392505050565b600080601f83018413611b4357600080fd5b50813567ffffffffffffffff811115611b5b57600080fd5b602083019150836020820283011115611b7357600080fd5b9250929050565b6000601f82018313611b8b57600080fd5b8135611b9e611b998261253a565b612513565b91508181835260208401935060208101905083856020840282011115611bc357600080fd5b60005b83811015611bef5781611bd98882611b1e565b8452506020928301929190910190600101611bc6565b5050505092915050565b6000611b2a82356125a1565b600080601f83018413611c1757600080fd5b50813567ffffffffffffffff811115611c2f57600080fd5b602083019150836001820283011115611b7357600080fd5b6000601f82018313611c5857600080fd5b8135611c66611b998261255b565b91508082526020830160208301858383011115611c8257600080fd5b611c8d8382846125b2565b50505092915050565b60006101008284031215611ca957600080fd5b611cb4610100612513565b90506000611cc28484611e4a565b8252506020611cd384848301611e4a565b6020830152506040611ce784828501611e4a565b6040830152506060611cfb84828501611e4a565b6060830152506080611d0f84828501611e4a565b60808301525060a082013567ffffffffffffffff811115611d2f57600080fd5b611d3b84828501611c47565b60a08301525060c082013567ffffffffffffffff811115611d5b57600080fd5b611d6784828501611c47565b60c08301525060e0611d7b84828501611bf9565b60e08301525092915050565b600060e08284031215611d9957600080fd5b611da360e0612513565b90506000611db18484611e4a565b8252506020611dc284848301611b1e565b6020830152506040611dd684828501611e4a565b6040830152506060611dea84828501611b1e565b6060830152506080611dfe84828501611e4a565b60808301525060a082013567ffffffffffffffff811115611e1e57600080fd5b611e2a84828501611b7a565b60a08301525060c0611e3e84828501611b1e565b60c08301525092915050565b6000611b2a8235610fc9565b600060208284031215611e6857600080fd5b6000611e748484611b1e565b949350505050565b60008060408385031215611e8f57600080fd5b6000611e9b8585611b1e565b9250506020611eac85828601611b1e565b9150509250929050565b600080600060608486031215611ecb57600080fd5b6000611ed78686611b1e565b9350506020611ee886828701611b1e565b9250506040611ef986828701611bf9565b9150509250925092565b600060208284031215611f1557600080fd5b6000611e748484611e4a565b60008060408385031215611f3457600080fd5b6000611e9b8585611e4a565b600080600060608486031215611f5557600080fd5b6000611f618686611e4a565b9350506020611f7286828701611b1e565b9250506040611ef986828701611b1e565b60008060008060808587031215611f9957600080fd5b6000611fa58787611e4a565b9450506020611fb687828801611b1e565b9350506040611fc787828801611e4a565b925050606085013567ffffffffffffffff811115611fe457600080fd5b611ff087828801611c96565b91505092959194509250565b60008060006040848603121561201157600080fd5b600061201d8686611e4a565b935050602084013567ffffffffffffffff81111561203a57600080fd5b61204686828701611b31565b92509250509250925092565b6000806040838503121561206557600080fd5b60006120718585611e4a565b9250506020611eac85828601611bf9565b60008060006040848603121561209757600080fd5b60006120a38686611e4a565b935050602084013567ffffffffffffffff8111156120c057600080fd5b61204686828701611c05565b600080604083850312156120df57600080fd5b60006120eb8585611e4a565b925050602083013567ffffffffffffffff81111561210857600080fd5b611eac85828601611c96565b6000806040838503121561212757600080fd5b60006121338585611e4a565b925050602083013567ffffffffffffffff81111561215057600080fd5b611eac85828601611d87565b6000806040838503121561216f57600080fd5b600061217b8585611e4a565b9250506020611eac85828601611e4a565b600061219883836121a0565b505060200190565b6121a981612596565b82525050565b60006121ba82612589565b6121c4818561258d565b93506121cf83612583565b60005b828110156121fa576121e586835161218c565b95506121f082612583565b91506001016121d2565b5093949350505050565b6121a9816125a1565b600061221882612589565b612222818561258d565b93506122328185602086016125be565b61223b816125ea565b9093019392505050565b600061225260188361258d565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b600061228b60178361258d565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006122c460248361258d565b7f6e6f742074686520636f6e747261637420697473656c66206f7220746865206f81527f776e657200000000000000000000000000000000000000000000000000000000602082015260400192915050565b805160408084526000919084019061232e8282612401565b915050602083015184820360208601526123488282612351565b95945050505050565b8051600090610100840190612366858261248e565b506020830151612379602086018261248e565b50604083015161238c604086018261248e565b50606083015161239f606086018261248e565b5060808301516123b2608086018261248e565b5060a083015184820360a08601526123ca828261220d565b91505060c083015184820360c08601526123e4828261220d565b91505060e08301516123f960e0860182612204565b509392505050565b805160009060e0840190612415858261248e565b50602083015161242860208601826121a0565b50604083015161243b604086018261248e565b50606083015161244e60608601826121a0565b506080830151612461608086018261248e565b5060a083015184820360a086015261247982826121af565b91505060c08301516123f960c08601826121a0565b6121a981610fc9565b602081016108ce82846121a0565b602081016108ce8284612204565b602080825281016108ce81612245565b602080825281016108ce8161227e565b602080825281016108ce816122b7565b60208082528101611b2a8184612316565b60208082528101611b2a8184612401565b602081016108ce828461248e565b60405181810167ffffffffffffffff8111828210171561253257600080fd5b604052919050565b600067ffffffffffffffff82111561255157600080fd5b5060209081020190565b600067ffffffffffffffff82111561257257600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006108ce826125a6565b151590565b600160a060020a031690565b82818337506000910152565b60005b838110156125d95781810151838201526020016125c1565b8381111561086f5750506000910152565b601f01601f19169056fea265627a7a72305820b4cdcb13cc1ebfb771266a9241becfa0ea47e1d21fd05f3cfb06038f221a9eea6c6578706572696d656e74616cf50037","contractName":"EnergyDB","deployedBytecode":"608060405234801561001057600080fd5b50600436106101eb576000357c0100000000000000000000000000000000000000000000000000000000900480638da5cb5b11610121578063b88c171d116100bf578063d45c612d1161008e578063d45c612d14610401578063deadb86714610414578063e09a727914610427578063fb79224f1461043a576101eb565b8063b88c171d146103a8578063bebc1e9c146103bb578063c265d1e1146103ce578063c365d3f0146103ee576101eb565b8063a0266f16116100fb578063a0266f1614610367578063a6f9dae11461037a578063a9655f141461038d578063af277395146103a0576101eb565b80638da5cb5b146103395780639716fb06146103415780639b96eece14610354576101eb565b80633f271fe01161018e578063706f0a0c11610168578063706f0a0c146102d357806372febb79146102e657806376e0a8941461030657806381bd560114610319576101eb565b80633f271fe01461029a57806351ba60d7146102ad57806354e3043c146102c0576101eb565b80630e4a07e1116101ca5780630e4a07e1146102415780631273938b14610254578063223ef0aa1461027457806328314d7c14610287576101eb565b80629df41e146101f0578063081812fc146102195780630d473bd41461022c575b600080fd5b6102036101fe366004611f03565b61044d565b6040516102109190612497565b60405180910390f35b610203610227366004611f03565b6104b5565b61023f61023a366004611f21565b610514565b005b61023f61024f366004611ffc565b610592565b610267610262366004611f03565b610601565b6040516102109190612505565b61023f610282366004611f21565b610643565b61023f610295366004612052565b6106d0565b61023f6102a8366004611f40565b61073f565b61023f6102bb366004611f21565b610780565b61023f6102ce36600461215c565b6107bb565b61023f6102e1366004611ffc565b610810565b6102f96102f4366004611e7c565b610875565b60405161021091906124a5565b61023f610314366004611f21565b6108d4565b61032c610327366004611f03565b61090b565b60405161021091906124f4565b610203610a1d565b61023f61034f3660046120cc565b610a2c565b610267610362366004611e56565b610b10565b61023f610375366004612082565b610b5a565b61023f610388366004611e56565b610bb9565b61026761039b366004611f83565b610c74565b610267610f96565b61023f6103b6366004611f03565b610fcc565b61023f6103c9366004611eb6565b61102d565b6103e16103dc366004611f03565b611094565b60405161021091906124e3565b6102f96103fc366004611f21565b611306565b61023f61040f366004612114565b61141d565b61023f610422366004611f21565b61152c565b610267610435366004611f03565b6115ab565b610203610448366004611f03565b611603565b60008054600160a060020a031633146104845760405160e560020a62461bcd02815260040161047b906124c3565b60405180910390fd5b600380548390811061049257fe5b60009182526020909120600f9091020160010154600160a060020a031692915050565b60008054600160a060020a031633146104e35760405160e560020a62461bcd02815260040161047b906124c3565b60038054839081106104f157fe5b60009182526020909120600f9091020160060154600160a060020a031692915050565b600054600160a060020a031633146105415760405160e560020a62461bcd02815260040161047b906124c3565b600061054c83611662565b60050180546001810182556000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0393909316929092179091555050565b600054600160a060020a031633146105bf5760405160e560020a62461bcd02815260040161047b906124c3565b6105fc838383808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506116ac92505050565b505050565b60008054600160a060020a0316331461062f5760405160e560020a62461bcd02815260040161047b906124c3565b6106388261090b565b60a001515192915050565b600054600160a060020a031633146106705760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061067e57fe5b60009182526020808320600f929092029091016005018054600181018255908352912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039290921691909117905550565b600054600160a060020a03163314806106e857503330145b15156107095760405160e560020a62461bcd02815260040161047b906124d3565b8060038381548110151561071957fe5b60009182526020909120600f90910201600e01805460ff19169115159190911790555050565b600054600160a060020a0316331461076c5760405160e560020a62461bcd02815260040161047b906124c3565b61077683836116cf565b6105fc83826117f9565b600054600160a060020a031633146107ad5760405160e560020a62461bcd02815260040161047b906124c3565b6107b782826117f9565b5050565b600054600160a060020a031633146107e85760405160e560020a62461bcd02815260040161047b906124c3565b806003838154811015156107f857fe5b600091825260209091206004600f9092020101555050565b600054600160a060020a0316331461083d5760405160e560020a62461bcd02815260040161047b906124c3565b818160038581548110151561084e57fe5b90600052602060002090600f0201600001600501919061086f92919061184b565b50505050565b60008054600160a060020a031633146108a35760405160e560020a62461bcd02815260040161047b906124c3565b50600160a060020a0380831660009081526002602090815260408083209385168352929052205460ff165b92915050565b600054600160a060020a031633146109015760405160e560020a62461bcd02815260040161047b906124c3565b6107b782826116cf565b6109136118bb565b600054600160a060020a031633146109405760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061094e57fe5b60009182526020918290206040805160e081018252600f909302909101805483526001810154600160a060020a03908116848601526002820154848401526003820154166060840152600481015460808401526005810180548351818702810187019094528084529394919360a0860193928301828280156109f957602002820191906000526020600020905b8154600160a060020a031681526001909101906020018083116109db575b505050918352505060069190910154600160a060020a031660209091015292915050565b600054600160a060020a031681565b600054600160a060020a0316331480610a4457503330145b1515610a655760405160e560020a62461bcd02815260040161047b906124d3565b80600383815481101515610a7557fe5b90600052602060002090600f0201600701600082015181600001556020820151816001015560408201518160020155606082015181600301556080820151816004015560a0820151816005019080519060200190610ad49291906118f6565b5060c08201518051610af09160068401916020909101906118f6565b5060e091909101516007909101805460ff19169115159190911790555050565b60008054600160a060020a03163314610b3e5760405160e560020a62461bcd02815260040161047b906124c3565b50600160a060020a031660009081526001602052604090205490565b600054600160a060020a03163314610b875760405160e560020a62461bcd02815260040161047b906124c3565b8181600385815481101515610b9857fe5b90600052602060002090600f0201600701600601919061086f929190611970565b600054600160a060020a03163314610be65760405160e560020a62461bcd02815260040161047b906124c3565b600160a060020a0381161515610c115760405160e560020a62461bcd02815260040161047b906124b3565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af1690610c69908390612497565b60405180910390a150565b60008054600160a060020a03163314610ca25760405160e560020a62461bcd02815260040161047b906124c3565b610caa6118bb565b60e06040519081016040528087815260200186600160a060020a031681526020018581526020016000600160a060020a03168152602001600081526020016000604051908082528060200260200182016040528015610d13578160200160208202803883390190505b50815260006020918201819052604080518082018252848152808401889052600380546001810180835591909452815180517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b600f909602958601908155818701517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c8701805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a0393841617909155958301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85d88015560608301517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85e8801805490971691161790945560808101517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85f86015560a0810151805197985091969295939490938593610e8c937fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f86090930192909101906119de565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055602082810151805160078401908155818301516008850155604082015160098501556060820151600a8501556080820151600b85015560a0820151805192939192610f1492600c87019201906118f6565b5060c08201518051610f309160068401916020909101906118f6565b5060e091909101516007909101805460ff191691151591909117905550506003546000109050610f61576000610f69565b600354600019015b600160a060020a039095166000908152600160208190526040909120805490910190555092949350505050565b60008054600160a060020a03163314610fc45760405160e560020a62461bcd02815260040161047b906124c3565b506003545b90565b600054600160a060020a03163314610ff95760405160e560020a62461bcd02815260040161047b906124c3565b600061100482611662565b60006004820155600301805473ffffffffffffffffffffffffffffffffffffffff191690555050565b600054600160a060020a0316331461105a5760405160e560020a62461bcd02815260040161047b906124c3565b600160a060020a03928316600090815260026020908152604080832094909516825292909252919020805460ff1916911515919091179055565b61109c611a40565b60038054839081106110aa57fe5b60009182526020918290206040805161012081018252600f90930290910180548383019081526001820154600160a060020a0390811660608601526002830154608086015260038301541660a0850152600482015460c08501526005820180548451818802810188019095528085529495929486949293869360e08701939092909183018282801561116557602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311611147575b505050918352505060069190910154600160a060020a03166020918201529082526040805161010080820183526007860180548352600887015483860152600987015483850152600a8701546060840152600b8701546080840152600c870180548551600260018316159095026000190190911693909304601f8101879004870284018701909552848352958501959294909360a08601939183018282801561124f5780601f106112245761010080835404028352916020019161124f565b820191906000526020600020905b81548152906001019060200180831161123257829003601f168201915b505050918352505060068201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156112e35780601f106112b8576101008083540402835291602001916112e3565b820191906000526020600020905b8154815290600101906020018083116112c657829003601f168201915b50505091835250506007919091015460ff16151560209091015290525092915050565b60008054600160a060020a031633146113345760405160e560020a62461bcd02815260040161047b906124c3565b600061133f84611662565b600501905060005b81548110156114155783600160a060020a0316828281548110151561136857fe5b600091825260209091200154600160a060020a0316141561140d5781548290600019810190811061139557fe5b6000918252602090912001548254600160a060020a03909116908390839081106113bb57fe5b6000918252602090912001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790558154611401836000198301611a67565b506001925050506108ce565b600101611347565b505092915050565b600054600160a060020a031633148061143557503330145b15156114565760405160e560020a62461bcd02815260040161047b906124d3565b8060038381548110151561146657fe5b60009182526020918290208351600f9092020190815582820151600182018054600160a060020a0392831673ffffffffffffffffffffffffffffffffffffffff19918216179091556040850151600284015560608501516003840180549190931691161790556080830151600482015560a0830151805191926114f1926005850192909101906119de565b5060c091909101516006909101805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039092169190911790555050565b600054600160a060020a031633146115595760405160e560020a62461bcd02815260040161047b906124c3565b8060038381548110151561156957fe5b60009182526020909120600f90910201600301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b60008054600160a060020a031633146115d95760405160e560020a62461bcd02815260040161047b906124c3565b60038054839081106115e757fe5b90600052602060002090600f0201600001600401549050919050565b60008054600160a060020a031633146116315760405160e560020a62461bcd02815260040161047b906124c3565b600380548390811061163f57fe5b60009182526020909120600f9091020160030154600160a060020a031692915050565b60008054600160a060020a031633148061167b57503330145b151561168657600080fd5b600380548390811061169457fe5b90600052602060002090600f02016000019050919050565b60006116b783611662565b825190915061086f90600583019060208501906119de565b6000600160006003858154811015156116e457fe5b600091825260208083206001600f909302019190910154600160a060020a031683528201929092526040019020541161171957fe5b6001600060038481548110151561172c57fe5b600091825260208083206001600f909302019190910154600160a060020a0316835282019290925260400190208054600019019055600380548291908490811061177257fe5b6000918252602082206001600f9092020181018054600160a060020a039490941673ffffffffffffffffffffffffffffffffffffffff199094169390931790925560038054859081106117c157fe5b600091825260208083206001600f90930201820154600160a060020a0316845283019390935260409091019020805490910190555050565b8060038381548110151561180957fe5b60009182526020909120600f90910201600601805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555050565b8280548282559060005260206000209081019282156118ab579160200282015b828111156118ab57815473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0384351617825560209092019160019091019061186b565b506118b7929150611a8b565b5090565b6040805160e08101825260008082526020820181905291810182905260608082018390526080820183905260a082015260c081019190915290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061193757805160ff1916838001178555611964565b82800160010185558215611964579182015b82811115611964578251825591602001919060010190611949565b506118b7929150611abc565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106119b15782800160ff19823516178555611964565b82800160010185558215611964579182015b828111156119645782358255916020019190600101906119c3565b8280548282559060005260206000209081019282156118ab579160200282015b828111156118ab578251825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a039091161782556020909201916001909101906119fe565b6101e060405190810160405280611a556118bb565b8152602001611a62611ad6565b905290565b8154818355818111156105fc576000838152602090206105fc918101908301611abc565b610fc991905b808211156118b757805473ffffffffffffffffffffffffffffffffffffffff19168155600101611a91565b610fc991905b808211156118b75760008155600101611ac2565b61010060405190810160405280600081526020016000815260200160008152602001600081526020016000815260200160608152602001606081526020016000151581525090565b6000611b2a8235612596565b9392505050565b600080601f83018413611b4357600080fd5b50813567ffffffffffffffff811115611b5b57600080fd5b602083019150836020820283011115611b7357600080fd5b9250929050565b6000601f82018313611b8b57600080fd5b8135611b9e611b998261253a565b612513565b91508181835260208401935060208101905083856020840282011115611bc357600080fd5b60005b83811015611bef5781611bd98882611b1e565b8452506020928301929190910190600101611bc6565b5050505092915050565b6000611b2a82356125a1565b600080601f83018413611c1757600080fd5b50813567ffffffffffffffff811115611c2f57600080fd5b602083019150836001820283011115611b7357600080fd5b6000601f82018313611c5857600080fd5b8135611c66611b998261255b565b91508082526020830160208301858383011115611c8257600080fd5b611c8d8382846125b2565b50505092915050565b60006101008284031215611ca957600080fd5b611cb4610100612513565b90506000611cc28484611e4a565b8252506020611cd384848301611e4a565b6020830152506040611ce784828501611e4a565b6040830152506060611cfb84828501611e4a565b6060830152506080611d0f84828501611e4a565b60808301525060a082013567ffffffffffffffff811115611d2f57600080fd5b611d3b84828501611c47565b60a08301525060c082013567ffffffffffffffff811115611d5b57600080fd5b611d6784828501611c47565b60c08301525060e0611d7b84828501611bf9565b60e08301525092915050565b600060e08284031215611d9957600080fd5b611da360e0612513565b90506000611db18484611e4a565b8252506020611dc284848301611b1e565b6020830152506040611dd684828501611e4a565b6040830152506060611dea84828501611b1e565b6060830152506080611dfe84828501611e4a565b60808301525060a082013567ffffffffffffffff811115611e1e57600080fd5b611e2a84828501611b7a565b60a08301525060c0611e3e84828501611b1e565b60c08301525092915050565b6000611b2a8235610fc9565b600060208284031215611e6857600080fd5b6000611e748484611b1e565b949350505050565b60008060408385031215611e8f57600080fd5b6000611e9b8585611b1e565b9250506020611eac85828601611b1e565b9150509250929050565b600080600060608486031215611ecb57600080fd5b6000611ed78686611b1e565b9350506020611ee886828701611b1e565b9250506040611ef986828701611bf9565b9150509250925092565b600060208284031215611f1557600080fd5b6000611e748484611e4a565b60008060408385031215611f3457600080fd5b6000611e9b8585611e4a565b600080600060608486031215611f5557600080fd5b6000611f618686611e4a565b9350506020611f7286828701611b1e565b9250506040611ef986828701611b1e565b60008060008060808587031215611f9957600080fd5b6000611fa58787611e4a565b9450506020611fb687828801611b1e565b9350506040611fc787828801611e4a565b925050606085013567ffffffffffffffff811115611fe457600080fd5b611ff087828801611c96565b91505092959194509250565b60008060006040848603121561201157600080fd5b600061201d8686611e4a565b935050602084013567ffffffffffffffff81111561203a57600080fd5b61204686828701611b31565b92509250509250925092565b6000806040838503121561206557600080fd5b60006120718585611e4a565b9250506020611eac85828601611bf9565b60008060006040848603121561209757600080fd5b60006120a38686611e4a565b935050602084013567ffffffffffffffff8111156120c057600080fd5b61204686828701611c05565b600080604083850312156120df57600080fd5b60006120eb8585611e4a565b925050602083013567ffffffffffffffff81111561210857600080fd5b611eac85828601611c96565b6000806040838503121561212757600080fd5b60006121338585611e4a565b925050602083013567ffffffffffffffff81111561215057600080fd5b611eac85828601611d87565b6000806040838503121561216f57600080fd5b600061217b8585611e4a565b9250506020611eac85828601611e4a565b600061219883836121a0565b505060200190565b6121a981612596565b82525050565b60006121ba82612589565b6121c4818561258d565b93506121cf83612583565b60005b828110156121fa576121e586835161218c565b95506121f082612583565b91506001016121d2565b5093949350505050565b6121a9816125a1565b600061221882612589565b612222818561258d565b93506122328185602086016125be565b61223b816125ea565b9093019392505050565b600061225260188361258d565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b600061228b60178361258d565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b60006122c460248361258d565b7f6e6f742074686520636f6e747261637420697473656c66206f7220746865206f81527f776e657200000000000000000000000000000000000000000000000000000000602082015260400192915050565b805160408084526000919084019061232e8282612401565b915050602083015184820360208601526123488282612351565b95945050505050565b8051600090610100840190612366858261248e565b506020830151612379602086018261248e565b50604083015161238c604086018261248e565b50606083015161239f606086018261248e565b5060808301516123b2608086018261248e565b5060a083015184820360a08601526123ca828261220d565b91505060c083015184820360c08601526123e4828261220d565b91505060e08301516123f960e0860182612204565b509392505050565b805160009060e0840190612415858261248e565b50602083015161242860208601826121a0565b50604083015161243b604086018261248e565b50606083015161244e60608601826121a0565b506080830151612461608086018261248e565b5060a083015184820360a086015261247982826121af565b91505060c08301516123f960c08601826121a0565b6121a981610fc9565b602081016108ce82846121a0565b602081016108ce8284612204565b602080825281016108ce81612245565b602080825281016108ce8161227e565b602080825281016108ce816122b7565b60208082528101611b2a8184612316565b60208082528101611b2a8184612401565b602081016108ce828461248e565b60405181810167ffffffffffffffff8111828210171561253257600080fd5b604052919050565b600067ffffffffffffffff82111561255157600080fd5b5060209081020190565b600067ffffffffffffffff82111561257257600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006108ce826125a6565b151590565b600160a060020a031690565b82818337506000910152565b60005b838110156125d95781810151838201526020016125c1565b8381111561086f5750506000910152565b601f01601f19169056fea265627a7a72305820b4cdcb13cc1ebfb771266a9241becfa0ea47e1d21fd05f3cfb06038f221a9eea6c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it;\n\npragma solidity ^0.5.2;\npragma experimental ABIEncoderV2;\n\n/// @title The Database contract for the Certificate of Origin list\n/// @notice This contract only provides getter and setter methods\n\nimport \"../../contracts/Origin/TradableEntityContract.sol\";\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"../../contracts/Origin/TradableEntityDB.sol\";\n\ncontract EnergyDB is TradableEntityDB, TradableEntityContract {\n\n    struct Flexibility {\n        uint activationId;\n        uint datetimeFrom;\t\n        uint datetimeTo;\t\n        uint energyAmountInWh;\n        uint averagePowerInW;\n        string powerProfileURL;\n        string powerProfileHash;\n        bool reportConfirmed; \n    }\n\n    struct Energy {\n        TradableEntity tradableEntity;\n        Flexibility flexibility;\n    }\n\n    modifier onlyOwnerOrSelf {\n        require(msg.sender == owner || msg.sender == address(this),\"not the contract itself or the owner\");\n        _;\n    }\n\n    /// @notice An array containing all created certificates\n    Energy[] private energyList;\n\n    /// @notice Constructor\n    /// @param _energyLogic The address of the corresbonding logic contract\n    constructor(address _energyLogic) TradableEntityDB(_energyLogic) public { }\n\n    /**\n        external functions\n    */\n\n    /// @notice Adds a new escrow address to an existing certificate\n    /// @param _entityId the entity-id\n    /// @param _escrow The new escrow-address\n    function addEscrowForAsset(uint _entityId, address _escrow) external onlyOwner {\n        energyList[_entityId].tradableEntity.escrow.push(_escrow);\n    }\n\n    /// @notice creates a new TradableEntity-entry\n    /// @param _assetId the asset-id that produced the energy\n    /// @param _owner the asset-owner (= the new entity-owner)\n    /// @param _powerInW the amount of energy produced\n    function createTradableEntityEntry(\n        uint _assetId,\n        address _owner,\n        uint _powerInW,\n        Flexibility memory _flex\n    )\n        public\n        onlyOwner\n        returns (uint _entityId)\n    {\n        TradableEntity memory te = TradableEntity({\n            assetId: _assetId,\n            owner: _owner,\n            powerInW: _powerInW,\n            acceptedToken: address(0x0),\n            onChainDirectPurchasePrice: 0,\n            escrow: new address[](0),\n            approvedAddress: address(0x0)\n        });\n        energyList.push(Energy({tradableEntity: te, flexibility: _flex}));\n        _entityId = energyList.length>0?energyList.length-1:0;\n        tokenAmountMapping[_owner]++;\n    }\n\n    /// @notice sets a new array of escrowsfor an entity\n    /// @param _entityId the id of the entity\n    /// @param _escrow the array with escrows\n    function setEscrow(uint _entityId, address[] calldata _escrow) external onlyOwner {\n        energyList[_entityId].tradableEntity.escrow = _escrow;\n    }\n\n    /// @notice sets the owner of a TradableEntity and adds an address for approval\n    /// @param _entityId the id of the entity\n    /// @param _owner the new owner\n    /// @param _approve the address that has the approval to move the token\n    function setTradableEntityOwnerAndAddApproval(\n        uint _entityId,\n        address _owner,\n        address _approve\n    )\n        external\n        onlyOwner\n    {\n        setTradableEntityOwner(_entityId, _owner);\n        addApproval(_entityId, _approve);\n    }\n\n    /// @notice sets the tradable ERC20-token\n    /// @param _entityId the id of the entity\n    /// @param _token address of the erc20-token\n    function setTradableToken(\n        uint _entityId,\n        address _token\n    )\n        external\n        onlyOwner\n    {\n        energyList[_entityId].tradableEntity.acceptedToken = _token;\n    }\n\n    /// @notice sets the onchain price (as erc20 token) for direct purchasement\n    /// @param _entityId the id of the entity\n    /// @param _price the price for a direct onchain purchasement\n    function setOnChainDirectPurchasePrice(\n        uint _entityId,\n        uint _price\n    )\n        external\n        onlyOwner\n    {\n        energyList[_entityId].tradableEntity.onChainDirectPurchasePrice = _price;\n    }\n\n    /// @notice gets the approved-address of an entity\n    /// @param _entityId the id of the entity\n    /// @return approved address of an entity\n    function getApproved(uint256 _entityId) onlyOwner external view returns (address){\n        return energyList[_entityId].tradableEntity.approvedAddress;\n    }\n\n    /// @notice gets the amount of bundles the address posseses\n    /// @param _owner the owner\n    /// @return the amount of bundles the provided address owns\n    function getBalanceOf(address _owner) external onlyOwner view returns (uint){\n        return tokenAmountMapping[_owner];\n    }\n\n    /// @notice gets thes tradable (accepted) token for an entity\n    /// @param _entityId the id of the entity\n    /// @return ERC20-token address\n    function getTradableToken(uint _entityId) external onlyOwner view returns (address){\n        return energyList[_entityId].tradableEntity.acceptedToken;\n    }\n\n    /// @notice gets the ERC20 price for an entity\n    /// @param _entityId the id of the entity\n    /// @return the ERC20 price for an entity\n    function getOnChainDirectPurchasePrice(uint _entityId) external onlyOwner view returns (uint){\n        return energyList[_entityId].tradableEntity.onChainDirectPurchasePrice;\n    }\n\n    /// @notice gets the owner of a tradableEntity\n    /// @param _entityId the id of an entity\n    /// @return the owner of a tradableEntity\n    function getTradableEntityOwner(uint _entityId)\n        external\n        onlyOwner\n        view\n        returns (address)\n    {\n        return energyList[_entityId].tradableEntity.owner;\n    }\n\n    /*\n    /// @notice gets whether the provided address is an operator (escrow) for the company\n    function getOwnerToOperators(address _company, address _escrow) onlyOwner external view returns (bool){\n        return ownerToOperators[_company][_escrow];\n    }\n    */\n\n    /**\n        public functions\n     */\n\n    /// @notice sets the Tradable-Entity struct\n    /// @param _entityId the id of the entity\n    /// @param _entity the new entity\n    function setTradableEntity(\n        uint _entityId,\n        TradableEntityContract.TradableEntity memory _entity\n    )\n        public\n        onlyOwnerOrSelf\n    {\n        energyList[_entityId].tradableEntity = _entity;\n    }\n\n    function setFexibility(\n        uint _entityId,\n        Flexibility memory _flex\n    )\n        public\n        onlyOwnerOrSelf\n    {\n        energyList[_entityId].flexibility = _flex;\n    }\n\n    function setApproved(\n        uint _entityId,\n        bool _approved\n    )\n        public \n        onlyOwnerOrSelf \n    {\n        energyList[_entityId].flexibility.reportConfirmed = _approved;\n    }\n\n    /// @notice gets the tradableEntity as memory\n    /// @dev has to be implemetned to create bytecode\n    /// @param _entityId the id of the entity\n    /// @return the tradableEntity struct as memory\n    function getTradableEntity(uint _entityId) public onlyOwner view returns (TradableEntityContract.TradableEntity memory _entity){\n        return energyList[_entityId].tradableEntity;\n    }\n\n    /**\n        internal functions\n     */\n\n    /// @notice sets the tradable entity owner\n    /// @param _entityId the id of the entity\n    /// @param _owner the new owner\n    function setTradableEntityOwner(uint _entityId, address _owner) internal {\n\n        assert(tokenAmountMapping[energyList[_entityId].tradableEntity.owner]>0);\n        tokenAmountMapping[energyList[_entityId].tradableEntity.owner]--;\n        energyList[_entityId].tradableEntity.owner = _owner;\n        tokenAmountMapping[energyList[_entityId].tradableEntity.owner]++;\n\n    }\n\n    /// @notice adds an approved address to an entity\n    /// @param _entityId the id of the entity\n    /// @param _approve the approved address\n    function addApproval(uint _entityId, address _approve) internal {\n        energyList[_entityId].tradableEntity.approvedAddress = _approve;\n    }\n\n    /// @notice gets the tradableEntity-struct as storage\n    /// @dev function has to be implemented to create bytecode\n    /// @param _entityId the id of the entity\n    /// @return tradableEntity-struct as storage\n    function getTradableEntityInternally(\n        uint _entityId\n    )\n        internal\n        view\n        returns (TradableEntityContract.TradableEntity storage _entity)\n    {\n        require(msg.sender == owner || msg.sender == address(this));\n        return energyList[_entityId].tradableEntity;\n    }\n\n    function getEnergyCertificate(uint _entityId) \n        external \n        view \n        returns (Energy memory)\n    {\n        return energyList[_entityId];\n    }\n\n    function getCertificateListLength()\n        external\n        onlyOwner\n        view\n        returns (uint)\n    {\n        return energyList.length;\n    }\n\n\n    function setFileHash(uint _entityId, string calldata _fileHash)\n        external \n        onlyOwner\n    {\n        energyList[_entityId].flexibility.powerProfileHash = _fileHash;\n    }\n\n}\n","networks":"{}"}