{ "abi": [{ "constant": false, "inputs": [{ "name": "_assetId", "type": "uint256[]" }, { "name": "_regionId", "type": "string" }, { "name": "_dateTimeFrom", "type": "uint256" }, { "name": "_dateTimeTo", "type": "uint256" }, { "name": "_power", "type": "uint256" }, { "name": "_baselinePower", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }, { "name": "_price", "type": "uint256" }], "name": "createSupply", "outputs": [{ "name": "_supplyId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "getAllAgreementListLengthDB", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_demandId", "type": "uint256" }], "name": "getDemand", "outputs": [{ "components": [{ "name": "regionId", "type": "string" }, { "name": "dateTimeFrom", "type": "uint256" }, { "name": "dateTimeTo", "type": "uint256" }, { "name": "power", "type": "uint256" }, { "name": "matchedPower", "type": "uint256" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [{ "name": "_agreementId", "type": "uint256" }], "name": "getAgreementDB", "outputs": [{ "components": [{ "name": "demandId", "type": "uint256" }, { "name": "supplyId", "type": "uint256[]" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_demandId", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "setDemandMatchedPower", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "getAllSupplyListLength", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_demandId", "type": "uint256" }, { "name": "_supplyId", "type": "uint256[]" }], "name": "createAgreementDB", "outputs": [{ "name": "_agreementId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_newOwner", "type": "address" }], "name": "changeOwner", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_supplyId", "type": "uint256" }], "name": "getAgreementForSupply", "outputs": [{ "components": [{ "name": "agreementId", "type": "uint256" }, { "name": "isSet", "type": "bool" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_regionId", "type": "string" }, { "name": "_dateTimeFrom", "type": "uint256" }, { "name": "_dateTimeTo", "type": "uint256" }, { "name": "_power", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "createDemand", "outputs": [{ "name": "_demandId", "type": "uint256" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_supplyId", "type": "uint256" }, { "name": "_matchedPower", "type": "uint256" }], "name": "setSupplyMatchedPower", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "_supplyId", "type": "uint256" }], "name": "getSupply", "outputs": [{ "components": [{ "name": "assetId", "type": "uint256[]" }, { "name": "regionId", "type": "string" }, { "name": "dateTimeFrom", "type": "uint256" }, { "name": "dateTimeTo", "type": "uint256" }, { "name": "power", "type": "uint256" }, { "name": "baselinePower", "type": "uint256" }, { "name": "matchedPower", "type": "uint256" }, { "name": "price", "type": "uint256" }], "name": "", "type": "tuple" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "getAllDemandListLength", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "inputs": [{ "name": "_owner", "type": "address" }], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_newOwner", "type": "address" }], "name": "LogChangeOwner", "type": "event" }], "bytecode": "60806040523480156200001157600080fd5b506040516020806200171783398101806040526200003391908101906200006e565b60008054600160a060020a031916600160a060020a0392909216919091179055620000b6565b600062000067825162000097565b9392505050565b6000602082840312156200008157600080fd5b60006200008f848462000059565b949350505050565b6000620000a482620000aa565b92915050565b600160a060020a031690565b61165180620000c66000396000f3fe608060405234801561001057600080fd5b5060043610610107576000357c0100000000000000000000000000000000000000000000000000000000900480639b0c1f9c116100a9578063dd4d3b6a11610083578063dd4d3b6a146101f5578063e182fb7414610208578063f77ee79d1461021b578063f9e170db1461023b57610107565b80639b0c1f9c146101af578063a6f9dae1146101c2578063b3dfe5d5146101d557610107565b806351ec4656116100e557806351ec46561461015d5780635266ddaa1461017d578063639decca146101925780638da5cb5b1461019a57610107565b8063011a19961461010c57806303cb53ec146101355780631ac2733c1461013d575b600080fd5b61011f61011a366004610fd4565b610243565b60405161012c91906114fb565b60405180910390f35b61011f610399565b61015061014b366004611142565b6103e1565b60405161012c91906114cb565b61017061016b366004611142565b610511565b60405161012c91906114ba565b61019061018b3660046111b2565b6105e8565b005b61011f610653565b6101a261069a565b60405161012c9190611486565b61011f6101bd366004611160565b6106b6565b6101906101d0366004610fae565b61081a565b6101e86101e3366004611142565b610906565b60405161012c91906114dc565b61011f6102033660046110b3565b610985565b6101906102163660046111b2565b610aa2565b61022e610229366004611142565b610b0d565b60405161012c91906114ea565b61011f610cba565b6000805473ffffffffffffffffffffffffffffffffffffffff16331461028c576040516000805160206115f88339815191528152600401610283906114aa565b60405180910390fd5b60408051610100810182528a815260208082018b9052918101899052606081018890526080810187905260a0810186905260c0810185905260e08101849052600480546001810180835560009290925282518051929460089092027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01926103179284920190610d01565b5060208281015180516103309260018501920190610d4c565b5060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015550505060006004805490501161038457600061038c565b600454600019015b9998505050505050505050565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146103d9576040516000805160206115f88339815191528152600401610283906114aa565b506001545b90565b6103e9610db9565b60005473ffffffffffffffffffffffffffffffffffffffff163314610428576040516000805160206115f88339815191528152600401610283906114aa565b600380548390811061043657fe5b600091825260209182902060408051600593909302909101805460026001821615610100026000190190911604601f8101859004909402830160c090810190925260a08301848152929390928492909184918401828280156104d95780601f106104ae576101008083540402835291602001916104d9565b820191906000526020600020905b8154815290600101906020018083116104bc57829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382015481526020016004820154815250509050919050565b610519610de9565b60005473ffffffffffffffffffffffffffffffffffffffff163314610558576040516000805160206115f88339815191528152600401610283906114aa565b600180548390811061056657fe5b906000526020600020906002020160408051908101604052908160008201548152602001600182018054806020026020016040519081016040528092919081815260200182805480156105d857602002820191906000526020600020905b8154815260200190600101908083116105c4575b5050505050815250509050919050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610627576040516000805160206115f88339815191528152600401610283906114aa565b600060038381548110151561063857fe5b60009182526020909120600460059092020101919091555050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610693576040516000805160206115f88339815191528152600401610283906114aa565b5060045490565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146106f6576040516000805160206115f88339815191528152600401610283906114aa565b6040805180820190915283815260208082018481526001805480820180835560009290925284517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6600290920291820190815592518051929594610781937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf790930192910190610d01565b505050506000600180549050116107995760006107a1565b600154600019015b905060005b825181101561081357604080518082019091528281526001602082015283516002906000908690859081106107d757fe5b602090810291909101810151825281810192909252604001600020825181559101516001918201805460ff1916911515919091179055016107a6565b5092915050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610859576040516000805160206115f88339815191528152600401610283906114aa565b73ffffffffffffffffffffffffffffffffffffffff81161515610896576040516000805160206115f883398151915281526004016102839061149a565b6000805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff83161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16906108fb908390611486565b60405180910390a150565b61090e610e01565b60005473ffffffffffffffffffffffffffffffffffffffff16331461094d576040516000805160206115f88339815191528152600401610283906114aa565b610955610e01565b50506000908152600260209081526040918290208251808401909352805483526001015460ff1615159082015290565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146109c5576040516000805160206115f88339815191528152600401610283906114aa565b6040805160c06020601f8a01819004028201810190925260a081018881526003928291908b908b9081908501838280828437600092018290525093855250505060208083018a9052604083018990526060830188905260809092018690528354600181018086559482529082902083518051600590930290910192610a4f92849290910190610d4c565b5060208201518160010155604082015181600201556060820151816003015560808201518160040155505050600060038054905011610a8f576000610a97565b600354600019015b979650505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610ae1576040516000805160206115f88339815191528152600401610283906114aa565b6000600483815481101515610af257fe5b60009182526020909120600660089092020101919091555050565b610b15610e18565b60005473ffffffffffffffffffffffffffffffffffffffff163314610b54576040516000805160206115f88339815191528152600401610283906114aa565b6004805483908110610b6257fe5b9060005260206000209060080201610100604051908101604052908160008201805480602002602001604051908101604052809291908181526020018280548015610bcc57602002820191906000526020600020905b815481526020019060010190808311610bb8575b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c6e5780601f10610c4357610100808354040283529160200191610c6e565b820191906000526020600020905b815481529060010190602001808311610c5157829003601f168201915b5050505050815260200160028201548152602001600382015481526020016004820154815260200160058201548152602001600682015481526020016007820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610cfa576040516000805160206115f88339815191528152600401610283906114aa565b5060035490565b828054828255906000526020600020908101928215610d3c579160200282015b82811115610d3c578251825591602001919060010190610d21565b50610d48929150610e5e565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610d8d57805160ff1916838001178555610d3c565b82800160010185558215610d3c5791820182811115610d3c578251825591602001919060010190610d21565b60a06040519081016040528060608152602001600081526020016000815260200160008152602001600081525090565b60408051808201909152600081526060602082015290565b604080518082019091526000808252602082015290565b6101006040519081016040528060608152602001606081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6103de91905b80821115610d485760008155600101610e64565b6000610e84823561158c565b9392505050565b6000601f82018313610e9c57600080fd5b8135610eaf610eaa82611530565b611509565b91508181835260208401935060208101905083856020840282011115610ed457600080fd5b60005b83811015610f005781610eea8882610fa2565b8452506020928301929190910190600101610ed7565b5050505092915050565b600080601f83018413610f1c57600080fd5b50813567ffffffffffffffff811115610f3457600080fd5b602083019150836001820283011115610f4c57600080fd5b9250929050565b6000601f82018313610f6457600080fd5b8135610f72610eaa82611551565b91508082526020830160208301858383011115610f8e57600080fd5b610f998382846115b5565b50505092915050565b6000610e8482356103de565b600060208284031215610fc057600080fd5b6000610fcc8484610e78565b949350505050565b600080600080600080600080610100898b031215610ff157600080fd5b883567ffffffffffffffff81111561100857600080fd5b6110148b828c01610e8b565b985050602089013567ffffffffffffffff81111561103157600080fd5b61103d8b828c01610f53565b975050604061104e8b828c01610fa2565b965050606061105f8b828c01610fa2565b95505060806110708b828c01610fa2565b94505060a06110818b828c01610fa2565b93505060c06110928b828c01610fa2565b92505060e06110a38b828c01610fa2565b9150509295985092959890939650565b60008060008060008060a087890312156110cc57600080fd5b863567ffffffffffffffff8111156110e357600080fd5b6110ef89828a01610f0a565b9650965050602061110289828a01610fa2565b945050604061111389828a01610fa2565b935050606061112489828a01610fa2565b925050608061113589828a01610fa2565b9150509295509295509295565b60006020828403121561115457600080fd5b6000610fcc8484610fa2565b6000806040838503121561117357600080fd5b600061117f8585610fa2565b925050602083013567ffffffffffffffff81111561119c57600080fd5b6111a885828601610e8b565b9150509250929050565b600080604083850312156111c557600080fd5b60006111d18585610fa2565b92505060206111a885828601610fa2565b60006111ee838361147d565b505060200190565b6111ff8161158c565b82525050565b60006112108261157f565b61121a8185611583565b935061122583611579565b60005b828110156112505761123b8683516111e2565b955061124682611579565b9150600101611228565b5093949350505050565b6111ff81611597565b600061126e8261157f565b6112788185611583565b93506112888185602086016115c1565b611291816115ed565b9093019392505050565b60006112a8601883611583565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006112e1601783611583565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b80516000906040840190611321858261147d565b50602083015184820360208601526113398282611205565b95945050505050565b805160a08084526000919084019061135a8282611263565b915050602083015161136f602086018261147d565b506040830151611382604086018261147d565b506060830151611395606086018261147d565b5060808301516113a8608086018261147d565b509392505050565b805160408301906113c1848261147d565b5060208201516113d4602085018261125a565b50505050565b8051610100808452600091908401906113f38282611205565b9150506020830151848203602086015261140d8282611263565b9150506040830151611422604086018261147d565b506060830151611435606086018261147d565b506080830151611448608086018261147d565b5060a083015161145b60a086018261147d565b5060c083015161146e60c086018261147d565b5060e08301516113a860e08601825b6111ff816103de565b6020810161149482846111f6565b92915050565b602080825281016114948161129b565b60208082528101611494816112d4565b60208082528101610e84818461130d565b60208082528101610e848184611342565b6040810161149482846113b0565b60208082528101610e8481846113da565b60208101611494828461147d565b60405181810167ffffffffffffffff8111828210171561152857600080fd5b604052919050565b600067ffffffffffffffff82111561154757600080fd5b5060209081020190565b600067ffffffffffffffff82111561156857600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006114948261159c565b151590565b73ffffffffffffffffffffffffffffffffffffffff1690565b82818337506000910152565b60005b838110156115dc5781810151838201526020016115c4565b838111156113d45750506000910152565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a723058206cd3883b4d1bdcce716bc743f1493b51a09d86d2e0a45effaaa72a53f73c2ff46c6578706572696d656e74616cf50037", "contractName": "MarketDB", "deployedBytecode": "608060405234801561001057600080fd5b5060043610610107576000357c0100000000000000000000000000000000000000000000000000000000900480639b0c1f9c116100a9578063dd4d3b6a11610083578063dd4d3b6a146101f5578063e182fb7414610208578063f77ee79d1461021b578063f9e170db1461023b57610107565b80639b0c1f9c146101af578063a6f9dae1146101c2578063b3dfe5d5146101d557610107565b806351ec4656116100e557806351ec46561461015d5780635266ddaa1461017d578063639decca146101925780638da5cb5b1461019a57610107565b8063011a19961461010c57806303cb53ec146101355780631ac2733c1461013d575b600080fd5b61011f61011a366004610fd4565b610243565b60405161012c91906114fb565b60405180910390f35b61011f610399565b61015061014b366004611142565b6103e1565b60405161012c91906114cb565b61017061016b366004611142565b610511565b60405161012c91906114ba565b61019061018b3660046111b2565b6105e8565b005b61011f610653565b6101a261069a565b60405161012c9190611486565b61011f6101bd366004611160565b6106b6565b6101906101d0366004610fae565b61081a565b6101e86101e3366004611142565b610906565b60405161012c91906114dc565b61011f6102033660046110b3565b610985565b6101906102163660046111b2565b610aa2565b61022e610229366004611142565b610b0d565b60405161012c91906114ea565b61011f610cba565b6000805473ffffffffffffffffffffffffffffffffffffffff16331461028c576040516000805160206115f88339815191528152600401610283906114aa565b60405180910390fd5b60408051610100810182528a815260208082018b9052918101899052606081018890526080810187905260a0810186905260c0810185905260e08101849052600480546001810180835560009290925282518051929460089092027f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01926103179284920190610d01565b5060208281015180516103309260018501920190610d4c565b5060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e0820151816007015550505060006004805490501161038457600061038c565b600454600019015b9998505050505050505050565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146103d9576040516000805160206115f88339815191528152600401610283906114aa565b506001545b90565b6103e9610db9565b60005473ffffffffffffffffffffffffffffffffffffffff163314610428576040516000805160206115f88339815191528152600401610283906114aa565b600380548390811061043657fe5b600091825260209182902060408051600593909302909101805460026001821615610100026000190190911604601f8101859004909402830160c090810190925260a08301848152929390928492909184918401828280156104d95780601f106104ae576101008083540402835291602001916104d9565b820191906000526020600020905b8154815290600101906020018083116104bc57829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382015481526020016004820154815250509050919050565b610519610de9565b60005473ffffffffffffffffffffffffffffffffffffffff163314610558576040516000805160206115f88339815191528152600401610283906114aa565b600180548390811061056657fe5b906000526020600020906002020160408051908101604052908160008201548152602001600182018054806020026020016040519081016040528092919081815260200182805480156105d857602002820191906000526020600020905b8154815260200190600101908083116105c4575b5050505050815250509050919050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610627576040516000805160206115f88339815191528152600401610283906114aa565b600060038381548110151561063857fe5b60009182526020909120600460059092020101919091555050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610693576040516000805160206115f88339815191528152600401610283906114aa565b5060045490565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146106f6576040516000805160206115f88339815191528152600401610283906114aa565b6040805180820190915283815260208082018481526001805480820180835560009290925284517fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6600290920291820190815592518051929594610781937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf790930192910190610d01565b505050506000600180549050116107995760006107a1565b600154600019015b905060005b825181101561081357604080518082019091528281526001602082015283516002906000908690859081106107d757fe5b602090810291909101810151825281810192909252604001600020825181559101516001918201805460ff1916911515919091179055016107a6565b5092915050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610859576040516000805160206115f88339815191528152600401610283906114aa565b73ffffffffffffffffffffffffffffffffffffffff81161515610896576040516000805160206115f883398151915281526004016102839061149a565b6000805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff83161790556040517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16906108fb908390611486565b60405180910390a150565b61090e610e01565b60005473ffffffffffffffffffffffffffffffffffffffff16331461094d576040516000805160206115f88339815191528152600401610283906114aa565b610955610e01565b50506000908152600260209081526040918290208251808401909352805483526001015460ff1615159082015290565b6000805473ffffffffffffffffffffffffffffffffffffffff1633146109c5576040516000805160206115f88339815191528152600401610283906114aa565b6040805160c06020601f8a01819004028201810190925260a081018881526003928291908b908b9081908501838280828437600092018290525093855250505060208083018a9052604083018990526060830188905260809092018690528354600181018086559482529082902083518051600590930290910192610a4f92849290910190610d4c565b5060208201518160010155604082015181600201556060820151816003015560808201518160040155505050600060038054905011610a8f576000610a97565b600354600019015b979650505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610ae1576040516000805160206115f88339815191528152600401610283906114aa565b6000600483815481101515610af257fe5b60009182526020909120600660089092020101919091555050565b610b15610e18565b60005473ffffffffffffffffffffffffffffffffffffffff163314610b54576040516000805160206115f88339815191528152600401610283906114aa565b6004805483908110610b6257fe5b9060005260206000209060080201610100604051908101604052908160008201805480602002602001604051908101604052809291908181526020018280548015610bcc57602002820191906000526020600020905b815481526020019060010190808311610bb8575b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c6e5780601f10610c4357610100808354040283529160200191610c6e565b820191906000526020600020905b815481529060010190602001808311610c5157829003601f168201915b5050505050815260200160028201548152602001600382015481526020016004820154815260200160058201548152602001600682015481526020016007820154815250509050919050565b6000805473ffffffffffffffffffffffffffffffffffffffff163314610cfa576040516000805160206115f88339815191528152600401610283906114aa565b5060035490565b828054828255906000526020600020908101928215610d3c579160200282015b82811115610d3c578251825591602001919060010190610d21565b50610d48929150610e5e565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610d8d57805160ff1916838001178555610d3c565b82800160010185558215610d3c5791820182811115610d3c578251825591602001919060010190610d21565b60a06040519081016040528060608152602001600081526020016000815260200160008152602001600081525090565b60408051808201909152600081526060602082015290565b604080518082019091526000808252602082015290565b6101006040519081016040528060608152602001606081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b6103de91905b80821115610d485760008155600101610e64565b6000610e84823561158c565b9392505050565b6000601f82018313610e9c57600080fd5b8135610eaf610eaa82611530565b611509565b91508181835260208401935060208101905083856020840282011115610ed457600080fd5b60005b83811015610f005781610eea8882610fa2565b8452506020928301929190910190600101610ed7565b5050505092915050565b600080601f83018413610f1c57600080fd5b50813567ffffffffffffffff811115610f3457600080fd5b602083019150836001820283011115610f4c57600080fd5b9250929050565b6000601f82018313610f6457600080fd5b8135610f72610eaa82611551565b91508082526020830160208301858383011115610f8e57600080fd5b610f998382846115b5565b50505092915050565b6000610e8482356103de565b600060208284031215610fc057600080fd5b6000610fcc8484610e78565b949350505050565b600080600080600080600080610100898b031215610ff157600080fd5b883567ffffffffffffffff81111561100857600080fd5b6110148b828c01610e8b565b985050602089013567ffffffffffffffff81111561103157600080fd5b61103d8b828c01610f53565b975050604061104e8b828c01610fa2565b965050606061105f8b828c01610fa2565b95505060806110708b828c01610fa2565b94505060a06110818b828c01610fa2565b93505060c06110928b828c01610fa2565b92505060e06110a38b828c01610fa2565b9150509295985092959890939650565b60008060008060008060a087890312156110cc57600080fd5b863567ffffffffffffffff8111156110e357600080fd5b6110ef89828a01610f0a565b9650965050602061110289828a01610fa2565b945050604061111389828a01610fa2565b935050606061112489828a01610fa2565b925050608061113589828a01610fa2565b9150509295509295509295565b60006020828403121561115457600080fd5b6000610fcc8484610fa2565b6000806040838503121561117357600080fd5b600061117f8585610fa2565b925050602083013567ffffffffffffffff81111561119c57600080fd5b6111a885828601610e8b565b9150509250929050565b600080604083850312156111c557600080fd5b60006111d18585610fa2565b92505060206111a885828601610fa2565b60006111ee838361147d565b505060200190565b6111ff8161158c565b82525050565b60006112108261157f565b61121a8185611583565b935061122583611579565b60005b828110156112505761123b8683516111e2565b955061124682611579565b9150600101611228565b5093949350505050565b6111ff81611597565b600061126e8261157f565b6112788185611583565b93506112888185602086016115c1565b611291816115ed565b9093019392505050565b60006112a8601883611583565b7f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000815260200192915050565b60006112e1601783611583565b7f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000815260200192915050565b80516000906040840190611321858261147d565b50602083015184820360208601526113398282611205565b95945050505050565b805160a08084526000919084019061135a8282611263565b915050602083015161136f602086018261147d565b506040830151611382604086018261147d565b506060830151611395606086018261147d565b5060808301516113a8608086018261147d565b509392505050565b805160408301906113c1848261147d565b5060208201516113d4602085018261125a565b50505050565b8051610100808452600091908401906113f38282611205565b9150506020830151848203602086015261140d8282611263565b9150506040830151611422604086018261147d565b506060830151611435606086018261147d565b506080830151611448608086018261147d565b5060a083015161145b60a086018261147d565b5060c083015161146e60c086018261147d565b5060e08301516113a860e08601825b6111ff816103de565b6020810161149482846111f6565b92915050565b602080825281016114948161129b565b60208082528101611494816112d4565b60208082528101610e84818461130d565b60208082528101610e848184611342565b6040810161149482846113b0565b60208082528101610e8481846113da565b60208101611494828461147d565b60405181810167ffffffffffffffff8111828210171561152857600080fd5b604052919050565b600067ffffffffffffffff82111561154757600080fd5b5060209081020190565b600067ffffffffffffffff82111561156857600080fd5b506020601f91909101601f19160190565b60200190565b5190565b90815260200190565b60006114948261159c565b151590565b73ffffffffffffffffffffffffffffffffffffffff1690565b82818337506000910152565b60005b838110156115dc5781810151838201526020016115c4565b838111156113d45750506000910152565b601f01601f19169056fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a723058206cd3883b4d1bdcce716bc743f1493b51a09d86d2e0a45effaaa72a53f73c2ff46c6578706572696d656e74616cf50037", "source": "// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.2;\npragma experimental ABIEncoderV2;\n\nimport \"../../contracts/Trading/AgreementDB.sol\";\n\n/// @title The Database contract for the AgreementDB of Origin list\n/// @notice This contract only provides getter and setter methods and only its logic-contract is able to call the functions\ncontract MarketDB is AgreementDB {\n\n    /// @notice struct for gather all information\n    struct Demand {\n        string regionId;\n        uint dateTimeFrom;\n        uint dateTimeTo;\n        uint power;\n        uint matchedPower;\n    }\n\n    struct Supply {\n        uint[] assetId;\n        string regionId;\n        uint dateTimeFrom;\n        uint dateTimeTo;\n        uint power;\n        uint baselinePower;\n        uint matchedPower;\n        uint price;\n    }\n\n    /// @notice list with all created demands\n    Demand[] private allDemands;\n\n    /// @notice list with all supplies\n    Supply[] private allSupply;\n\n    /// @notice Constructor\n    /// @param _owner The owner of the contract\n    constructor(address _owner) public Owned(_owner) {}\n\n\t/// @notice creates a demand\n\t/// @return the demand-id\n    function createDemand\n    (\n        string calldata _regionId,\n        uint _dateTimeFrom,\n        uint _dateTimeTo,\n        uint _power,\n        uint _matchedPower\n    )\n        external\n        onlyOwner\n        returns (uint _demandId)\n    {\n        allDemands.push(Demand({\n            regionId: _regionId,\n            dateTimeFrom: _dateTimeFrom,\n            dateTimeTo: _dateTimeTo,\n            power: _power,\n            matchedPower: _matchedPower\n        }));\n        _demandId = allDemands.length>0?allDemands.length-1:0;\n    }\n\n\t/// @notice creates a supply\n    function createSupply\n    (\n        uint[] memory _assetId,\n        string memory _regionId,\n        uint _dateTimeFrom,\n        uint _dateTimeTo,\n        uint _power,\n        uint _baselinePower,\n        uint _matchedPower,\n        uint _price\n    )\n        public\n        onlyOwner\n        returns (uint _supplyId)\n    {\n        allSupply.push(Supply({\n            assetId: _assetId,\n            regionId: _regionId,\n            dateTimeFrom: _dateTimeFrom,\n            dateTimeTo: _dateTimeTo,\n            power: _power,\n            baselinePower: _baselinePower,\n            matchedPower: _matchedPower,\n            price: _price\n        }));\n        _supplyId = allSupply.length>0?allSupply.length-1:0;\n    }\n\n\t/// @notice funtion to retrieve the length of the demands-array\n\t/// @return the length of the allagreements-array\n    function getAllDemandListLength()\n        external\n        view\n        onlyOwner\n        returns (uint)\n    {\n        return allDemands.length;\n    }\n\n\t/// @notice funtion to retrieve the length of the supply-array\n\t/// @return the length of the allagreements-array\n    function getAllSupplyListLength()\n        external\n        view\n        onlyOwner\n        returns (uint)\n    {\n        return allSupply.length;\n    }\n\n\n\n\t/// @notice Returns a demand-struct\n\t/// @param _demandId id of a demand\n\t/// @return returns a demand-struct\n    function getDemand(uint _demandId)\n        external\n        view\n        onlyOwner\n        returns (Demand memory)\n    {\n        return allDemands[_demandId];\n    }\n\n\t/// @notice Returns a supply-struct\n\t/// @param _supplyId id of a supply\n\t/// @return returns a supply-struct\n    function getSupply(uint _supplyId)\n        external\n        view\n        onlyOwner\n        returns (Supply memory)\n    {\n        return allSupply[_supplyId];\n    }\n\n    function setDemandMatchedPower(\n        uint _demandId,\n        uint _matchedPower\n    )\n        external \n        onlyOwner\n    {\n       \n        Demand storage d = allDemands[_demandId];\n        d.matchedPower = _matchedPower;\n    }\n\n    function setSupplyMatchedPower(\n        uint _supplyId,\n        uint _matchedPower\n    )\n        external\n        onlyOwner\n    {\n        Supply storage s = allSupply[_supplyId];\n        s.matchedPower = _matchedPower;\n    }\n\n}\n", "networks": "{}" }
