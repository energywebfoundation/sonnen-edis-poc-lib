{ "abi": [{ "constant": false, "inputs": [{ "name": "_operator", "type": "address" }, { "name": "_from", "type": "address" }, { "name": "_tokenId", "type": "uint256" }, { "name": "_data", "type": "bytes" }], "name": "onERC721Received", "outputs": [{ "name": "", "type": "bytes4" }], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_from", "type": "address" }, { "name": "_to", "type": "address" }, { "name": "_entityId", "type": "uint256" }], "name": "safeTransferFrom", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_from", "type": "address" }, { "name": "_to", "type": "address" }, { "name": "_entityId", "type": "uint256" }, { "name": "_data", "type": "bytes" }], "name": "safeTransferFrom", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": true, "inputs": [], "name": "entityContract", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "inputs": [{ "name": "_entityContract", "type": "address" }], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }], "bytecode": "608060405234801561001057600080fd5b50604051602080610649833981018060405261002f9190810190610067565b60008054600160a060020a031916600160a060020a03929092169190911790556100b5565b6000610060825161009e565b9392505050565b60006020828403121561007957600080fd5b60006100858484610054565b949350505050565b6000610098826100a9565b92915050565b60006100988261008d565b600160a060020a031690565b610585806100c46000396000f3fe60806040526004361061005b577c01000000000000000000000000000000000000000000000000000000006000350463150b7a02811461006057806342842e0e14610096578063b88d4fde146100ab578063dc771a41146100be575b600080fd5b34801561006c57600080fd5b5061008061007b3660046102fa565b6100e0565b60405161008d91906104b4565b60405180910390f35b6100a96100a43660046102ad565b610101565b005b6100a96100b93660046102fa565b610192565b3480156100ca57600080fd5b506100d3610229565b60405161008d91906104c2565b60006040516100ee9061042d565b6040518091039020905095945050505050565b6000546040517f42842e0e00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff909116906342842e0e9061015b9086908690869060040161043e565b600060405180830381600087803b15801561017557600080fd5b505af1158015610189573d6000803e3d6000fd5b50505050505050565b6000546040517fb88d4fde00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff9091169063b88d4fde906101f0908890889088908890889060040161046e565b600060405180830381600087803b15801561020a57600080fd5b505af115801561021e573d6000803e3d6000fd5b505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b600061025182356104de565b9392505050565b600080601f8301841361026a57600080fd5b50813567ffffffffffffffff81111561028257600080fd5b60208301915083600182028301111561029a57600080fd5b9250929050565b60006102518235610527565b6000806000606084860312156102c257600080fd5b60006102ce8686610245565b93505060206102df86828701610245565b92505060406102f0868287016102a1565b9150509250925092565b60008060008060006080868803121561031257600080fd5b600061031e8888610245565b955050602061032f88828901610245565b9450506040610340888289016102a1565b935050606086013567ffffffffffffffff81111561035d57600080fd5b61036988828901610258565b92509250509295509295909350565b610381816104de565b82525050565b610381816104e9565b600061039c83856104d0565b93506103a9838584610535565b6103b283610541565b9093019392505050565b6103818161052a565b60006103d2602f836104d9565b7f6f6e455243373231526563656976656428616464726573732c6164647265737381527f2c75696e743235362c62797465732900000000000000000000000000000000006020820152602f0192915050565b61038181610527565b6000610438826103c5565b92915050565b6060810161044c8286610378565b6104596020830185610378565b6104666040830184610424565b949350505050565b6080810161047c8288610378565b6104896020830187610378565b6104966040830186610424565b81810360608301526104a9818486610390565b979650505050505050565b602081016104388284610387565b6020810161043882846103bc565b90815260200190565b919050565b60006104388261050e565b7fffffffff000000000000000000000000000000000000000000000000000000001690565b73ffffffffffffffffffffffffffffffffffffffff1690565b90565b6000610438826104de565b82818337506000910152565b601f01601f19169056fea265627a7a7230582044719ce83ec31ce104536f18ec2d97e96707ae19599008ecc16ad7c60e7a3e2f6c6578706572696d656e74616cf50037", "contractName": "TestReceiver", "deployedBytecode": "60806040526004361061005b577c01000000000000000000000000000000000000000000000000000000006000350463150b7a02811461006057806342842e0e14610096578063b88d4fde146100ab578063dc771a41146100be575b600080fd5b34801561006c57600080fd5b5061008061007b3660046102fa565b6100e0565b60405161008d91906104b4565b60405180910390f35b6100a96100a43660046102ad565b610101565b005b6100a96100b93660046102fa565b610192565b3480156100ca57600080fd5b506100d3610229565b60405161008d91906104c2565b60006040516100ee9061042d565b6040518091039020905095945050505050565b6000546040517f42842e0e00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff909116906342842e0e9061015b9086908690869060040161043e565b600060405180830381600087803b15801561017557600080fd5b505af1158015610189573d6000803e3d6000fd5b50505050505050565b6000546040517fb88d4fde00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff9091169063b88d4fde906101f0908890889088908890889060040161046e565b600060405180830381600087803b15801561020a57600080fd5b505af115801561021e573d6000803e3d6000fd5b505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b600061025182356104de565b9392505050565b600080601f8301841361026a57600080fd5b50813567ffffffffffffffff81111561028257600080fd5b60208301915083600182028301111561029a57600080fd5b9250929050565b60006102518235610527565b6000806000606084860312156102c257600080fd5b60006102ce8686610245565b93505060206102df86828701610245565b92505060406102f0868287016102a1565b9150509250925092565b60008060008060006080868803121561031257600080fd5b600061031e8888610245565b955050602061032f88828901610245565b9450506040610340888289016102a1565b935050606086013567ffffffffffffffff81111561035d57600080fd5b61036988828901610258565b92509250509295509295909350565b610381816104de565b82525050565b610381816104e9565b600061039c83856104d0565b93506103a9838584610535565b6103b283610541565b9093019392505050565b6103818161052a565b60006103d2602f836104d9565b7f6f6e455243373231526563656976656428616464726573732c6164647265737381527f2c75696e743235362c62797465732900000000000000000000000000000000006020820152602f0192915050565b61038181610527565b6000610438826103c5565b92915050565b6060810161044c8286610378565b6104596020830185610378565b6104666040830184610424565b949350505050565b6080810161047c8288610378565b6104896020830187610378565b6104966040830186610424565b81810360608301526104a9818486610390565b979650505050505050565b602081016104388284610387565b6020810161043882846103bc565b90815260200190565b919050565b60006104388261050e565b7fffffffff000000000000000000000000000000000000000000000000000000001690565b73ffffffffffffffffffffffffffffffffffffffff1690565b90565b6000610438826104de565b82818337506000910152565b601f01601f19169056fea265627a7a7230582044719ce83ec31ce104536f18ec2d97e96707ae19599008ecc16ad7c60e7a3e2f6c6578706572696d656e74616cf50037", "source": "// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it;\n\npragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\nimport \"../../contracts/Interfaces/ERC721TokenReceiver.sol\";\nimport \"../../contracts/Interfaces/ERC721.sol\";\n\ncontract TestReceiver is ERC721TokenReceiver {\n\n    ERC721 public entityContract;\n\n    constructor(ERC721 _entityContract) public {\n        entityContract = _entityContract;\n    }\n\n    /// @notice Handle the receipt of an NFT\n    /// @dev The ERC721 smart contract calls this function on the recipient\n    ///  after a `transfer`. This function MAY throw to revert and reject the\n    ///  transfer. Return of other than the magic value MUST result in the\n    ///  transaction being reverted.\n    ///  Note: the contract address is always the message sender.\n    /// @param _operator The address which called `safeTransferFrom` function\n    /// @param _from The address which previously owned the token\n    /// @param _tokenId The NFT identifier which is being transferred\n    /// @param _data Additional data with no specified format\n    /// @return `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`\n    ///  unless throwing\n    function onERC721Received(address _operator, address _from, uint256 _tokenId, bytes calldata _data) external returns(bytes4){\n        return bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"));\n    }\n\n    function safeTransferFrom(address _from, address _to, uint256 _entityId) external payable {\n\n        entityContract.safeTransferFrom(_from, _to, _entityId);\n    }\n\n    function safeTransferFrom(address _from, address _to, uint256 _entityId, bytes calldata _data) external payable {\n\n        entityContract.safeTransferFrom(_from, _to, _entityId, _data);\n    }\n}\n", "networks": "{}" }
