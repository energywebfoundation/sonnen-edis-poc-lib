{ "abi": [{ "constant": false, "inputs": [{ "name": "_assetRegistry", "type": "address" }, { "name": "_originLogicRegistry", "type": "address" }, { "name": "_originDB", "type": "address" }], "name": "init", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_originRegistry", "type": "address" }], "name": "update", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_new", "type": "uint256" }], "name": "setMaxMatcherPerCertificate", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "assetContractLookup", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "originLogicRegistry", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "maxMatcherPerCertificate", "outputs": [{ "name": "", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_newOwner", "type": "address" }], "name": "changeOwner", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_newOwner", "type": "address" }], "name": "LogChangeOwner", "type": "event" }], "bytecode": "608060405234801561001057600080fd5b5060008054600160a060020a03191633179055600a60035561075c806100376000396000f3fe608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638090691c116100785780638090691c1461014b57806381f5ec2d146101535780638da5cb5b1461016d578063a6f9dae114610175576100a5565b8063184b9559146100aa5780631c1b8772146100e457806328d333dc1461010a5780636c60800414610127575b600080fd5b6100e2600480360360608110156100c057600080fd5b50600160a060020a03813581169160208101358216916040909101351661019b565b005b6100e2600480360360208110156100fa57600080fd5b5035600160a060020a03166103c9565b6100e26004803603602081101561012057600080fd5b5035610544565b61012f6105b0565b60408051600160a060020a039092168252519081900360200190f35b61012f6105bf565b61015b6105ce565b60408051918252519081900360200190f35b61012f6105d4565b6100e26004803603602081101561018b57600080fd5b5035600160a060020a03166105e3565b600054600160a060020a031633146102025760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038316158015906102225750600160a060020a03821615155b80156102375750600154600160a060020a0316155b801561024c5750600254600160a060020a0316155b15156102a75760408051600080516020610711833981519152815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561030c5760408051600080516020610711833981519152815260206004820152601460248201527f6f726967696e44422063616e6e6f742062652030000000000000000000000000604482015290519081900360640190fd5b60018054600160a060020a0380851673ffffffffffffffffffffffffffffffffffffffff19928316179283905560028054878316931692909217909155604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b1580156103ac57600080fd5b505af11580156103c0573d6000803e3d6000fd5b50505050505050565b600054600160a060020a031633146104305760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156104955760408051600080516020610711833981519152815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b8772000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b1580156104fc57600080fd5b505af1158015610510573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0394909416939093179092555050565b600054600160a060020a031633146105ab5760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600355565b600254600160a060020a031690565b600154600160a060020a031690565b60035490565b600054600160a060020a031681565b600054600160a060020a0316331461064a5760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156106af5760408051600080516020610711833981519152815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b60008054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a15056fe08c379a000000000000000000000000000000000000000000000000000000000a165627a7a723058204823c65e5a57a123463f9b881769b7a5006a0d7e2d60460b0e0aeeefaaea427d0029", "contractName": "OriginContractLookup", "deployedBytecode": "608060405234801561001057600080fd5b50600436106100a5576000357c0100000000000000000000000000000000000000000000000000000000900480638090691c116100785780638090691c1461014b57806381f5ec2d146101535780638da5cb5b1461016d578063a6f9dae114610175576100a5565b8063184b9559146100aa5780631c1b8772146100e457806328d333dc1461010a5780636c60800414610127575b600080fd5b6100e2600480360360608110156100c057600080fd5b50600160a060020a03813581169160208101358216916040909101351661019b565b005b6100e2600480360360208110156100fa57600080fd5b5035600160a060020a03166103c9565b6100e26004803603602081101561012057600080fd5b5035610544565b61012f6105b0565b60408051600160a060020a039092168252519081900360200190f35b61012f6105bf565b61015b6105ce565b60408051918252519081900360200190f35b61012f6105d4565b6100e26004803603602081101561018b57600080fd5b5035600160a060020a03166105e3565b600054600160a060020a031633146102025760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038316158015906102225750600160a060020a03821615155b80156102375750600154600160a060020a0316155b801561024c5750600254600160a060020a0316155b15156102a75760408051600080516020610711833981519152815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561030c5760408051600080516020610711833981519152815260206004820152601460248201527f6f726967696e44422063616e6e6f742062652030000000000000000000000000604482015290519081900360640190fd5b60018054600160a060020a0380851673ffffffffffffffffffffffffffffffffffffffff19928316179283905560028054878316931692909217909155604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b1580156103ac57600080fd5b505af11580156103c0573d6000803e3d6000fd5b50505050505050565b600054600160a060020a031633146104305760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156104955760408051600080516020610711833981519152815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b8772000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b1580156104fc57600080fd5b505af1158015610510573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0394909416939093179092555050565b600054600160a060020a031633146105ab5760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600355565b600254600160a060020a031690565b600154600160a060020a031690565b60035490565b600054600160a060020a031681565b600054600160a060020a0316331461064a5760408051600080516020610711833981519152815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156106af5760408051600080516020610711833981519152815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b60008054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a15056fe08c379a000000000000000000000000000000000000000000000000000000000a165627a7a723058204823c65e5a57a123463f9b881769b7a5006a0d7e2d60460b0e0aeeefaaea427d0029", "source": "// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it;\n\npragma solidity ^0.5.0;\n\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"ew-utils-general-contracts/contracts/Interfaces/Updatable.sol\";\nimport \"ew-user-registry-contracts/contracts/Interfaces/UserContractLookupInterface.sol\";\nimport \"../contracts/Interfaces/OriginContractLookupInterface.sol\";\nimport \"ew-asset-registry-contracts/contracts/Interfaces/AssetContractLookupInterface.sol\";\n\n/// @title Contract for storing the current logic-contracts-addresses for the certificate of origin\ncontract OriginContractLookup is Owned, OriginContractLookupInterface {\n\n    Updatable private originLogicRegistryContract;\n    AssetContractLookupInterface private assetContractLookupContract;\n\n    uint private maxMatcherPerCertificateNumber;\n\n    /// @notice The constructor\n    constructor() Owned(msg.sender) public{\n        maxMatcherPerCertificateNumber = 10;\n    }\n\n\t/// @notice function to initialize the contracts, setting the needed contract-addresses\n\t/// @param _assetRegistry the asset Registry\n\t/// @param _originLogicRegistry the origin Logic Registry\n\t/// @param _originDB the origin DB\n    function init(\n        AssetContractLookupInterface _assetRegistry,\n        Updatable _originLogicRegistry,\n        address _originDB\n    )\n        external\n        onlyOwner\n    {\n        require(\n            address(_assetRegistry) != address(0)\n            && address(_originLogicRegistry) != address(0)\n            && address(originLogicRegistryContract) == address(0)\n            && address(assetContractLookupContract) == address(0),\n            \"already initialized\"\n        );\n\n        require(_originDB != address(0), \"originDB cannot be 0\");\n\n        originLogicRegistryContract = _originLogicRegistry;\n        assetContractLookupContract = _assetRegistry;\n\n        originLogicRegistryContract.init(_originDB, msg.sender);\n    }\n\n\t/// @notice set the amount of maximal matcher per certificate\n\t/// @param _new the new amount\n    function setMaxMatcherPerCertificate(uint _new)\n        external\n        onlyOwner\n    {\n        maxMatcherPerCertificateNumber = _new;\n    }\n\n\n\t/// @notice function to update one or more logic-contracts\n\t/// @param _originRegistry address of the new user-registry-logic-contract\n    function update(\n        Updatable _originRegistry\n    )\n        external\n        onlyOwner\n    {\n        require(address(_originRegistry)!= address(0), \"update: cannot set to 0\");\n        originLogicRegistryContract.update(address(_originRegistry));\n        originLogicRegistryContract = _originRegistry;\n    }\n\n\t/// @notice gets the origin logic registry\n\t/// @return the origin logic registry\n    function originLogicRegistry() external view returns (address){\n        return address(originLogicRegistryContract);\n    }\n\n\t/// @notice gets the asset contract lookup\n\t/// @return the asset contract lookup\n    function assetContractLookup() external view returns (address){\n        return address(assetContractLookupContract);\n    }\n\n\t/// @notice gets the maximal amount of matcher per certificate\n\t/// @return the maximal amount of matcher per certificate\n    function maxMatcherPerCertificate() external view returns (uint){\n        return maxMatcherPerCertificateNumber;\n    }\n\n\n}\n", "networks": "{}" }
