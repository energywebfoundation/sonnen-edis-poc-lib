{ "abi": [{ "constant": true, "inputs": [], "name": "marketLogicRegistry", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_assetRegistry", "type": "address" }, { "name": "_marketLogicRegistry", "type": "address" }, { "name": "_marketDB", "type": "address" }], "name": "init", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [{ "name": "_marketRegistry", "type": "address" }], "name": "update", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [], "name": "assetContractLookupContract", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "assetContractLookup", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "owner", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "_newOwner", "type": "address" }], "name": "changeOwner", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "name": "_newOwner", "type": "address" }], "name": "LogChangeOwner", "type": "event" }], "bytecode": "608060405234801561001057600080fd5b5060008054600160a060020a0319163317905561071d806100326000396000f3fe608060405234801561001057600080fd5b506004361061009a576000357c01000000000000000000000000000000000000000000000000000000009004806328df32251161007857806328df3225146101235780636c6080041461012b5780638da5cb5b14610133578063a6f9dae11461013b5761009a565b8063019c42381461009f578063184b9559146100c35780631c1b8772146100fd575b600080fd5b6100a7610161565b60408051600160a060020a039092168252519081900360200190f35b6100fb600480360360608110156100d957600080fd5b50600160a060020a038135811691602081013582169160409091013516610170565b005b6100fb6004803603602081101561011357600080fd5b5035600160a060020a03166103d4565b6100a7610573565b6100a7610582565b6100a7610591565b6100fb6004803603602081101561015157600080fd5b5035600160a060020a03166105a0565b600154600160a060020a031690565b600054600160a060020a031633146101e957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038316158015906102095750600160a060020a03821615155b801561021e5750600154600160a060020a0316155b80156102335750600254600160a060020a0316155b15156102a057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561031757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f6d61726b657444422063616e6e6f742062652030000000000000000000000000604482015290519081900360640190fd5b60018054600160a060020a0380851673ffffffffffffffffffffffffffffffffffffffff19928316179283905560028054878316931692909217909155604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b1580156103b757600080fd5b505af11580156103cb573d6000803e3d6000fd5b50505050505050565b600054600160a060020a0316331461044d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156104c457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b8772000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b15801561052b57600080fd5b505af115801561053f573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0394909416939093179092555050565b600254600160a060020a031681565b600254600160a060020a031690565b600054600160a060020a031681565b600054600160a060020a0316331461061957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561069057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b60008054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a15056fea165627a7a723058204b6005ca787b4b3da4a83f543b1525641984c21dbce871c18cc68ac8981d903d0029", "contractName": "MarketContractLookup", "deployedBytecode": "608060405234801561001057600080fd5b506004361061009a576000357c01000000000000000000000000000000000000000000000000000000009004806328df32251161007857806328df3225146101235780636c6080041461012b5780638da5cb5b14610133578063a6f9dae11461013b5761009a565b8063019c42381461009f578063184b9559146100c35780631c1b8772146100fd575b600080fd5b6100a7610161565b60408051600160a060020a039092168252519081900360200190f35b6100fb600480360360608110156100d957600080fd5b50600160a060020a038135811691602081013582169160409091013516610170565b005b6100fb6004803603602081101561011357600080fd5b5035600160a060020a03166103d4565b6100a7610573565b6100a7610582565b6100a7610591565b6100fb6004803603602081101561015157600080fd5b5035600160a060020a03166105a0565b600154600160a060020a031690565b600054600160a060020a031633146101e957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038316158015906102095750600160a060020a03821615155b801561021e5750600154600160a060020a0316155b80156102335750600254600160a060020a0316155b15156102a057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f616c726561647920696e697469616c697a656400000000000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561031757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f6d61726b657444422063616e6e6f742062652030000000000000000000000000604482015290519081900360640190fd5b60018054600160a060020a0380851673ffffffffffffffffffffffffffffffffffffffff19928316179283905560028054878316931692909217909155604080517ff09a401600000000000000000000000000000000000000000000000000000000815284831660048201523360248201529051929091169163f09a40169160448082019260009290919082900301818387803b1580156103b757600080fd5b505af11580156103cb573d6000803e3d6000fd5b50505050505050565b600054600160a060020a0316331461044d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a03811615156104c457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f7570646174653a2063616e6e6f742073657420746f2030000000000000000000604482015290519081900360640190fd5b600154604080517f1c1b8772000000000000000000000000000000000000000000000000000000008152600160a060020a03848116600483015291519190921691631c1b877291602480830192600092919082900301818387803b15801561052b57600080fd5b505af115801561053f573d6000803e3d6000fd5b50506001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0394909416939093179092555050565b600254600160a060020a031681565b600254600160a060020a031690565b600054600160a060020a031681565b600054600160a060020a0316331461061957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f6d73672e73656e646572206973206e6f74206f776e6572000000000000000000604482015290519081900360640190fd5b600160a060020a038116151561069057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f307830206173206f776e6572206e6f7420616c6c6f7765640000000000000000604482015290519081900360640190fd5b60008054600160a060020a03831673ffffffffffffffffffffffffffffffffffffffff19909116811790915560408051918252517f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af169181900360200190a15056fea165627a7a723058204b6005ca787b4b3da4a83f543b1525641984c21dbce871c18cc68ac8981d903d0029", "source": "// Copyright 2018 Energy Web Foundation\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector,\n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH; Martin Kuechler, martin.kuchler@slock.it; Heiko Burkhardt, heiko.burkhardt@slock.it\n\npragma solidity ^0.5.2;\n\nimport \"ew-utils-general-contracts/contracts/Msc/Owned.sol\";\nimport \"ew-utils-general-contracts/contracts/Interfaces/Updatable.sol\";\nimport \"ew-user-registry-contracts/contracts/Interfaces/UserContractLookupInterface.sol\";\nimport \"../contracts/Interfaces/MarketContractLookupInterface.sol\";\nimport \"ew-asset-registry-contracts/contracts/Interfaces/AssetContractLookupInterface.sol\";\n\n/// @title Contract for storing the current logic-contracts-addresses for the certificate of origin\ncontract MarketContractLookup is Owned, MarketContractLookupInterface {\n\n    Updatable private marketLogicRegistryContracts;\n    AssetContractLookupInterface public assetContractLookupContract;\n\n    /// @notice The constructor\n    constructor() Owned(msg.sender) public{ }\n\n\t/// @notice function to initialize the contracts, setting the needed contract-addresses\n\t/// @param _assetRegistry the asset Registry\n\t/// @param _marketLogicRegistry the market Logic Registry\n\t/// @param _marketDB the market D B\n    function init(\n        AssetContractLookupInterface _assetRegistry,\n        Updatable _marketLogicRegistry,\n        address _marketDB\n    )\n        external\n        onlyOwner\n    {\n        require(    \n            address(_assetRegistry) != address(0x0)\n            && address(_marketLogicRegistry) != address(0x0)\n            && address(marketLogicRegistryContracts) == address(0x0) \n            && address(assetContractLookupContract) == address(0x0),\n            \"already initialized\"\n        );\n        require(address(_marketDB) != address(0x0), \"marketDB cannot be 0\");\n\n        marketLogicRegistryContracts = _marketLogicRegistry;\n        assetContractLookupContract = _assetRegistry;\n\n        marketLogicRegistryContracts.init(_marketDB, msg.sender);\n    }\n\n\n\t/// @notice function to update one or more logic-contracts\n\t/// @param _marketRegistry address of the new user-registry-logic-contract\n    function update(\n        Updatable _marketRegistry\n    )\n        external\n        onlyOwner\n    {\n        require(address(_marketRegistry)!= address(0x0), \"update: cannot set to 0\");\n        marketLogicRegistryContracts.update(address(_marketRegistry));\n        marketLogicRegistryContracts = _marketRegistry;\n    }\n\n\t/// @notice marketlogic registry\n\t/// @return the marketlogic-registry\n    function marketLogicRegistry() external view returns (address){\n        return address(marketLogicRegistryContracts);\n    }\n\n\t/// @notice asset contract lookup\n\t/// @return the assetregistry\n    function assetContractLookup() external view returns (address){\n        return address(assetContractLookupContract);\n    }\n\n}", "networks": "{}" }
